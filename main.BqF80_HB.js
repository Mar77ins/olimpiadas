function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["js/preGameActions.C_v-nzzS.js","js/vendor.2DngxICs.js","js/@sentry/vue.DsIU7G7R.js","js/useAccommodationWidgetsHelper.CKN2nQro.js","js/useSearch.CNZh5lVO.js","js/LoadingInstructions.D9TiuyBU.js","js/AuthModal.D2H26OlT.js","css/AuthModal.Bg7qb6Tq.css","js/GroupJoinModal.ChtKyT4t.js","css/GroupJoinModal.CQ21NAne.css","js/ClassCodeModal.auLC0KSr.js","css/ClassCodeModal.CgsTbKho.css","js/GameAssignedNotifModal.DiTTshnm.js","css/GameAssignedNotifModal.B3eD4dhW.css","js/ChallengeReplayNotifModal.Bx0-RP04.js","css/ChallengeReplayNotifModal.6vgnJkzu.css","js/ImageZoomPreview.hO31dQCy.js","css/ImageZoomPreview.Dhv4-i3y.css","js/AvatarShop.DexC6nUc.js","js/index-cd67feed.CQS6bNxi.js","js/HowTo.CjvguVwC.js","js/QCoin.Dr5MkdPD.js","css/HowTo.DVSJH44m.css","js/rive.D5hs3u0j.js","js/QCoinButton.DHyB33rF.js","css/QCoinButton.Cy1davhl.css","js/Sound.BvJFxMVh.js","js/DownloadAvatar.B4GBFnH-.js","css/DownloadAvatar.j6nuFG_M.css","css/AvatarShop.Bn3m609y.css","js/Featured.BE5o-Qqd.js","js/MyAvatar.vue_vue_type_script_setup_true_lang.Ci6qT3Em.js","js/SpeechReadAloud.D7kIO_3y.js","css/Featured.JR8h9fcK.css","js/Home.DnpeXu8Q.js","js/ProceedGame.CyS5v4lV.js","js/PreGameErrorMessage.CO6ps41U.js","css/ProceedGame.Ax3a6t8l.css","js/Button.DMBZNa9f.js","css/Button.D-iGgpY4.css","js/Carousel.CBvZHUGf.js","css/Carousel.CLvyYcaZ.css","js/ErrorStates.BgIirPoW.js","js/GameCards.4hNPlciv.js","js/CurvedEdge.BhfmHWu3.js","css/CurvedEdge.B8JzIu-s.css","js/FeaturedUtils.D4jHjRB_.js","css/GameCards.D40IWYrN.css","js/QuizzesList.C82hy3yc.js","css/QuizzesList.e-NOH9AL.css","js/ConvertToTeacherModal.VTBCR-pV.js","js/FooterLinks.B5bbZ-Eh.js","css/ConvertToTeacherModal.DaExFsjX.css","js/OnboardingUtils.BtgaxXm2.js","css/Home.C1JHS3dR.css","js/Landing.C6JLrzP2.js","css/Landing.B2c1ZdIK.css","js/Home.Cz6KMyUk.js","js/QVideo.BTcoylb9.js","js/Activities.C2qi9lbu.js","css/Activities.DKGQm1X3.css","css/Home.BgRiuHKk.css","js/SearchPage.u7NaPFce.js","css/SearchPage.Bh5MuahY.css","js/Groups.xMA1_bB4.js","js/Activity.RXmpzlFU.js","css/Activity.BIc9LizP.css","js/ActivitySubRouteContainer.B-VX0Wi8.js","css/ActivitySubRouteContainer.CjDDkl_N.css","js/AppSettings.BOIgZAXv.js","js/AvatarFactory.Cp8HqEWo.js","js/ToggleButton.D_Ep30SB.js","css/ToggleButton.BO1EBuRK.css","js/useUpdateUserLanguage.DsYg-KeY.js","css/AppSettings.EYV3NWSN.css","js/RecommendationsPage.BHkxZEES.js","css/RecommendationsPage.DvmtZkUz.css","js/EventQuizzesPage.BpICvtJB.js","css/EventQuizzesPage.BEh9m9qw.css","js/Classes.g7Lg-YBg.js","css/Classes.C-pZ81B1.css","js/InGameApp.CiKuapT0.js","js/useFocusMode.DnGj-6pQ.js","js/useScreenfull.CZkmGjnT.js","css/useFocusMode.CYTgKtW_.css","js/DocumentScroll.ClarSd8h.js","css/InGameApp.ezfL-DQM.css","js/PreGameScreen.CwRu_tcL.js","css/PreGameScreen.BP07PaSp.css","js/PreGameSubRouteContainer.CANk8eQM.js","js/AvatarPicker.CMPWhwMC.js","css/AvatarPicker.B71oJerR.css","css/PreGameSubRouteContainer.DLPbSKHk.css","js/EmbedQuiz.DtHRob31.js","css/EmbedQuiz.8SrO2Ydu.css","js/CoursesDetails.Dzf_Z-WN.js","js/QuizCard.CECXqjWH.js","css/QuizCard.CcQraBnS.css","js/Shop.DXqviS4-.js","css/Shop.AbbGj-CL.css","js/MicrosoftTeams.min.tPMZbVbE.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var np=Object.defineProperty;var ap=(e,t,s)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var qe=(e,t,s)=>(ap(e,typeof t!="symbol"?t+"":t,s),s);import{n as op,l as Ci,v as ip,m as Fc,u as rp,o as T,p as Ke,q as _s,t as ft,w as za,x as da,y as od,z as Le,A as Ms,B as Cr,C as id,D as Ln,E as cp,F as en,G as ot,H as up,I as ys,J as Os,K as ca,L as wr,M as Pt,N as p,O as _c,P as An,Q as Je,R as wn,T as lp,U as dp,V as mp,W as pp,X as Ea,Y as Yt,Z as gp,_ as fp,$ as _p,a0 as hp,a1 as rd,a2 as xt,a3 as wt,a4 as Fo,a5 as hc,a6 as wi,a7 as Ep,a8 as vp,a9 as Gi,aa as Ap,ab as Qs,ac as Kn,ad as No,ae as ur,af as C,ag as Jt,ah as Yn,ai as Fs,aj as xu,ak as Bc,al as Do,am as lr,an as oa,ao as cd,ap as Hc,aq as wo,ar as Tp,as as ud,at as Qu,au as Ec,av as qi,aw as ld,ax as yp,ay as dd,az as As,aA as md,aB as Ip,aC as Sp,aD as Rp,aE as Cp,aF as dr,aG as Oi,aH as vc,aI as wp,aJ as Nt,aK as pd,aL as Fu,aM as Ee,aN as At,aO as ze,aP as Is,aQ as Vs,aR as Ac,aS as Bo,aT as Ho,aU as jo,aV as Da,aW as mr,aX as ua,aY as Tc,aZ as xs,a_ as pr,a$ as Vo,b0 as ji,b1 as gd,b2 as gr,b3 as yc,b4 as Op,b5 as kp,b6 as Or,b7 as Pp,b8 as jc,b9 as bp,ba as yo,bb as Np,bc as Bu,bd as fd,be as Ka,bf as Ui,bg as kr,bh as hi,bi as Dp,bj as Lp,bk as zp,bl as Mp,bm as aa,bn as ta,bo as _d,bp as Gp,bq as qp,br as Vc,bs as Up,bt as xp,bu as Qp,bv as Fp,bw as Bp,bx as Hp,by as jp,bz as Vp,bA as $p,bB as Wp,bC as Yp,bD as Kp,bE as Jp,bF as Xp,bG as Zp,bH as eg,bI as tg,bJ as sg,bK as ng,bL as ag}from"./vendor.2DngxICs.js";import{$ as ka,a0 as og,K as ig,X as rg,a1 as cg,a2 as ug}from"./@sentry/vue.DsIU7G7R.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d2a765b4-3213-43af-a43e-9f5513b870c1",e._sentryDebugIdIdentifier="sentry-dbid-d2a765b4-3213-43af-a43e-9f5513b870c1")}catch{}})();const lg=["Error in loading sound","Failed to fetch","NetworkError","<unknown>","Non-Error promise rejection captured","NS_ERROR_FAILURE","undefined is not an object (evaluating 'a.M')","PerformanceObserverInit.entryTypes","window.mobileAPI.closeCurrentPanel","EditorInternalError","node_modules/","No available storage method found"];function dg(e){return["console","dom","xhr","fetch","beacon","history","navigation"].includes(e.category||"")?null:e}const hd=[/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/\/(gtm|ga|analytics|hotjar)\.js/i];function mg(e){if(e.type==="resource"){const t=e.resource.url;return hd.some(s=>s.test(t))}}const Hr={ignoredErrors:lg,beforeBreadcrumb:dg,denyUrls:hd,shouldDiscard:mg};function pg(){return typeof window<"u"?window.crypto:op.webcrypto}function gg(){return Math.round(new Date().getTime()/1e3).toString(16)}function fg(){return new Date().getTime()/1e3}function Hu(e){const t=new Uint8Array(e);pg().getRandomValues(t);let s="";for(let n=0;n<t.length;n++)s+=t[n].toString(16);return s.substring(0,e)}function _g(e){return`Root=${e.traceId};Parent=${e.id};Sampled=1`}function hg(){const e={traceId:`1-${gg()}-${Hu(24)}`,id:Hu(16),startTime:fg()};return _g(e)}function Eg(e,t){(e.message.includes("Failed to fetch dynamically imported module")||e.message.includes("Importing a module script failed"))&&(t!=null&&t.fullPath?window.location.href=t.fullPath:window.location.reload())}const vg=["auth","deactivate","facebook/state","logout","user/checkPhoneNumberAvail","user/checkUserEmailAvail","user/checkUserNameAvail","user/resetPassword","user/resetPasswordLink","user/setPassword","login","v1/user/"],Ag=["_geo/location","activate-account","api/v1/isUserLoggedIn","api/v1/school","api/v1/updateIntentCopy","api/v1/worksheetRecommendations/node","api/v1/worksheets","certifications/contests","certifications/gameChanger","certifications/gameChangerWithoutGameId","certifications/generic","contests","game/offline-relay/","gcse/share","getUploadURL","i18n/","naverfa4060244ab727146abb994306dffa41.html","oembed","paper-mode-admin/rosters","paper-mode/rosters","paper-mode/rosters/","profile/share","qdash","quizPageRec","reactivate-account","referral/signup","referrals/","rpc/contest","rpc/gameChangerBadgeEligibilityUpdate","rpc/paperMode","rpc/user/mark-activation","schools/","send-deactivation-link","send-reactivation-link","send-reactivation-otp","signup/","tos","translations-csv/","translations/","translations/create","translations/delete","translations/generate","translations/languages/","translations/languages/create","translations/languages/names","translations/master-strings/delete","translations/strings","translations/update","translations/updateTranslatedTo","trial/giftsuper","trial/giftsuper/exists","trial/referral","user/fromtoken","user/gameChangerBadgeShowProfileUpdate","user/recommendationMeta","user/refer","user/userData","user/referral-campaigns","user/referral/activation","user/share","yandex_dce5bebfc626b551.html","embed/quiz/","embed/presentation/","embed/lesson/","search/v2/local"],Tg=["_support/games","_support/games/restore","_support/getUserGames","_support/user/games/restore","admin/reports","backup-ping/games","game","game/","games","img/memegen/meme_templates/full/","join","join-game","list-player-attempts","play","player-attempts","player-report-data","player-report-history","playerGames/","playerProfileV2/completed","playerProfileV2/quizAttempts","savexls/","students/game/","students/running","students/running/","user/setAvatar","userAddon/update","userAddons/","v2/game","v4/students/game/","v4/students/running"],yg=["paid-org","org-invite","paid-org-migration","paid-org-migration-internal","organization","snd","group","groups","v2/groups","user/groups","team","teams","lead","common-assessment","class","lms","tags","v1/orgContentRecommend","v1/organization/teachers","v1/recommendation/snd/teachers","v1/fetchOrgsInDistrict","v2/orgContentRecommend","v1/recommendHostedContent","v2/recentOrgContentRecommend","v2/authorizedSchoolContentRecommend","v2/authorizedDistrictContentRecommend","v1/districtContentRecommend","v2/organization/teachers","search/v1","resource-permissions","learning-track"],ui={...vg.reduce((e,t)=>(e[t]={cName:"authMain"},e),{}),...Tg.reduce((e,t)=>(e[t]={cName:"gameMain"},e),{}),...Ag.reduce((e,t)=>(e[t]={cType:"_igapi"},e),{}),...yg.reduce((e,t)=>(e[t]={cName:"schoolMain"},e),{})};function Ig(e){try{e.url&&e.url.startsWith("/")&&(e.url=e.url.slice(1));const t=new URL((e.baseURL?`${e.baseURL}/`:"")+(e.url||"")),s=t.pathname.split("/")[1],n=t.pathname.split("/")[2],a=t.pathname.split("/").slice(3).join("/");let o=s,i=n;if((n==="main"||n==="e2eAPI")&&s==="_api"){for(const r in ui)if(a.startsWith(r)){const c=a.slice(0,r.length);"cType"in ui[c]&&(o=ui[c].cType),"cName"in ui[c]&&(i=ui[c].cName)}}e.baseURL?(e.baseURL=e.baseURL.replace(s,o),e.baseURL=e.baseURL.replace(n,i)):(e.url=e.url.replace(s,o),e.url=e.url.replace(n,i))}catch{return e}return e}const Sg="https://fnl.quizizz.com/_anserverv2/main/api/v1",Rg="https://dev-services-2.quizizz.com/_anserverv2/main/api/v1",ki="QuizizzAnalytics",nr="metadata";var $o=(e=>(e.click="click",e.impression="impression",e.modalView="modalView",e.hover="hover",e.unknown="unknown",e))($o||{});const fs={environment:"production",setEnvironment(e){this.environment=e},getEnvironment(){return this.environment},screenType:"desktop",setScreenType(e){this.screenType=e},getScreenType(){return this.screenType},locale:"en-US",setLocale(e){this.locale=e},getLocale(){return this.locale},country:"US",setCountry(e){this.country=e},getCountry(){return this.country},region:"",setRegion(e){this.region=e},getRegion(){return this.region},userId:"",setUserId(e){this.userId=e},getUserId(){return this.userId},subPlanId:"",setSubPlanId(e){this.subPlanId=e},getSubPlanId(){return this.subPlanId},platform:"web",setPlatform(e){this.platform=e},getPlatform(){return this.platform},featureFlags:{},setFeatureFlags(e){this.featureFlags=e},getFeatureFlags(){return this.featureFlags}};function Cg(e){e.environment&&fs.setEnvironment(e.environment),e.locale&&fs.setLocale(e.locale),e.screenType&&fs.setScreenType(e.screenType),e.country&&fs.setCountry(e.country),e.region&&fs.setRegion(e.region),e.userId&&fs.setUserId(e.userId),e.subPlanId&&fs.setSubPlanId(e.subPlanId),e.platform&&fs.setPlatform(e.platform)}function wg(){if(typeof window>"u")return()=>{};window.addEventListener("commonStoreUpdate",e=>{Object.entries(e.detail).forEach(([t,s])=>{fs[t]=s})})}function Og(e){typeof window>"u"||window.dispatchEvent(new CustomEvent("commonStoreUpdate",{detail:e}))}function Ed(){const e=fs.getEnvironment();return e==="production"||e==="prod"}function kg(){return Ed()?Sg:Rg}function vd(){return typeof window>"u"}function Ic(e){var t;return((t=e.meta)==null?void 0:t.struct)||"UNKNOWN"}function Ad(e){return Object.entries(e).reduce((t,[s,n])=>(Object.keys(n).includes("defaultValue")?t[s]=e[s].defaultValue:t[s]=n,t),{})}class Pg{constructor(){qe(this,"storage");this.storage={}}getItem(t){const s=this.storage[t];return s||null}setItem(t,s){this.storage[t]=s}removeItem(t){delete this.storage[t]}clear(){this.storage={}}key(t){return Object.keys(this.storage)[t]||null}get length(){return Object.keys(this.storage).length}}class bg{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){}get length(){return 0}}const Td=vd()?bg:Pg;class $c{constructor(t){qe(this,"storage");qe(this,"isProd");this.isProd=t,$c.isAvailable()?this.storage=window.localStorage:this.storage=new Td}static isAvailable(){return!!(typeof window<"u"&&window.localStorage)}getItem(t,s={parseJSON:!0}){try{const n=this.storage.getItem(t);return s.parseJSON?JSON.parse(n)??{}:n}catch(n){this.isProd()||console.error(`Error at LocalStorage "getItem" in q-analytics: for key(${t})`,n)}}setItem(t,s,n={storeAsJSON:!0}){try{const a=n.storeAsJSON?JSON.stringify(s):s;return this.storage.setItem(t,a)}catch(a){this.isProd()||console.error(`Error at LocalStorage "setItem" in q-analytics: for key(${t})`,a)}}removeItem(t){return this.storage.removeItem(t)}clear(){return this.storage.clear()}}const Pi=new $c(()=>Ed()),Wc=1e3*60*30,ar=new Td;function Ng(){Pi.setItem(ki,{sessionId:ip(),expiry:Date.now()+Wc,startingReferrer:document.referrer,lastActivity:Date.now()})}function Yc(){let e=Pi.getItem(ki);(!e||Ci(e)||Date.now()-e.lastActivity>Wc)&&(Ng(),e=Pi.getItem(ki)),ar.setItem(nr,e)}function fr(){let e=ar.getItem(nr);(!e||Ci(e)||Date.now()-e.lastActivity>Wc)&&(Yc(),e=ar.getItem(nr));const t={sessionId:e.sessionId,expiry:Date.now()+1e3*60*30,startingReferrer:e.startingReferrer,lastActivity:Date.now()};return ar.setItem(nr,t),t}function Dg(){window.addEventListener("beforeunload",()=>{Pi.setItem(ki,fr())})}function Lg(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?Yc():Pi.setItem(ki,fr())})}var nd;const _r={getSessionId(){var e;return(e=fr())==null?void 0:e.sessionId},startingReferrer:(nd=fr())==null?void 0:nd.startingReferrer,getStartingReferrer(){return this.startingReferrer},referrerSourceName:"",setReferrerSourceName(e){this.referrerSourceName=e},getReferrerSourceName(){return this.referrerSourceName}},ju={fullPath:"",matched:[],name:"",path:"",params:{},query:{},hash:"",href:"",meta:{}},Vu={previousRoute:ju,currentRoute:ju,setPreviousRoute(e){this.previousRoute=e},setCurrentRoute(e){this.currentRoute=e},getPreviousRoute(){return this.previousRoute},getCurrentRoute(){return this.currentRoute}};class or{static get(t,s){const n={};return!s&&vd()?"":typeof document>"u"?this.getFromRequest(t,s):(document.cookie.split(";").forEach(a=>{const[o,i]=a.split("=");n[o.trim()]=i}),n[t])}static getFromRequest(t,s){var a;if(!((a=s.headers)!=null&&a.cookie))return null;const n={};return s.headers.cookie.split(";").forEach(o=>{const[i,r]=o.split("=");n[i.trim()]=r}),n[t]}static set(t,s,n){let a=new Date;a=new Date(a.getTime()+1e3*t);const o=`${s} = ${n}; expires=' + ${a.toUTCString()}; path=/;`;document.cookie=o}}class zg{constructor(t){qe(this,"getBaseUrl");this.getBaseUrl=t}getEventEndpoint(t){return t==="frontend"?`${this.getBaseUrl()}/frontend`:t==="pageview3"?`${this.getBaseUrl()}/pv3`:t==="webflow_pageview3"?`${this.getBaseUrl()}/webflow/pv3`:t==="voyagemath_webflow_pageview3"?`${this.getBaseUrl()}/voyagemath/webflow/pv3`:t==="voyagemath_pageview3"?`${this.getBaseUrl()}/voyagemath/pv3`:`${this.getBaseUrl()}/other2`}sendUsingBeacon(t,s){const n=JSON.stringify(t);navigator.sendBeacon(this.getEventEndpoint(s),n)}async sendUsingFetch(t,s){const n=JSON.stringify(t);try{await fetch(this.getEventEndpoint(s),{method:"POST",headers:{"Content-Type":"application/json"},body:n,keepalive:!1})}catch(a){console.error("Error while sending analytics event data:",a)}}async logFrontendEvent(t){return"sendBeacon"in navigator?this.sendUsingBeacon(t,"frontend"):this.sendUsingFetch(t,"frontend")}logPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"pageview3"):this.sendUsingFetch(t,"pageview3")}logWebflowPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"webflow_pageview3"):this.sendUsingFetch(t,"webflow_pageview3")}logVMPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"voyagemath_pageview3"):this.sendUsingFetch(t,"voyagemath_pageview3")}logVMWebflowPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"voyagemath_webflow_pageview3"):this.sendUsingFetch(t,"voyagemath_webflow_pageview3")}}const qa=new zg(()=>kg());function Pr(e={}){const t=window.screen.width,s=window.screen.height,n=window.devicePixelRatio,a=navigator.connection,o=(a==null?void 0:a.effectiveType)||"unknown",i=window.location.href,r=Vu.getCurrentRoute(),c=Vu.getPreviousRoute(),u=Ad(fs.getFeatureFlags());return{eventName:e.eventName||"UnknownEvent",eventType:e.eventType||$o.unknown,page:{url:i,path:Ic(r)??null,name:(r==null?void 0:r.name)||"UnknownPage",params:r!=null&&r.query&&!Ci(r.query)?r.query:null},referrer:{url:(c==null?void 0:c.fullPath)||null,path:Ic(c)||null,name:(c==null?void 0:c.name)||"UnknownPage"},deviceId:or.get("quizizz_uid")||"localhost",deviceTime:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),sessionId:_r.getSessionId(),country:fs.getCountry()||null,userId:fs.getUserId()||null,subPlanId:fs.getSubPlanId()||null,locale:fs.getLocale(),platform:fs.getPlatform(),screen:{width:t,height:s,density:n},featureFlags:u,effectiveNetworkType:o,params:Ci(e.params)?null:e.params}}function Mg(e,t){const s=Pr({eventName:e,eventType:$o.click,params:t});qa.logFrontendEvent(s)}function Gg(e,t){const s=Pr({eventName:e,eventType:$o.hover,params:t});qa.logFrontendEvent(s)}function qg(e,t){function s(){let n=null;if(typeof t.ele=="string"?n=document.querySelector(t.ele):n=t.ele,!n)return;const a=new IntersectionObserver(o=>{o.forEach(i=>{if(i.isIntersecting){const r=Pr({eventName:e,eventType:$o.impression,params:t.params});qa.logFrontendEvent(r),t.triggerOnce&&a.disconnect()}})},{root:null,rootMargin:t.rootMargin??"0px",threshold:t.eleThreshold});a.observe(n)}s()}function Ug(e,t){const s=Pr({eventName:e,eventType:$o.modalView,params:t});qa.logFrontendEvent(s)}function xg(e){const t=new URL(window.location.href),s={};return t.searchParams.forEach((n,a)=>{s[a]=n}),s}function Qg(e){let t;return t=xg(),{source:t.utm_source??"",medium:t.utm_medium??"",campaign:t.utm_campaign??"",term:t.utm_term??"",content:t.utm_content??""}}let $u=!1;function Fg(e,t){var c;const s=e&&e.path==="/"&&Ci(e.query);let n=!1;document.referrer!==""&&!$u&&(n=!0);let a="";n?a=document.referrer:e&&e.fullPath&&(a=e.fullPath);const o=((c=t==null?void 0:t.query)==null?void 0:c.source)||{};let i="UNKNOWN";s&&o.source&&(i="ExternalClick"),!o.source&&s&&(i="BrowserLoad");const r=_r.getReferrerSourceName();return(r||!s)&&(i="SourceClick"),$u=!0,{sourceName:r,url:a,variant:i}}function br(e,t,s){let n=or.get("QUIZIZZ_EXP_SLOT");n?n=Number(n):n=0;const a=Ad(fs.getFeatureFlags());return{eventName:s,location:{country:fs.getCountry()??null,region:fs.getRegion()??null},userId:fs.getUserId()??null,language:fs.getLocale()??null,deviceId:or.get("quizizz_uid")||null,sessionId:_r.getSessionId(),slot:n,experiment:or.get("QUIZIZZ_EXP_NAME")||"",referrer:Fg(t,e),screenType:fs.getScreenType()??null,platform:fs.getPlatform(),featureFlags:a,deviceTime:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),startingReferrer:_r.getStartingReferrer(),utmParams:{...Qg()},url:{url:e==null?void 0:e.path,urlStruct:Ic(e),queryParams:e==null?void 0:e.fullPath}}}function Bg(e,t){qa.logPageView(br(e,t,"pageview3"))}function Hg(e,t){qa.logWebflowPageView(br(e,t,"webflow_pageview3"))}function jg(e,t){qa.logVMPageView(br(e,t,"voyagemath_pageview3"))}function Vg(e,t){qa.logVMWebflowPageView(br(e,t,"voyagemath_webflow_pageview3"))}class $g{constructor(){qe(this,"logClickEvent");qe(this,"logModalViewEvent");qe(this,"logHoverEvent");qe(this,"logImpressionEvent");qe(this,"logPageviewEvent");qe(this,"logWebflowPageviewEvent");qe(this,"logVMPageviewEvent");qe(this,"logVMWebflowPageviewEvent");this.logClickEvent=Mg,this.logImpressionEvent=qg,this.logModalViewEvent=Ug,this.logHoverEvent=Gg,this.logPageviewEvent=Bg,this.logWebflowPageviewEvent=Hg,this.logVMPageviewEvent=jg,this.logVMWebflowPageviewEvent=Vg}init(t){Cg(t.commonStoreProps),Yc(),Dg(),Lg()}}const Wg=["aria-label","disabled","data-testid"],Yg=Fc({__name:"ButtonV2",props:{title:{default:""},type:{default:"primary"},ariaLabel:{default:""},size:{default:"default"},isFloating:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},licon:{default:""},ticon:{default:""},testId:{default:"button"},isPressed:{type:Boolean,default:!1},iconOnly:{type:Boolean,default:!1}},emits:["onClick"],setup(e){const t=e,s=rp(),n=T(()=>t.iconOnly||!a(s.default)&&(t.licon&&!t.ticon||!t.licon&&t.ticon));function a(u){if(u&&Ms(u)){const l=u();return Array.isArray(l)&&l.length===1&&l[0].children!=="v-if"}return!!u}const o=T(()=>{const u=[];switch(t.type){case"link-light":u.push("disabled:text-ds-light-500-30","disabled:bg-transparent");break;case"link-dark":u.push("disabled:text-ds-dark-100","disabled:bg-transparent");break;case"light-bg":u.push("disabled:text-ds-dark-100","disabled:bg-ds-light-200","disabled:border-transparent");break;default:t.isFloating&&t.type!=="secondary"?u.push("disabled:text-dark-tertiary","disabled:bg-ds-light-200","disabled:hover:border-ds-light-200"):u.push("disabled:text-ds-light-500-30","disabled:bg-ds-light-500-10","disabled:hover:bg-ds-light-500-10");break}switch(t.type){case"secondary":u.push("text-ds-light-500","bg-ds-light-500-20","border-transparent"),u.push("hover:bg-ds-light-500-30","active:bg-ds-light-500-10");break;case"tertiary":u.push("text-ds-light-500","bg-ds-dark-500-50","border-transparent"),u.push("hover:bg-ds-dark-500-80","active:bg-ds-dark-500-30");break;case"other":u.push("text-ds-light-500","bg-ds-lilac-500","border-transparent"),u.push("hover:bg-ds-lilac-400","hover:border-ds-lilac-400","active:bg-ds-lilac-600","active:border-ds-lilac-600");break;case"danger":u.push("text-ds-light-500","bg-ds-fail-500","border-transparent"),u.push("hover:bg-ds-fail-400","active:bg-ds-fail-600");break;case"danger-secondary":u.push("text-ds-fail-500","bg-ds-fail-100","border-transparent"),u.push("hover:bg-ds-fail-200","active:bg-ds-fail-300");break;case"super":u.push("text-ds-light-500","bg-ds-super-500","border-transparent"),u.push("hover:bg-ds-super-400","active:bg-ds-super-600");break;case"super-secondary":u.push("text-ds-super-500","bg-ds-super-100","border-transparent"),u.push("hover:bg-ds-super-200","active:bg-ds-super-300");break;case"link-light":u.push("text-ds-light-500","bg-transparent","border-transparent"),u.push("hover:bg-ds-light-500-30","active:bg-ds-light-500-10");break;case"link-dark":u.push("text-ds-dark-400","bg-transparent","border-transparent"),u.push("hover:bg-ds-dark-500-5","active:bg-ds-dark-500-10");break;case"light-bg":u.push("text-ds-dark-400","bg-ds-dark-500-5","border-ds-dark-500-20"),u.push("hover:bg-ds-dark-500-5","hover:border-ds-dark-500-20","active:bg-ds-dark-500-10","active:border-ds-dark-500-20");break;case"primary":default:u.push("text-ds-dark-400","bg-ds-light-500","border-ds-dark-500-20"),u.push("hover:bg-ds-light-300","active:bg-ds-light-200");break}return u}),i=T(()=>{let u="";if(n.value)switch(t.size){case"small":u="text-base";break;case"large":u="text-xl sm:text-2xl";break;case"default":default:u="text-base sm:text-xl";break}else switch(t.size){case"small":u="px-3 py-1 text-xs sm:text-sm";break;case"large":u="px-4 py-2 text-base sm:text-xl";break;case"default":default:u="px-3 py-1 sm:py-2 text-sm sm:text-base";break}return u}),r=T(()=>{if(t.isFullWidth)return"w-full";if(n.value)switch(t.size){case"small":return"w-6 sm:w-8 h-6 sm:h-8";case"large":return"w-10 sm:w-12 h-10 sm:h-12";case"default":default:return"w-8 sm:w-10 h-8 sm:h-10"}return"w-fit"}),c=T(()=>{if(t.isDisabled)return t.type==="secondary"?{default:"rgba(255,255,255,0.2)",hover:"rgba(255,255,255,0.2)"}:{default:"#B9B9B9",hover:"#B9B9B9"};switch(t.type){case"super":return{default:"#CE8602",hover:"#CF9C36"};case"secondary":return{default:"rgba(255,255,255,0.1)",hover:"rgba(255,255,255,0.2)"};case"other":return{default:"#6F459B",hover:"#8D66AF"};case"tertiary":return{default:"rgba(0, 0, 0, 0.25)",hover:"rgba(0, 0, 0, 0.5)"};case"primary":default:return{default:"#CECECE",hover:"#C3C3C3"}}});return(u,l)=>(Le(),Ke("button",{"aria-label":u.ariaLabel,class:_s(["box-border select-none font-bold border text-center disabled:cursor-auto",[o.value,i.value,r.value,u.isFloating?"rounded-lg":"rounded",{floatingButton:u.isFloating,"mb-1":u.isFloating,"cursor-pointer":!u.isDisabled,pressed:u.isFloating&&!u.isDisabled&&u.isPressed}]]),disabled:u.isDisabled,style:da({"--fb-default-bg":c.value.default,"--fb-hover-bg":c.value.hover}),"data-testid":u.testId,onKeyup:l[0]||(l[0]=od(d=>u.$emit("onClick"),["enter","space"])),onClick:l[1]||(l[1]=d=>u.$emit("onClick"))},[u.licon?(Le(),Ke("i",{key:0,class:_s([u.licon,u.size==="large"?"mr-2":"mr-1",{"!mr-0":n.value}])},null,2)):ft("",!0),za(u.$slots,"default",{},void 0,!0),u.ticon?(Le(),Ke("i",{key:1,class:_s([u.ticon,u.size==="large"?"ml-2":"ml-1",{"!ml-0":n.value}])},null,2)):ft("",!0)],46,Wg))}}),sn=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},Kg=sn(Yg,[["__scopeId","data-v-8318677c"]]),Jg="modulepreload",Xg=function(e){return"https://cf.quizizz.com/assets/v3/j/scripts/"+e},Wu={},Ue=function(t,s,n){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.all(s.map(r=>{if(r=Xg(r),r in Wu)return;Wu[r]=!0;const c=r.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${u}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":Jg,c||(l.as="script",l.crossOrigin=""),l.href=r,i&&l.setAttribute("nonce",i),document.head.appendChild(l),c)return new Promise((d,m)=>{l.addEventListener("load",d),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})}))}return a.then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},jr={PHONE:"mobile",TABLET:"tablet",DESKTOP:"desktop"},Vr={PORTRAIT:"portrait",LANDSCAPE:"landscape"};function Zg(){if(typeof window>"u")return{};const e=navigator.userAgent.toLowerCase(),{innerHeight:t,innerWidth:s}=window;function n(){return e.includes("android")}function a(){return!!(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/WPDesktop/i))}function o(){const L=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];return navigator.platform&&L.includes(navigator.platform)?!0:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function i(){return/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)||n()||o()||a()}function r(){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)}function c(){const L=jr.DESKTOP;return r()?jr.TABLET:i()?jr.PHONE:L}function u(){let L=Vr.PORTRAIT;return window.matchMedia("(orientation: portrait)").matches?L=Vr.PORTRAIT:L=Vr.LANDSCAPE,L}function l(){return!!window.opr||!!window.opera||e.includes("opr/")}function d(){return e.includes("firefox")}function m(){return e.includes("safari")}function _(){return!!document.documentMode}function f(){return!_()&&!!window.StyleMedia}function g(){return e.includes("chrome")||e.includes("chromium")||e.includes("crios")}function v(){return g()&&navigator.userAgent.includes("Edg")}function R(){return e.includes("ucbrowser")}function E(){return navigator.userAgent.toLowerCase().includes("samsungbrowser")}function h(){return l()?"Opera":f()||v()?"Edge":g()?"Chrome":d()?"Firefox":m()?"Safari":_()?"IE":R()?"UC Browser":E()?"Samsung browser":"Unknown"}function k(){var L;return(L=window.navigator.userAgentData)==null?void 0:L.platform}return{device:c(),userAgent:e,orientation:u(),isIOS:o(),isTablet:r(),isAndroid:n(),width:s,height:t,browser:h(),OS:k()}}const yd={DEV:"development",PROD:"production",TEST:"test"},Xe={NodeEnvs:yd,BundleLocations:{NONE:"none",LOCAL:"local"},BackendEnvs:{DEV:"dev",STAGING:"staging",PROD:"prod",LOCAL:"local"},localBackendEnvOptions:{QUIZIZZ_REPO_GAME_BUNDLE_LOCATION:"../quizizz/assets/mobile/",QUIZIZZ_REPO_GAME_FILE_CONFIG_LOCATION:"../quizizz/src/paths/mobile.json"},UploadDetails:{STATIC_SERVER_BASE_LOCATION:"https://cf.quizizz.com",JS_ASSETS_PATH:"assets/scripts/mobile",TRANLSATION_ASSETS_PATH:"assets/translations/game",BUILD_META_PATH:"assets/buidMeta"},OutputDirs:{DIST:"dist",DIST_TEMP:"dist/temp",DIST_BUILD:"dist/build",DIST_UPLOAD:"dist/upload"},OutputFileNames:{MAIN:"bundle",STATS:"stats",BUILD_INFO:"buildInfo"},TRANSLATIONS_FOLDER_NAME:"translations"},Ai="default",$R=4e3,Ja={TEACHER_SCHOOL:"teacher_school",TEACHER_UNIVERSITY:"teacher_university",TEACHER:"teacher",STUDENT:"student",OTHER:"other",CORPORATE:"corporate",CORPORATE_TEACHER:"corporate_teacher",CORPORATE_LEARNER:"corporate_learner"},zs={LIVE_PRESENTATION:"pres_tp",SOLO_PRESENTATION:"pres_solo",ASYNC_PRESENTATION:"pres_async",FLASHCARD:"flashcard",FLASHCARD_ASYNC:"flashcard_async"},Et={WAITING:"waiting",RUNNING:"running",COMPLETED:"completed",STOPPED:"stopped",SCHEDULED:"scheduled",PAUSED:"paused"},WR={RECENT:"recent",RUNNING:"running",COMPLETED:"completed",FEATURED:"featured",MY_QUIZZES:"myQuizzes",SEARCH:"search",RECOMMENDATION_HOME_LIST:"featuredRecommendation",RECOMMENDATION_TOPICS_PAGE:"featuredRecommendationTopic"},rt={CLASSIC:"classic",COSMIC_PICNIC:"cosmic-picnic",SYNTHWAVE:"synthwave",DOGSVILLE:"dogsville",THE_8_BIT:"the8Bit",ANIME:"anime",FOOTBALL:"football",SNS:"sns",MYSTIC_PEAK:"mystic-peak"},YR={[rt.CLASSIC]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.COSMIC_PICNIC]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.SYNTHWAVE]:{progress:"icon-far-sun-haze",end:"icon-fas-flag-checkered"},[rt.DOGSVILLE]:{progress:"icon-far-paw-alt",end:"icon-fas-flag-checkered"},[rt.THE_8_BIT]:{progress:"icon-far-computer-classic",end:"icon-fas-flag-checkered"},[rt.ANIME]:{progress:"icon-fas-hood-cloak",end:"icon-fas-flag-checkered"},[rt.FOOTBALL]:{progress:"icon-fas-football-ball",end:"icon-fas-flag-checkered"},[rt.SNS]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.MYSTIC_PEAK]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"}},nt={THREE_IN_ROW:"threeRow",SEVEN_IN_ROW:"sevenRow",TEN_IN_ROW:"tenRow",COMEBACK:"comeback",TOO_FAST:"tooFast",HALFWAY:"halfway",PERFECT:"perfect",CORRECT:"correct",INCORRECT:"incorrect"},Sc={GENERAL:"general",SPECIAL:"special"},Yu={MCQ:3,MSQ:3,OPEN:4,WORDCLOUD:4,BLANK:4,SLIDE:3,SLIDEV2:2,DRAW:2,AUDIO:2,VIDEO:2,MATCH:2,REORDER:2,DRAGNDROP:3,DROPDOWN:3,EQUATION:3,GRAPHING:2,DND_IMAGE:3,HOTSPOT:3,CLASSIFICATION:2,COMPREHENSION:3,COMPREHENSION_VIDEO:3,FLASHCARD:2},KR=[{issueIcon:"https://cf.quizizz.com/img/RaiseHands/help-icon-3x.png",issueText:"I need help"},{issueIcon:"https://cf.quizizz.com/img/RaiseHands/time-icon-3x.png",issueText:"I need more time"}],$n={KILLED:"killed",INACTIVE:"inactive",BACKGROUND:"background",ACTIVE:"active"},ma=[{lang:"English",locale:"en",flag:"https://cf.quizizz.com/img/flag_icons/us.png"},{lang:"Español",locale:"es",flag:"https://cf.quizizz.com/img/flag_icons/es.png"},{lang:"Français",locale:"fr",flag:"https://cf.quizizz.com/img/flag_icons/fr.png"},{lang:"Polski",locale:"pl",flag:"https://cf.quizizz.com/img/flag_icons/pl.png"},{lang:"Русский",locale:"ru",flag:"https://cf.quizizz.com/img/flag_icons/ru.png"},{lang:"Bahasa Indonesia",locale:"id",flag:"https://cf.quizizz.com/img/flag_icons/id.png"},{lang:"Melayu",locale:"ms",flag:"https://cf.quizizz.com/img/flag_icons/my.png"},{lang:"Filipino",locale:"tl",flag:"https://cf.quizizz.com/img/flag_icons/ph.png"},{lang:"Deutsch",locale:"de",flag:"https://cf.quizizz.com/img/flag_icons/de.png"},{lang:"Tiếng Việt",locale:"vi",flag:"https://cf.quizizz.com/img/flag_icons/vn.png"},{lang:"ไทย",locale:"th",flag:"https://cf.quizizz.com/img/flag_icons/th.png"},{lang:"Azərbaycan",locale:"az",flag:"https://cf.quizizz.com/img/flag_icons/az.png"},{lang:"Português",locale:"pt-br",flag:"https://cf.quizizz.com/img/flag_icons/br.png"},{lang:"한국인",locale:"ko",flag:"https://cf.quizizz.com/img/flag_icons/kr.png"},{lang:"中国人（简体）",locale:"zh-CN",flag:"https://cf.quizizz.com/img/flag_icons/cn.png"},{lang:"中國人（繁体）",locale:"zh-TW",flag:"https://cf.quizizz.com/img/flag_icons/tw.png"},{lang:"Türk",locale:"tr",flag:"https://cf.quizizz.com/img/flag_icons/tr.png"},{lang:"Italiano",locale:"it",flag:"https://cf.quizizz.com/img/flag_icons/it.png"},{lang:"日本語",locale:"ja",flag:"https://cf.quizizz.com/img/flag_icons/ja.png"},{lang:"қазақша",locale:"kk",flag:"https://cf.quizizz.com/img/flag_icons/kz.png"}],JR={NONE:"",RECONNECTING:"reconnecting",RECONNECTED:"reconnected"},Rc={APP:"app",WEB:"web"},Bs={NOT_SENT:"not_sent",SENDING:"sending",SENT:"sent"},Oo={PRE_GAMEOVER:"pre_gameover",ON_EXIT:"on_exit",ON_UNLOAD:"on_unload"},ef=60,Mt={PHONE:"mobile",TABLET:"tablet",DESKTOP:"desktop"},Lo={IN_PROGRESS:"inProgress",DONE:"done"},Vi={MAX_ATTEMPTS:12,MAX_RUNNING_GAMES:8,MAX_COMPLETED_GAMES:6,MIN_ATTEMPTS:3},Ha={DONE:"done",FAILED:"failed",SUCCESS:"success"},XR=6,ZR={MATHEMATICS:"Mathematics",ENGLISH:"English",HISTORY:"History",GEOGRAPHY:"Geography",BIOLOGY:"Biology",PHYSICS:"Physics",SCIENCE:"Science"},$i=3,tf=24,Ys={NONE:"none",GROUP_CREATION:"groupCreation",ONLY_ASSIGNED:"onlyAssigned"},Za={FROM_LINK:"fromLink",FROM_GAME_CODE:"fromGameCode",FROM_CLASS_CODE:"fromClassCode"},eC=[{key:0,value:"Kindergarten"},{key:1,value:"1st Grade"},{key:2,value:"2nd Grade"},{key:3,value:"3rd Grade"},{key:4,value:"4th Grade"},{key:5,value:"5th Grade"},{key:6,value:"6th Grade"},{key:7,value:"7th Grade"},{key:8,value:"8th Grade"},{key:9,value:"9th Grade"},{key:10,value:"10th Grade"},{key:11,value:"11th Grade"},{key:12,value:"12th Grade"},{key:13,value:"University"}],Id=[6,7,8,10],sf={DESKTOP_LARGE:12,DESKTOP:12,TABLET:12,MOBILE:12},la={PORTRAIT:"portrait",LANDSCAPE:"landscape"},tC={REPLAY:"replay",PRACTICE:"practice",COMPLETE:"complete",START:"start",CANCEL_ICON:"cancel_icon",CANCEL_OUTSIDE:"cancel_outside",START_GROUP_ASSIGNED:"start_group_assigned",START_CHALLENGE_GAME:"start_challenge_game",REPLAY_CHALLENGE_GAME:"replay_challenge_game"},on={QUIZ_INFO:"QUIZ_INFO",AUTH:"AUTH",APP_SETTINGS:"APP_SETTINGS",AVATAR_PICKER:"AVATAR_PICKER",GROUP_JOIN:"GROUP_JOIN",GAME_ASSIGNED_NOTIF:"gameAssigned",IMAGE_ZOOM_PREVIEW:"IMAGE_ZOOM_PREVIEW",REPORT_AD:"REPORT_AD",POWERUP_DRAWER:"POWERUP_DRAWER",USER_SURVEY:"USER_SURVEY",SOLO_PRESENTATION_ONBOARDING:"SOLO_PRESENTATION_ONBOARDING",CHALLENGE_REPLAY_NOTIF:"CHALLENGE_REPLAY_NOTIF",PRESENTATION_SURVEY:"PRESENTATION_SURVEY",CLASS_CODE:"CLASS_CODE",GAME_CHANGER_CERTIFICATE:"GAME_CHANGER_CERTIFICATE",QUIZIZZ_AI_CERTIFICATE:"QUIZIZZ_AI_CERTIFICATE",LMS_AUTH:"LMS_AUTH"},sC=6,$r={MIN_DESKTOP_WIDTH:1025,MIN_DESKTOP_HEIGHT:768,MAX_TABLET_WIDTH:1024,MIN_TABLET_WIDTH:576,MIN_SMARTPHONE_WIDTH:360},In={CREATED:"created",RUNNING:"running",COMPLETED:"completed"},hr={REDIRECT_TO_LOGIN:"REDIRECT_TO_LOGIN",REDIRECT_TO_LOGIN_FROM_SUMMARY:"REDIRECT_TO_LOGIN_FROM_SUMMARY",REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME:"REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME",REDIRECT_TO_SIGNUP:"REDIRECT_TO_SIGNUP",REDIRECT_TO_SIGNUP_FROM_USER_DROPDOWN:"REDIRECT_TO_SIGNUP_FROM_USER_DROPDOWN",REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING:"REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING",REDIRECT_TO_SIGNUP_FROM_HEADER:"REDIRECT_TO_SIGNUP_FROM_HEADER",REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES:"REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES",REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE:"REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE",REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO:"REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO",REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE:"REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE",REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:"REDIRECT_TO_SIGNUP_FROM_CLASS_LINK",REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY:"REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY",REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE:"REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE",REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME:"REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME"},nf=2e3,af={ANDROID:"android",IOS:"ios"},Ku={ANDROID:"quizizzgame://open/",IOS:"quizizz://"},nC={LARGE:"large",MEDIUM:"medium",SMALL:"small"},ra={BASE:600,TIMER:400,TIMER_WHEN_REDEMPTION:0},Ti={ORIGINAL:"original",REDEMPTION:"redemption",EXTRA_LIFE:"extraLife",REATTEMPT:"reattempt"},cn={ATTEMPTED:"attempted",TIMED_OUT:"timedOut",ATTEMPTED_SILENTLY:"attemptedSilently",SEEN:"seen",DRAFT:"draft",AUTO_ATTEMPTED:"autoAttempted",PASSED:"passed"},Pa={PARTIALLY_CORRECT:"PARTIALLY_CORRECT",INCORRECT:"INCORRECT",CORRECT:"CORRECT"},aC={a:97},li={RETRACTION_THRESHOLD:450,FIRST:{START:1,END:3},SECOND:{START:4,END:6},THIRD:{START:7,END:9}},Wa={IN_PROGRESS:"IN_PROGRESS",UTILISED:"UTILISED"},Ut={ExtraLife:{ENABLED:"ENABLED",DISABLED:"DISABLED"},Redemption:{NO:"no",YES:"yes"},hasRedemptionPass:{NO:"no",YES:"yes"},Powerups:{NO:"no",YES:"yes"},StudentLeaderboard:{YES:!0,NO:!1},ShowAnswers:{NEVER:"never",ALWAYS:"always",PARTIAL:"partial"},StudentQuizReview:{YES:"yes",QONLY:"qonly",NO:"no"},Timer:{OFF:"off",CLASSIC:"classic",STRICT:"strict"},BreakRoom:{YES:!0,NO:!1},Practice:{V1:"v1",V2:"v2",NO:"no"},IsDuelEnabled:{YES:!0,NO:!1},ShowAvatarCustomizationSurvey:{YES:!0,NO:!1}},of=[{code:"en",name:"English"},{code:"es",name:"Spanish; Castilian"},{code:"pl",name:"Polish"},{code:"fr",name:"French"},{code:"zh",name:"Chinese"},{code:"ms",name:"Malay"},{code:"id",name:"Indonesian"},{code:"th",name:"Thai"},{code:"nl",name:"Dutch"},{code:"de",name:"German"},{code:"pt",name:"Portuguese"},{code:"ar",name:"Arabic"},{code:"it",name:"Italian"},{code:"ru",name:"Russian"},{code:"he",name:"Hebrew (modern)"},{code:"et",name:"Estonian"},{code:"tr",name:"Turkish"},{code:"ca",name:"Catalan; Valencian"},{code:"sv",name:"Swedish"},{code:"hu",name:"Hungarian"},{code:"fi",name:"Finnish"},{code:"ja",name:"Japanese"}],Nn={AWARDED:"AWARDED",ACTIVATED:"ACTIVATED",ARCHIVED:"ARCHIVED"},ia={ACTIVATED:"ACTIVATED",DESTROYED:"DESTROYED"},Er={POSITIVE:"positive",NEGATIVE:"negative",ACTIVATOR:"activator"},oC={MAIN_HEADER:"MainHeader",FILTER_COMPONENT:"FilterComponent",BROWSER_LOAD:"BrowserLoad",ON_SEARCH_NAVIGATION:"OnSearchNav"},Wi={PERFECT:"PERFECT",GOOD:"GOOD",AVERAGE:"AVERAGE",POOR:"POOR"},Wr={SOLO_START:"solo_start",RUNNING_START:"running_start",CHALLENGE_START:"challenge_start"},Sd={PLAY_APIS:"v2"},se={MCQ:"MCQ",MSQ:"MSQ",BLANK:"BLANK",OPEN:"OPEN",DRAW:"DRAW",CONTENT_SLIDE:"SLIDE",CONTENT_SLIDE_V2:"SLIDEV2",AUDIO:"AUDIO",VIDEO:"VIDEO",REORDER:"REORDER",MATCH:"MATCH",DRAGNDROP:"DRAGNDROP",DROPDOWN:"DROPDOWN",EQUATION:"EQUATION",DND_IMAGE:"DND_IMAGE",HOTSPOT:"HOTSPOT",GRAPHING:"GRAPHING",WORDCLOUD:"WORDCLOUD",CLASSIFICATION:"CLASSIFICATION",COMPREHENSION:"COMPREHENSION",COMPREHENSION_VIDEO:"COMPREHENSION_VIDEO",FLASHCARD:"FLASHCARD"},vn={VISIBLE:"VISIBLE",COLLAPSED:"COLLAPSED",HIDDEN:"HIDDEN"},rf={WORDCLOUD:"word_cloud",BLANK:{SINGLE_BLANK:"single_blank",BOX:"box"}},iC={TargetOptionObject:"TargetOptionObject",OptionObject:"OptionObject",Latex:"Latex",PlotObject:"PlotObject",Media:"Media"},cf={Answer:"Answer",Upload:"Upload"},Ju={STRING:"string",NUMBER:"number",LATEX:"latex"},Xt={NONE:"none",FULL:"full",PARTIAL:"partial"},uf={TITLE_SUBTITLE:"TITLE_SUBTITLE",TITLE_PARA:"TITLE_PARA",TITLE_BULLETS:"TITLE_BULLETS",MEDIA_SUBTITLE:"MEDIA_SUBTITLE",TITLE_PARA_MEDIA:"TITLE_PARA_MEDIA",TITLE_BULLETS_MEDIA:"TITLE_BULLETS_MEDIA",EMBED_WEBPAGE:"EMBED_WEBPAGE"},rC={YOUTUBE:"youtube",IMAGE:"image",AUDIO:"audio",VIDEO:"video"},mn={INACTIVE:"inactive",ACTIVE:"active",WAITING:"waiting",REVEAL:"reveal",COMPLETED:"completed"},zo={QUIZ:"quiz",PRESENTATION:"presentation",FLASHCARD:"flashcard"},cC={SOLO_PRESENTATION:"sp",THEME_STREAK:"ts",POWERUP:"pu",PRESENTATION_SURVEY:"ps"},Yr={GAME_HEADER:{STANDARD:"standard",MINIMAL:"minimal"}},uC={IMG_MOBILE:"https://cf.quizizz.com/game/img/misc/bvz_artwork_mobile.png",IMG_TABLET:"https://cf.quizizz.com/game/img/misc/bvz_artwork_tablet.png",IMG_DESKTOP:"https://cf.quizizz.com/game/img/misc/bvz_artwork_desktop.png",IMG_MOBILE_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_mobile.png",IMG_TABLET_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_tablet.png",IMG_DESKTOP_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_desktop.png",SHOULD_SHOW_BANNER:!1},Kc="me",Vn={START:"start",PAUSE:"pause",RESTART:"restart",RESET:"reset",FREEZE:"freeze"},ja={SHOW_CANVAS:"canvas/show",HIDE_CANVAS:"canvas/hide",CLEAR_CANVAS:"canvas/clear",CLEAR_ALL_CANVAS:"canvas/clearAll",UPDATE_CANVAS:"canvas/update",CREATE_ELEMENT:"element/create",UPDATE_ELEMENT:"element/update",DELETE_ELEMENT:"element/delete",ENABLE_PLAYER_CANVAS:"player/canvas/enable",DISABLE_PLAYER_CANVAS:"player/canvas/disable",REFRESH_HOST_CANVAS:"host/canvas/refresh",REFRESH_PLAYER_CANVAS:"player/canvas/refresh"},_o={NIL:-1,START:0,Powerups:[[1,2,3],[4,5,6],[7,8,9]],Indices:{POPPING_IN:0,TRANSLATE_DOWN:1,DONE:2}},lC={A:["A","À","Á","Â","Ã","Ä","Å","Ā"],C:["C","Ç","Ć","Č"],E:["E","È","É","Ê","Ë","Ē","Ė","Ę"],I:["I","Ì","Í","Î","Ï","Ī","Į"],N:["N","Ñ","Ń"],O:["O","Ò","Ó","Ô","Õ","Ö","Ō"],S:["S","Ś","Š"],U:["U","Ù","Ú","Û","Ü","Ū"],Y:["Y","Ÿ"],Z:["Z","Ź","Ż","Ž"]},lf={POST_ANSWER:"postAnswer",WHILE_ANSWERING:"whileAnswering",PRE_QUESTION:"preQuestion"},df={TWO_POINT_ZERO:"2.0",ONE:1},Jc={ROUTE_NAVIGATION:"routeNavigation"},En={DEFAULT:"DEFAULT",ERROR:"ERROR",SUCCESS:"SUCCESS",ALERT:"ALERT"},dC={discoveryFlag:"https://cf.quizizz.com/img/ReviewAndSubmit/review-discovery-flag.png",discoveryTicks:"https://cf.quizizz.com/img/ReviewAndSubmit/review-discovery-ticks.png",flagSelected:"https://cf.quizizz.com/img/ReviewAndSubmit/flag_selected.png",flagUnSelected:"https://cf.quizizz.com/img/ReviewAndSubmit/flag_unselected.png"},mC=500,Wn={DEFAULT_THEME:rt.CLASSIC,NEXT_THEME_TO_BE_SET_ONCE:rt.CLASSIC},ho={GAME_STATUS:{NOT_STARTED:"not_started",STARTED:"started",COMPLETED:"completed",INCOMPLETE:"incomplete"},SCREENS:{PRE_COURSE_GAME:"pre_course_game",POST_COURSE_GAME:"post_course_game"}},Cn={ANSWER_LATER_RESPONSE_STATES:[cn.DRAFT,cn.SEEN],ANSWER_LATER_BTN:{TOOLTIP_SEEN:"answer_later_tooltip_seen",REATTEMPT_TOOLTIP_SEEN:"answer_later_reattempt_tooltip_seen"},REVIEW_AND_SUBMIT_RESPONSE_STATES:[cn.ATTEMPTED,cn.DRAFT,cn.SEEN],MASTERY_MODE_ANIMATION_PRESETS:{IN_GAME:"IN_GAME",INITIAL:"INITIAL",INCREASED:"INCREASED",DECREASED:"DECREASED",ACHIEVED_WITH_UNSEEN:"ACHIEVED_WITH_UNSEEN",ACHIEVED_WITH_SEEN:"ACHIEVED_WITH_SEEN"},MASTERY_MODE_REATTEMPTS:{unlimited:"unlimited",1:1,2:2},MASTERY_PEAK_TIMER:30*1e3,PAID_ORG_TO_EXCLUDE_SUMMY_RECOMM:["63fde5f98012205a06887f62"]},pC={DEGREE:"degree",RADIAN:"radian"},mf=[{id:"taylor_swift",text:"Taylor Swift"},{id:"michael_jackson",text:"Michael Jackson"},{id:"bts",text:"BTS"},{id:"harry_styles",text:"Harry Styles"},{id:"the_weeknd",text:"The Weeknd"},{id:"zach_bryan",text:"Zach Bryan"},{id:"boygenius",text:"boygenius"},{id:"beyonce",text:"Beyoncé"},{id:"olivia_rodrigo",text:"Olivia Rodrigo"},{id:"lana_del_rey",text:"Lana Del Rey"}],pf=20,gf=[se.MCQ,se.MSQ,se.BLANK,se.OPEN,se.MATCH,se.REORDER,se.DRAGNDROP,se.DROPDOWN,se.CLASSIFICATION,se.EQUATION],Nr="game",bi="|-$";function vr(e,t,s=!0){const n=e+bi+t,a=Cr.encrypt(n,Nr).toString();return s?encodeURIComponent(a):a}function Eo({roomHash:e,playerId:t,quizId:s,gameState:n},a=!0){let o=e;n===Et.COMPLETED&&([o]=e.split(":"));const i=[o,t,s,n].join(bi),r=Cr.encrypt(i,Nr).toString();return a?encodeURIComponent(r):r}function ff(e,t=!0){const s=t?decodeURIComponent(e):e,a=Cr.decrypt(s,Nr).toString(id).split(bi),o=a[0];a.splice(0,1);const i=a.join(bi);return{roomHash:o,playerId:i}}function _f(e,t=!0){const s=t?decodeURIComponent(e):e,a=Cr.decrypt(s,Nr).toString(id).split(bi),o=a[0],i=a[1],r=a[2],c=a[3];return{roomHash:o,playerId:i,quizId:r,gameState:c}}var Va={CODEBUILD_LAST_EXIT:"0",CODEBUILD_VPC_AZ:"us-east-1a",MAVEN_OPTS:"-Dmaven.wagon.httpconnectionManager.maxPerRoute=2",npm_package_devDependencies__types_node:"18.16.6",CODEBUILD_START_TIME:"1725622875291",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",CODEBUILD_BMR_URL:"https://CODEBUILD_AGENT:3000",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.4 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",CODEBUILD_AGENT_ENDPOINT:"http://127.0.0.1:7831",CODEBUILD_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",NODE_VERSION:"16.14.2",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"ip-10-192-61-148.ec2.internal",YARN_VERSION:"1.22.18",CODEBUILD_KMS_KEY_ID:"arn:aws:kms:us-east-1:399771530480:alias/aws/s3",CTS_LINK_LOCAL_ADDR:"169.254.170.3",CODEBUILD_BUILD_ID:"prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"7",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",OLDPWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_devDependencies_sass:"1.62.0",CODEBUILD_GOPATH:"/codebuild/output/src3656729744",PYTHONUNBUFFERED:"1",CODEBUILD_CI:"true",CODEBUILD_RESOLVED_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",CODEBUILD_BUILD_NUMBER:"3686",CODEBUILD_BUILD_SUCCEEDING:"1",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.vitest.json --composite false",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",AWS_CONTAINER_CREDENTIALS_RELATIVE_URI:"/v2/credentials/5c8ee108-ace1-4192-a63b-78e50648f983",version:"7969606_m0qnawtx",CODEBUILD_BUILD_ARN:"arn:aws:codebuild:us-east-1:399771530480:build/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_dependencies_html2canvas:"1.4.1",AWS_EXECUTION_ENV:"AWS_ECS_EC2",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",CODEBUILD_ACTION_RUNNER_URL:"https://codefactory-us-east-1-prod-default-build-agent-executor.s3.us-east-1.amazonaws.com/cawsrunner.zip",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",CODEBUILD_INITIATOR:"infra-service/39fb5be31f064181be4a42be205ec4af",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",ECS_AGENT_URI:"http://169.254.170.2/api/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",npm_package_lint_staged___vue_1:"git add .",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",npm_package_lint_staged___js_1:"git add .",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_dependencies_videojs_wavesurfer:"3.9.0",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",ECS_CONTAINER_METADATA_URI_V4:"http://169.254.170.2/v4/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",ECS_CONTAINER_METADATA_URI:"http://169.254.170.2/v3/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",CODEBUILD_EXECUTION_ROLE_BUILD:"true",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/usr/local/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join/node_modules/.bin:/usr/local/lib/node_modules/pnpm/dist/node-gyp-bin:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.bin:/root/.local/bin:/google-cloud-sdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/codebuild/user/bin:/usr/.pnpm",FE_REPORT_LINK_LOCAL_ADDR:"169.254.170.8",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",CODEBUILD_LOG_PATH:"c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",CODEBUILD_BUILD_IMAGE:"399771530480.dkr.ecr.us-east-1.amazonaws.com/build-join:v2",componentName:"main",CODEBUILD_SOURCE_REPO_URL:"https://git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_dependencies_videojs_record:"4.6.0",npm_package_devDependencies_vite_plugin_environment:"1.1.3",npm_package_lint_staged___ts_1:"git add .",commitId:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",GOPATH:"/codebuild/output/src3656729744",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",CODEBUILD_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",AWS_REGION:"us-east-1",CODEBUILD_BUILD_URL:"https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825/view/new",npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",CODEBUILD_PROJECT_UUID:"bd3d1695-46ea-41cc-be26-ff64bf794fbf",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",CODEBUILD_AUTH_TOKEN:"08f5b67a-c53c-4177-890a-52ca7a27cfd4",CODEBUILD_CONTAINER_NAME:"default",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",PWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",npm_execpath:"/usr/local/lib/node_modules/pnpm/bin/pnpm.cjs",env:"prod",deploymentLevel:"live",CLOUD_SDK_VERSION:"256.0.0",CODEBUILD_FE_REPORT_ENDPOINT:"https://codebuild.us-east-1.amazonaws.com/",npm_package_dependencies_pinia_logger:"1.3.12",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_URL:"https://sentry.io/",SENTRY_LOG_LEVEL:"debug",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};const Cc=Va.LOCAL_GAME_SERVICE==="true"||!1,Xu=Va.GAME_SERVICE_PORT||7002,bn={BASE:{[Xe.BackendEnvs.PROD]:"https://quizizz.com",[Xe.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com",[Xe.BackendEnvs.LOCAL]:Va.VITE_LOCAL_INTERNAL_SERVER_BASE_URL?Va.VITE_LOCAL_INTERNAL_SERVER_BASE_URL:"http://localhost:3000"},SOCKET:{[Xe.BackendEnvs.PROD]:{BASE:"https://socket.quizizz.com",PATH:""},[Xe.BackendEnvs.STAGING]:{BASE:"https://staging.quizizz.com",PATH:""},[Xe.BackendEnvs.DEV]:{BASE:"https://dev-socket.quizizz.com",PATH:""},[Xe.BackendEnvs.LOCAL]:{BASE:"https://dev-socket.quizizz.com",PATH:""}},GAME:{[Xe.BackendEnvs.PROD]:"https://game.quizizz.com",[Xe.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Xe.BackendEnvs.DEV]:Cc?`http://localhost:${Xu}`:"https://dev.quizizz.com",[Xe.BackendEnvs.LOCAL]:Cc?`http://localhost:${Xu}`:"https://dev.quizizz.com"},REQUEST:{[Xe.BackendEnvs.PROD]:"https://quizizz.com",[Xe.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_api/main",[Xe.BackendEnvs.LOCAL]:Va.VITE_LOCAL_INTERNAL_SERVER_BASE_URL?Va.VITE_LOCAL_INTERNAL_SERVER_BASE_URL:"http://localhost:3000"},NOTIFICATION_BASE:{[Xe.BackendEnvs.PROD]:"https://notif.quizizz.com",[Xe.BackendEnvs.STAGING]:"https://notif.quizizz.com",[Xe.BackendEnvs.DEV]:"https://dev-services.quizizz.com",[Xe.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com"},DRAW_SERVICE:{[Xe.BackendEnvs.PROD]:"https://draw.quizizz.com/_dserver/main",[Xe.BackendEnvs.STAGING]:"https://draw.quizizz.com/_dserver/main",[Xe.BackendEnvs.DEV]:"https://dev-services.quizizz.com/_dserver/main",[Xe.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com/_dserver/main"},MEDIA_SERVICE:{[Xe.BackendEnvs.PROD]:"https://media.quizizz.com/_mdserver/main",[Xe.BackendEnvs.STAGING]:"https://media.quizizz.com/_mdserver/main",[Xe.BackendEnvs.DEV]:"https://dev-services.quizizz.com/_mdserver/mdserver",[Xe.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com/_mdserver/mdserver"},PRACTICE_SERVICE:{[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_pracserver/main/v1",[Xe.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_pracserver/main/v1",[Xe.BackendEnvs.PROD]:"https://quizizz.com/_pracserver/main/v1",[Xe.BackendEnvs.STAGING]:"https://quizizz.com/_pracserver/main/v1"},AVATAR_SERVICE:{[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_uasserver/main/",[Xe.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_uasserver/main/",[Xe.BackendEnvs.PROD]:"https://quizizz.com/_uasserver/main/",[Xe.BackendEnvs.STAGING]:"https://quizizz.com/_uasserver/main/"},QUIZ_SERVICE:{[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_quizserver/main/v2",[Xe.BackendEnvs.LOCAL]:`${Va.VITE_LOCAL_QUIZ_SERVER_BASE_URL??"http://localhost:8080"}/v2`,[Xe.BackendEnvs.PROD]:"https://quizizz.com/_quizserver/main/v2",[Xe.BackendEnvs.STAGING]:"https://quizizz.com/_quizserver/main/v2"},AI_SERVICE:{[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_aiserver/main/public/v1",[Xe.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_aiserver/main/public/v1",[Xe.BackendEnvs.PROD]:"https://quizizz.com/_aiserver/main/public/v1",[Xe.BackendEnvs.STAGING]:"https://quizizz.com/_aiserver/main/public/v1"},AVATAR_BUCKET:{[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_media",[Xe.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_media",[Xe.BackendEnvs.PROD]:"https://quizizz.com/_media",[Xe.BackendEnvs.STAGING]:"https://quizizz.com/_media"},GAME_API:{[Xe.BackendEnvs.DEV]:"https://dev.quizizz.com/_gameapi/main/public",[Xe.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_gameapi/main/public",[Xe.BackendEnvs.PROD]:"https://quizizz.com/_gameapi/main/public",[Xe.BackendEnvs.STAGING]:"https://quizizz.com/_gameapi/main/public"}};class hf{constructor(){qe(this,"windowStorage");this.windowStorage=window.localStorage}isPresent(){return!!(window.localStorage&&Ms(window.localStorage.getItem)&&Ms(window.localStorage.setItem))}key(t){return this.windowStorage.key(t)}getItem(t,s={parseFromJSON:!0,removeItemOnError:!1}){s=Ln(s,{parseFromJSON:!0,removeItemOnError:!1});try{const n=this.windowStorage.getItem(t);return s.parseFromJSON?JSON.parse(n):n}catch{s.removeItemOnError&&this.removeItem(t)}}setItem(t,s,n={storeAsJSON:!0}){n=Ln(n,{storeAsJSON:!0});try{const a=n.storeAsJSON?JSON.stringify(s):s;return this.windowStorage.setItem(t,a)}catch{}}removeItem(t){return this.windowStorage.removeItem(t)}clear(){return this.windowStorage.clear()}}const Ss=new hf;class Ef{constructor(){qe(this,"windowStorage");this.windowStorage=window.sessionStorage}isPresent(){return!!(window.sessionStorage&&Ms(window.sessionStorage.getItem)&&Ms(window.sessionStorage.setItem))}key(t){return this.windowStorage.key(t)}getItem(t,s={}){s=Ln(s,{parseFromJSON:!0,removeItemOnError:!1});try{const n=this.windowStorage.getItem(t);return s.parseFromJSON?JSON.parse(n):n}catch{s.removeItemOnError&&this.removeItem(t)}}setItem(t,s,n={}){n=Ln(n,{storeAsJSON:!0});try{const a=n.storeAsJSON?JSON.stringify(s):s;return this.windowStorage.setItem(t,a)}catch{}}removeItem(t){return this.windowStorage.removeItem(t)}clear(){return this.windowStorage.clear()}}const Ya=new Ef;function vf(e){return typeof e=="object"&&e!==null}function Af(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function A(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0}function ko(e,t){return e!=null&&Object.prototype.hasOwnProperty.call(e,t)}function gC(e,t=1){const s=10**t;return Math.round(e*s)/s}function us(e){return e===!0||e===!1||vf(e)&&Af(e)==="[object Boolean]"}function Zu(e){return e==null}var Tf={CODEBUILD_LAST_EXIT:"0",CODEBUILD_VPC_AZ:"us-east-1a",MAVEN_OPTS:"-Dmaven.wagon.httpconnectionManager.maxPerRoute=2",npm_package_devDependencies__types_node:"18.16.6",CODEBUILD_START_TIME:"1725622875291",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",CODEBUILD_BMR_URL:"https://CODEBUILD_AGENT:3000",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.4 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",CODEBUILD_AGENT_ENDPOINT:"http://127.0.0.1:7831",CODEBUILD_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",NODE_VERSION:"16.14.2",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"ip-10-192-61-148.ec2.internal",YARN_VERSION:"1.22.18",CODEBUILD_KMS_KEY_ID:"arn:aws:kms:us-east-1:399771530480:alias/aws/s3",CTS_LINK_LOCAL_ADDR:"169.254.170.3",CODEBUILD_BUILD_ID:"prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"7",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",OLDPWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_devDependencies_sass:"1.62.0",CODEBUILD_GOPATH:"/codebuild/output/src3656729744",PYTHONUNBUFFERED:"1",CODEBUILD_CI:"true",CODEBUILD_RESOLVED_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",CODEBUILD_BUILD_NUMBER:"3686",CODEBUILD_BUILD_SUCCEEDING:"1",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.vitest.json --composite false",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",AWS_CONTAINER_CREDENTIALS_RELATIVE_URI:"/v2/credentials/5c8ee108-ace1-4192-a63b-78e50648f983",version:"7969606_m0qnawtx",CODEBUILD_BUILD_ARN:"arn:aws:codebuild:us-east-1:399771530480:build/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_dependencies_html2canvas:"1.4.1",AWS_EXECUTION_ENV:"AWS_ECS_EC2",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",CODEBUILD_ACTION_RUNNER_URL:"https://codefactory-us-east-1-prod-default-build-agent-executor.s3.us-east-1.amazonaws.com/cawsrunner.zip",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",CODEBUILD_INITIATOR:"infra-service/39fb5be31f064181be4a42be205ec4af",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",ECS_AGENT_URI:"http://169.254.170.2/api/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",npm_package_lint_staged___vue_1:"git add .",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",npm_package_lint_staged___js_1:"git add .",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_dependencies_videojs_wavesurfer:"3.9.0",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",ECS_CONTAINER_METADATA_URI_V4:"http://169.254.170.2/v4/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",ECS_CONTAINER_METADATA_URI:"http://169.254.170.2/v3/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",CODEBUILD_EXECUTION_ROLE_BUILD:"true",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/usr/local/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join/node_modules/.bin:/usr/local/lib/node_modules/pnpm/dist/node-gyp-bin:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.bin:/root/.local/bin:/google-cloud-sdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/codebuild/user/bin:/usr/.pnpm",FE_REPORT_LINK_LOCAL_ADDR:"169.254.170.8",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",CODEBUILD_LOG_PATH:"c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",CODEBUILD_BUILD_IMAGE:"399771530480.dkr.ecr.us-east-1.amazonaws.com/build-join:v2",componentName:"main",CODEBUILD_SOURCE_REPO_URL:"https://git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_dependencies_videojs_record:"4.6.0",npm_package_devDependencies_vite_plugin_environment:"1.1.3",npm_package_lint_staged___ts_1:"git add .",commitId:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",GOPATH:"/codebuild/output/src3656729744",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",CODEBUILD_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",AWS_REGION:"us-east-1",CODEBUILD_BUILD_URL:"https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825/view/new",npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",CODEBUILD_PROJECT_UUID:"bd3d1695-46ea-41cc-be26-ff64bf794fbf",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",CODEBUILD_AUTH_TOKEN:"08f5b67a-c53c-4177-890a-52ca7a27cfd4",CODEBUILD_CONTAINER_NAME:"default",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",PWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",npm_execpath:"/usr/local/lib/node_modules/pnpm/bin/pnpm.cjs",env:"prod",deploymentLevel:"live",CLOUD_SDK_VERSION:"256.0.0",CODEBUILD_FE_REPORT_ENDPOINT:"https://codebuild.us-east-1.amazonaws.com/",npm_package_dependencies_pinia_logger:"1.3.12",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_URL:"https://sentry.io/",SENTRY_LOG_LEVEL:"debug",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};const Rr=class Rr{constructor(){qe(this,"Q_CONSOLE_LOGGING_ALLOWED_KEY","qgCLAllowed");qe(this,"SESSION_STORAGE_LOGS_KEY","qgLogs");qe(this,"currentLogSessionId",`s_${Date.now()}`);qe(this,"isEnvProd",yd.PROD==="production");qe(this,"isBrowserConsoleLoggingAllowed",!1);this.isBrowserConsoleLoggingAllowed=this.checkIfBrowserConsoleLoggingAllowed()}isStateLogAllowedInProd(){return this.isBrowserConsoleLoggingAllowed}checkIfBrowserConsoleLoggingAllowed(){if(!this.isEnvProd)return!0;if(Tf.DISABLE_PINIA_LOGGER==="true"||!Ss.isPresent())return!1;try{return Ss.getItem(this.Q_CONSOLE_LOGGING_ALLOWED_KEY)===!0}catch(t){return this.isEnvProd||console.error("Error at QLogger checkIfBrowserConsoleLoggingAllowed",t),!1}}warningLog(){setTimeout(console.log.bind(console,"%c%s","color: red; background: yellow; font-size: 24px;","WARNING!")),setTimeout(console.log.bind(console,"%c%s","font-size: 18px;",`Using this console may allow attackers to impersonate you and steal your information using an attack called Self-XSS.
Do not enter or paste code that you don't understand.`))}isSessionLoggingAllowed(){return this.isEnvProd&&Ya.isPresent()&&Rr.IS_SESSION_STORAGE_ALLOWED}logItems(t,s="info"){if(!this.isBrowserConsoleLoggingAllowed)return;const a=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o():o);console[s](...a)}warn(...t){this.logItems(t,"warn")}error(...t){this.logItems(t,"error")}log(...t){this.logItems(t,"log")}info(...t){this.logItems(t,"info")}logForSession(t,s="info",n={}){n=Ln(n,{logToBrowserConsole:!0,numArgsToUseForSessionLog:-1});const a=Array.isArray(t)?t:[t];if(n.logToBrowserConsole&&this.isBrowserConsoleLoggingAllowed&&console[s](...a),this.isSessionLoggingAllowed()){const o=[`[${cp(s[0])}]`,...a];this._handleUpdatingSessionStorage(o,Date.now(),n)}}invariant(t,s="",n={}){if(t===!0)return;n=Ln(n,{logOnSentry:!1,logOnSentryAs:"exception",alsoConsoleLog:!1,numArgsToUseForSessionLog:-1});const a=Array.isArray(s)?s:[s];if(this.isEnvProd){this.logForSession(["Invariant Violation:",...a],"error"),n.logOnSentry&&this.logOnSentry(a,n.logOnSentryAs,"error");return}const o=new Error(...a);throw o.name="Invariant Violation",o.framesToPop=1,n.alsoConsoleLog&&console.error(o),o}_handleUpdatingSessionStorage(t=[],s,n){const a=Ya.getItem(this.SESSION_STORAGE_LOGS_KEY),o=this._stringifyArrItem(t,n.numArgsToUseForSessionLog),i=this._getCurrentSessionKeyName();let r={};en(a)?(r=a,A(r[i])&&(r[i]={}),r[i][s]=o):r[i]={[s]:o},Ya.setItem(this.SESSION_STORAGE_LOGS_KEY,r)}_stringifyArrItem(t,s){const n=t.map(o=>typeof o=="string"?o:JSON.stringify(o)),a=typeof s=="number"?s:-1;return a>0?n.slice(0,a):n}_getCurrentSessionKeyName(){return`for_${this.currentLogSessionId}`}logOnSentry(t,s="exception",n="error"){const a=Array.isArray(t)?t:[t];if(this[n](...a),!!this.isEnvProd)switch(s){case"exception":ka(o=>{o.setLevel(n),o.setExtra("forceCapture",!0),o.setExtra("params",t),ig(new Error(a[0]))});break;case"message":ka(o=>{o.setLevel(n),o.setExtra("forceCapture",!0),o.setExtra("params",t),og(a[0])});break}}};qe(Rr,"IS_SESSION_STORAGE_ALLOWED",!1);let wc=Rr;const N=new wc;var Ia={CODEBUILD_LAST_EXIT:"0",CODEBUILD_VPC_AZ:"us-east-1a",MAVEN_OPTS:"-Dmaven.wagon.httpconnectionManager.maxPerRoute=2",npm_package_devDependencies__types_node:"18.16.6",CODEBUILD_START_TIME:"1725622875291",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",CODEBUILD_BMR_URL:"https://CODEBUILD_AGENT:3000",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.4 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",CODEBUILD_AGENT_ENDPOINT:"http://127.0.0.1:7831",CODEBUILD_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",NODE_VERSION:"16.14.2",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"ip-10-192-61-148.ec2.internal",YARN_VERSION:"1.22.18",CODEBUILD_KMS_KEY_ID:"arn:aws:kms:us-east-1:399771530480:alias/aws/s3",CTS_LINK_LOCAL_ADDR:"169.254.170.3",CODEBUILD_BUILD_ID:"prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"7",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",OLDPWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_devDependencies_sass:"1.62.0",CODEBUILD_GOPATH:"/codebuild/output/src3656729744",PYTHONUNBUFFERED:"1",CODEBUILD_CI:"true",CODEBUILD_RESOLVED_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",CODEBUILD_BUILD_NUMBER:"3686",CODEBUILD_BUILD_SUCCEEDING:"1",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.vitest.json --composite false",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",AWS_CONTAINER_CREDENTIALS_RELATIVE_URI:"/v2/credentials/5c8ee108-ace1-4192-a63b-78e50648f983",version:"7969606_m0qnawtx",CODEBUILD_BUILD_ARN:"arn:aws:codebuild:us-east-1:399771530480:build/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_dependencies_html2canvas:"1.4.1",AWS_EXECUTION_ENV:"AWS_ECS_EC2",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",CODEBUILD_ACTION_RUNNER_URL:"https://codefactory-us-east-1-prod-default-build-agent-executor.s3.us-east-1.amazonaws.com/cawsrunner.zip",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",CODEBUILD_INITIATOR:"infra-service/39fb5be31f064181be4a42be205ec4af",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",ECS_AGENT_URI:"http://169.254.170.2/api/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",npm_package_lint_staged___vue_1:"git add .",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",npm_package_lint_staged___js_1:"git add .",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_dependencies_videojs_wavesurfer:"3.9.0",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",ECS_CONTAINER_METADATA_URI_V4:"http://169.254.170.2/v4/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",ECS_CONTAINER_METADATA_URI:"http://169.254.170.2/v3/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",CODEBUILD_EXECUTION_ROLE_BUILD:"true",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/usr/local/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join/node_modules/.bin:/usr/local/lib/node_modules/pnpm/dist/node-gyp-bin:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.bin:/root/.local/bin:/google-cloud-sdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/codebuild/user/bin:/usr/.pnpm",FE_REPORT_LINK_LOCAL_ADDR:"169.254.170.8",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",CODEBUILD_LOG_PATH:"c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",CODEBUILD_BUILD_IMAGE:"399771530480.dkr.ecr.us-east-1.amazonaws.com/build-join:v2",componentName:"main",CODEBUILD_SOURCE_REPO_URL:"https://git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_dependencies_videojs_record:"4.6.0",npm_package_devDependencies_vite_plugin_environment:"1.1.3",npm_package_lint_staged___ts_1:"git add .",commitId:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",GOPATH:"/codebuild/output/src3656729744",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",CODEBUILD_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",AWS_REGION:"us-east-1",CODEBUILD_BUILD_URL:"https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825/view/new",npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",CODEBUILD_PROJECT_UUID:"bd3d1695-46ea-41cc-be26-ff64bf794fbf",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",CODEBUILD_AUTH_TOKEN:"08f5b67a-c53c-4177-890a-52ca7a27cfd4",CODEBUILD_CONTAINER_NAME:"default",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",PWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",npm_execpath:"/usr/local/lib/node_modules/pnpm/bin/pnpm.cjs",env:"prod",deploymentLevel:"live",CLOUD_SDK_VERSION:"256.0.0",CODEBUILD_FE_REPORT_ENDPOINT:"https://codebuild.us-east-1.amazonaws.com/",npm_package_dependencies_pinia_logger:"1.3.12",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_URL:"https://sentry.io/",SENTRY_LOG_LEVEL:"debug",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};const sa={NODE:"production",BACKEND:Ia.BACKEND_ENV,B_MAIN:Ia.B_MAIN,B_SOCKET:Ia.B_SOCKET,B_GAME_SOCKET_PATH:Ia.B_GAME_SOCKET_PATH,B_GAME:Ia.B_GAME,B_REQUEST:Ia.B_REQUEST,B_NOTIFICATION_BASE:Ia.B_NOTIFICATION_BASE,B_DRAW_SERVICE:Ia.B_DRAW_SERVICE};function yf(){const e=sa.BACKEND,t={BASE:"/",SOCKET:{BASE:"/",PATH:"/"},GAME:"/",REQUEST:"/",NOTIFICATION_BASE:"/",DRAW_SERVICE:bn.DRAW_SERVICE[Xe.BackendEnvs.PROD],MEDIA_SERVICE:bn.MEDIA_SERVICE[Xe.BackendEnvs.PROD],PRACTICE_SERVICE:bn.PRACTICE_SERVICE[Xe.BackendEnvs.PROD],AVATAR_SERVICE:bn.AVATAR_SERVICE[Xe.BackendEnvs.PROD],QUIZ_SERVICE:bn.QUIZ_SERVICE[Xe.BackendEnvs.PROD],AI_SERVICE:bn.QUIZ_SERVICE[Xe.BackendEnvs.PROD],AVATAR_BUCKET:bn.AVATAR_BUCKET[Xe.BackendEnvs.PROD],GAME_API:bn.GAME_API[Xe.BackendEnvs.PROD]};return Object.keys(bn).forEach(s=>{if(s==="SOCKET"){const a=bn.SOCKET[e];a&&Object.keys(a).forEach(o=>{t.SOCKET[o]=a[o]})}else t[s]=bn[s][e]}),t.BASE=sa.B_MAIN,t.SOCKET.BASE=sa.B_SOCKET,t.SOCKET.PATH=sa.B_GAME_SOCKET_PATH,t.GAME=sa.B_GAME,t.REQUEST=sa.B_REQUEST,t.NOTIFICATION_BASE=sa.B_NOTIFICATION_BASE,sa.B_DRAW_SERVICE&&(t.DRAW_SERVICE=sa.B_DRAW_SERVICE),t}const Zs=yf();var re=(e=>(e.NORMAL="normal",e.TEAM="team",e.TEST="test",e.CHALLENGE="challenge",e.TEACHER_PACED="tp",e.PRESENTATION="pres",e.FLASHCARD="flashcard",e.MYSTIC_PEAK="mystic_peak",e.MASTERY_MODE="mastery_mode",e.OFFLINE="tp_offline",e.COMMON_ASSESSMENT="common_assessment",e))(re||{}),Be=(e=>(e.LIVE="live",e.ASYNC="async",e.SOLO="solo",e.LIVEASYNC="live-async",e))(Be||{}),zn=(e=>(e.QUESTION="question",e.SLIDE="slide",e.ELEMENT="element",e.EXPLAIN="explain",e))(zn||{}),pa=(e=>(e.YOUTUBE="youtube",e.GOOGLE_DRIVE="google-drive",e.ONE_DRIVE="one-drive",e.LOCAL="local",e))(pa||{}),Mo=(e=>(e.TEACHER_PACED="teacher-paced",e.STUDENT_PACED="student-paced",e))(Mo||{}),Oc=(e=>(e.STRIKE="strike",e.SHIELD="shield",e.SKIP="skip",e))(Oc||{}),If=(e=>(e.STANDARD="standard",e.STEALTH="stealth",e.DEFLECTOR="deflector",e.ABSORPTION="absorption",e))(If||{}),Rd=(e=>(e.STANDARD="standard",e.STEALTH="stealth",e.PRECISION="precision",e.SWAP="swap",e))(Rd||{}),Sf=(e=>(e.REBOUNDED="rebounded",e.BROKE_TARGET_SHIELD="brokeTargetShield",e.STRUCK_TARGET="struckTarget",e.DEFLECTED="deflected",e.ABSORBED="absorbed",e))(Sf||{});const Sa=`${Zs.REQUEST}/`,Ma={getAppBaseUrl(){return window.location.pathname.split("/")[1]==="pro"?"/pro/join":"/join"},getSentryDsnURL(){return"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987"},getPowerupBannerURL(){return"https://cf.quizizz.com/game/img/powerups/powerup-banner.png"},getPowerupOnboardingBannerURL(){return"https://cf.quizizz.com/game/img/powerups/powerup-onboarding-banner.png"},getGlitchPowerupGifURL(e){return e===re.MYSTIC_PEAK?"https://cf.quizizz.com/game/img/powerups/snow3.png":"https://cf.quizizz.com/game/img/powerups/glitch-powerup-GIF.gif"},getPlayerMonsterURL(e){return`https://cf.quizizz.com/join/img/monsters_lg/monster${e}.png`},getSmallMonsterURL(e,t=Mt.TABLET,s=!1){const n=el(e,s);return t===Mt.PHONE?t="phone":(t===Mt.DESKTOP||t===Mt.TABLET)&&(t=Mt.TABLET),`https://cf.quizizz.com/join/img/avatars/${s?"halloween/":""}${t}_sm/${s?"":"monster"}${n}.png`},getBigMonsterURL(e,t=Mt.TABLET,s=!1){const n=el(e,s);return t===Mt.PHONE?t="phone":(t===Mt.DESKTOP||t===Mt.TABLET)&&(t=Mt.TABLET),`https://cf.quizizz.com/join/img/avatars/${s?"halloween/":""}${t}_lg/${s?"":"monster"}${n??1}.png`},getSmallTeamEmblemURL(e,t=!1){return t?`https://cf.quizizz.com/game/img/teams/halloween/emblems/sm/${e}.png`:`https://cf.quizizz.com/game/img/teams/emblems/sm/${e}.png`},getLargeTeamEmblemURL(e,t=!1){return t?`https://cf.quizizz.com/game/img/teams/halloween/emblems/lg/${e}.png`:`https://cf.quizizz.com/game/img/teams/emblems/lg/${e}.png`},getTeamMascotURL(e,t=!1){return t?`https://cf.quizizz.com/game/img/teams/halloween/mascots/${e}.png`:`https://cf.quizizz.com/game/img/teams/mascots/${e}.png`},getQuizGrade(e){return`${Sa}quiz/${e}/grades`},registerGoogleClassroomUser:`${Sa}register/google`,decodeGoogleClassroomLink(e){return`${Sa}code?c=${e}`},getDemoGamePageURL(e,t){return`${Sa}democode?mobile=true&w=2&theme=${e}&bgcolor=${t}`},getInHouseEventTrackingURL:()=>"https://analytics.quizizz.com/events",getSessionTrackingEventURL(){return"https://analytics.quizizz.com/tracking/active-time/events"},getFeedbackTrackingURL(){return"https://fnl.quizizz.com/_anserverv2/main/api/v1/feedback2"},appDeepLinkingUrls(e,t,s={}){const a=`${e===af.ANDROID?Ku.ANDROID:Ku.IOS}${t}`;return Ra(a,s)},getLMSResgisterUserUrl(e,t){const s=`${Sa}lms/${e}/2`;return Ra(s,t)},getAppUserLoginUrl(e){const t=`${Sa}auth/mobile`;return Ra(t,e)},getAppUserGoogleSignupUrl(e){const t=`${Sa}auth/google`;return Ra(t,e)},getWebLogoutUrl(){return`${Sa}auth/logout`},quizPlaceholderImage(e="big"){return e==="big"?"https://cf.quizizz.com/game/img/search/quiz-placeholder-transparent-md.png":"https://cf.quizizz.com/game/img/search/quiz-placeholder-transparent-sm.png"},getWebGameUrl(e,t={},s=""){const n=s||`${window.location.origin}${this.getAppBaseUrl()}`,a=vr(e.roomHash,e.playerId),o=`${n}/game/${a}`;return Ra(o,{gameType:e.gameType,gameState:e.gameState,...t})},getWebQuizStartUrl(e,{query:t={},forDomain:s="",replaceProtocol:n=!1,type:a=zo.QUIZ}={}){let i=`${s||`${window.location.origin}${this.getAppBaseUrl()}`}/${a}/${e}/start`;return n&&(i=i.replace(/http:\/\/|https:\/\//,"")),Ra(i,t)},getAdminQuizUrl(e,t={},s,n){let o=`${s||`${window.location.origin}`}/admin/quiz/${e}`;return n&&(o=o.replace(/http:\/\/|https:\/\//,"")),Ra(o,t)},getAdminHomeUrl(e={},t=""){const n=`${t||`${window.location.origin}`}/admin`;return Ra(n,e)},getRedemptionMascotImgUrl(e){switch(e){case"mascotWithBanner":return"https://cf.quizizz.com/game/img/misc/redemption_mascot_plus_label-600.png";case"mascot":return"https://cf.quizizz.com/game/img/misc/redemption_mascot-120.png"}},getShareableGameJoinLink(e){return`${window.location.origin}${this.getAppBaseUrl()}?gc=${e}&from=challengeFriends`},getThemeAssetsUrl(e,t){return`https://cf.quizizz.com/themes/v2/${e}/${t}.jpg`},getThemeVideoUrl(e,t){return`https://cf.quizizz.com/themes/v2/${e}/${t}.mp4`}};function Ra(e,t={}){let s=e;if(!A(t)){s+="?";let n=!1;ot(t,(a,o)=>{n&&(s+="&"),up(a)||(s+=`${o}=${a}`,n=!0)})}return s}function el(e,t){let n=e;return t&&(n%=34),n}const Ts={getCookie:e=>{const t={};return document.cookie.split(";").forEach(s=>{const[n,a]=s.split("=");t[n.trim()]=a}),t[e]},setCookie:(e,t)=>{Object.keys(t).forEach(n=>{let a=new Date;a=new Date(a.getTime()+1e3*e);const o=`${n} = ${t[n]}; expires=' + ${a.toUTCString()}; path=/;`;document.cookie=o})}},Xc={AUTH:"auth",CTA:"cta"},Rf={CLOSE:"close"},Zc=!!window.ReactNativeWebView;function Cd(e){try{window.ReactNativeWebView.postMessage(JSON.stringify(e))}catch{N.info("React Native Context not available")}}async function Cf(){const e={type:Xc.AUTH};Cd(e)}function wf(e=Rf.CLOSE){const t={type:Xc.CTA,action:e};Cd(t)}function Of(e){Ts.setCookie(86400,{_sid:e});const{search:s,origin:n,pathname:a}=window.location,i=new URLSearchParams(s).get("gc");i&&(window.location.href=`${n}${a}?gc=${i}`)}function wd(e){try{const{type:t,value:s}=JSON.parse(e.data);switch(t){case Xc.AUTH:Of(s);break;default:break}}catch{N.error("Error parsing postmessage data")}}function fC(){Zc&&(wf(),window.removeEventListener("message",wd))}Zc&&window.addEventListener("message",wd);const kf="immediate";function Pf(){return"https://analytics.quizizz.com/events"}function bf(){return"https://fnl.quizizz.com/_anserverv2/main/api/v1/other2"}const Nf={apiEndpoint:Pf(),sendAsBatched:!0,attachAdditionalParams:!0,attachAdditionalGameParams:!0,eventOptions:{}};class Df{constructor(){this.expName="",this.expSlot="",this.platform="",this.sessionId="",this.requestCountry="",this.gameData={roomHash:"",gameType:"",gameState:"",experiment:""},this.profile={userId:"",occupation:"",subPlanId:"",isLoggedIn:!1},this.playerId="",this.mediaType="",this.currentPage="",this.getEventsInBuffer=()=>{},this.putEventsInBuffer=()=>{}}init(t,s,n){this.expName=t.expName,this.expSlot=t.expSlot,this.platform=t.platform,this.getEventsInBuffer=s,this.putEventsInBuffer=n}setSessionId(t){this.sessionId=t}setRequestCountry(t){this.requestCountry=t}setGameDataState(t,s,n,a){this.gameData={roomHash:t,gameType:s,gameState:n,experiment:a}}setProfileState(t,s,n,a){this.profile={userId:s,occupation:n,isLoggedIn:t,subPlanId:a?a.planId||a.id:null}}setPlayerId(t){this.playerId=t}setMediaType(t){this.mediaType=t}setCurrentPage(t){this.currentPage=t}logEvent(t,s={},n=kf,a={}){const o=Ln(a,Nf),i=this._returnEventData(t,s,o);if(A(t)){N.error(`Error at logEvent: given eventName(${t}) is not valid`,n,s);return}N.log(`
 InHouseEventLogger logEvent:`,t,n,ys(i),`
`),this._logToAnalyticsV2(i)}async logSessionTackingEvent(t,s){const n=this._returnEventData(t,s,{attachAdditionalParams:!0,apiEndpoint:Ma.getSessionTrackingEventURL()});n.params.userId&&(N.log(`
 EventLoggerService logSessionTackingEvent:`,t,ys(n),`

`),await this._post(n,n.forApiEndpoint))}addToBuffer(t){this._selectAndPushEventsToServer(t,10)}sendPreviousSessionEvents(){const t=this.getEventsInBuffer("temp");A(t)||this._pushEventsToServer(t)}sendAllEventsInBuffer(){N.log(`
InHouseEventLogger Sending All Events in Buffer
`),this._selectAndPushEventsToServer(null,-1)}_returnEventData(t,s,n={}){let a={};n.attachAdditionalParams&&(a=this._getAdditionalParams(n));const o={},i={...a,sessionId:this.sessionId,...s};return ot(i,(r,c)=>{o[c]=typeof r=="string"?r:JSON.stringify(r)}),{eventName:t,params:o,platform:this.platform,slot:this.expSlot?Number(this.expSlot):0,experiment:this.expName,time:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),forApiEndpoint:n.apiEndpoint||Ma.getInHouseEventTrackingURL(),isBatched:n.sendAsBatched,...n.eventOptions}}_pushEventsToServer(t=[]){const s=this._groupBasedOnEndPoint(t);ot(s,(n,a)=>{A(n.batched)||this._post(n.batched,a),ot(n.unBatched,o=>{this._post(o,a)})})}async _post(t=null,s){const n={method:"POST",credentials:"same-origin",cache:"no-cache",mode:"no-cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)};try{await(await fetch(s,n)).json(),this._cleanupTempEventsQueue(t)}catch(a){N.logForSession([`Error at InHouseEventLogger._pushEventsToServer at sending ${t.length}`,t,a],"error",{numArgsToUseForSessionLog:1})}}_logToAnalyticsV2(t){this._post(t,bf())}_filterEventsToClean(t=[],s=[]){const n=[],a=ys(s);for(let o=0;o<t.length;o++){const i=Os(a,r=>r.time===t[o].time&&r.eventName===t[o].eventName);if(i>=0?a.splice(i,1):n.push(t[o]),a.length===0)break}return n}_getUserSubsPlanId(t){if(t&&t.subscriptions&&t.subscriptions.length){const s=t.subscriptions[0];return s.planId||s.id}return null}_getAdditionalParams(t){let s={};return s.screen=this.currentPage,s.country=this.requestCountry,s.media=this.mediaType,s.maxTouchPoints=(navigator==null?void 0:navigator.maxTouchPoints)||0,this.profile.isLoggedIn&&(s.userId=this.profile.userId,s.occupation=this.profile.occupation,s.subPlanId=this.profile.subPlanId),Zc&&(s.runningInWebview=!0),this.gameData.roomHash&&t.attachAdditionalGameParams&&(s=Object.assign(s,{roomHash:this.gameData.roomHash,gameType:this.gameData.gameType,gameState:this.gameData.gameState,playerId:this.playerId,sessionId:this.sessionId,userId:this.profile.userId,gameExperiment:this.gameData.experiment})),s}_cleanupTempEventsQueue(t){const s=this._filterEventsToClean(this.getEventsInBuffer("temp"),t);this.putEventsInBuffer("temp",s,!0)}_selectAndPushEventsToServer(t,s=10){let n=this.getEventsInBuffer("main");A(t)||(Array.isArray(t)?n=ca(n,t):n.push(t));let a=[];if(s<1?a=n.splice(0,n.length):n.length>s&&(a=n.splice(0,s)),!A(a)){this.putEventsInBuffer("temp",a);const o=this.getEventsInBuffer("temp");this._pushEventsToServer(o)}this.putEventsInBuffer("main",n,!0)}_groupBasedOnEndPoint(t=[]){const s={};for(let n=0;n<t.length;n++){const a=t[n].forApiEndpoint,o=t[n].isBatched;s[a]||(s[a]={batched:[],unBatched:[]}),o?s[a].batched.push(this._sanitizeEventBeforeSending(t[n])):s[a].unBatched.push(this._sanitizeEventBeforeSending(t[n]))}return s}_sanitizeEventBeforeSending(t){return wr(t,(s,n)=>!["isBatched","forApiEndpoint"].includes(n))}}const $e=new Df,ps=Pt("rootReducer",()=>{const e=p({type:"",options:{}}),t=p({name:"",options:{},actionCallback:()=>{}}),s=p({isVisible:!1,options:{}}),n=p({isVisible:!1,options:{}}),a=p({name:"",options:{}}),o=p({didScriptLoadSucceed:!1}),i=p(!1),r=p(!1),c=p(""),u=p({}),l=p(!1);function d(){const M={prevSessionMongoId:c.value,media:u.value,preGameErrorMessage:a.value,dialog:t.value,modal:{type:"",options:{}},stripe:{didScriptLoadSucceed:!1},powerupToast:{isVisible:!1,options:{}},snackBar:{isVisible:!1,options:{}}};ps().$patch(M)}function m(M){M.prevSessionMongoId&&(c.value=M.prevSessionMongoId)}function _(M){A(M.media)||(u.value=M.media,$e.setMediaType(M.media.type||""))}function f(M){s.value=M}function g(M){n.value=M}function v({type:M="",options:oe={}}={}){e.value={type:M,options:oe}}function R(M={}){e.value.options=M}function E({name:M="",actionCallback:oe=E,options:ye={}}={}){t.value={name:M,options:ye,actionCallback:oe}}function h({isVisible:M=!1,options:oe={}}={}){if(M){f({isVisible:!1,options:{}}),_c(()=>f({isVisible:M,options:oe}),0);return}f({isVisible:M,options:oe})}function k({isVisible:M=!1,options:oe={}}={}){if(M){g({isVisible:!1,options:{}}),_c(()=>g({isVisible:M,options:oe}),0);return}g({isVisible:M,options:oe})}function L({name:M="",options:oe={}}={}){a.value={name:M,options:oe}}function q(M=!1){l.value=M}function D({status:M}){o.value.didScriptLoadSucceed=M}function ee(M){i.value=M}function ie(){r.value=!0}return{modal:e,dialog:t,snackBar:s,powerupToast:n,preGameErrorMessage:a,rejoinedOnPageLoad:i,rejoinedOnSummaryPage:r,prevSessionMongoId:c,media:u,pageLoaderVisible:l,stripe:o,toggleModal:v,updateModalOptions:R,toggleDialog:E,toggleSnackBar:h,togglePageLoader:q,togglePowerupToast:k,setRejoinedOnPageLoad:ee,setRejoinedOnSummaryPage:ie,setStripeScriptLoadStatus:D,togglePreGameErrorMessage:L,setDeviceMediaDetails:_,loadPreviousContext:m,resetGame:d}}),Ua={baseServerUrl:`${Zs.BASE}/`,gameServerUrl:`${Zs.GAME}/`,requestServerUrl:`${Zs.REQUEST}/`,drawServerUrl:`${Zs.DRAW_SERVICE}/`,mediaServiceUrl:`${Zs.MEDIA_SERVICE}/`,practiceServiceUrl:`${Zs.PRACTICE_SERVICE}/`,avatarServiceUrl:Zs.AVATAR_SERVICE,quizServiceUrl:`${Zs.QUIZ_SERVICE}/`,aiServiceUrl:`${Zs.AI_SERVICE}/`,gameApiUrl:`${Zs.GAME_API}/`},xe={searchQuizzes:"searchQuizzes",searchFeaturedQuizzes:"searchFeaturedQuizzes",checkGameDomain:"checkGameDomain",getEventQuizzes:"getEventQuizzes",getRank:"getRank",reactionUpdate:"reactionUpdate",proceedGame:"v4/proceedGame",skipQuestion:"skipQuestion",skipManyQuestions:"skipManyQuestions",playerGameOver:"playerGameOver",syncPlayerResponses:"syncPlayerResponses",updatePlayerMetadata:"updatePlayerMetadata",updateResponse:"updateResponse",raiseHand:"raiseHand",createTestGameActivity:"createTestGameActivity",joinSoloGame:"joinSoloGame",joinContest:"joinContest",proceedSoloGame:"proceedSoloGame",proceedContest:"proceedContest",endSoloGame:"endSoloGame",endContest:"endContest",changeUserProfile:"changeUserProfile",changeUserPassword:"changeUserPassword",updateUserInfo:"updateUserInfo",getCurrentUserInfo:"getCurrentUserInfo",checkUserNameAvail:"checkUserNameAvail",checkEmailAvail:"checkEmailAvail",checkPhoneNumberAvail:"checkPhoneNumberAvail",deleteAccount:"deleteAccount",loginUser:"loginUser",loginUserWhenPrototyping:"loginUserWhenPrototyping",getFeaturedMemesets:"getFeaturedMemesets",checkIsQuizCompleted:"checkIsQuizCompleted",getFeaturedRecommendations:"getFeaturedRecommendations",getRecommendationsForTopic:"getRecommendationsForTopic",getGroups:"getGroups",sendAdReport:"sendAdReport",powerupsConfig:"powerupsConfig",awardPowerups:"awardPowerups",archivePowerups:"archivePowerups",replacePowerups:"replacePowerups",destroyPowerupEffect:"destroyPowerupEffect",getSelectedCourses:"getSelectedCourses",runningGames:"runningGames",completedGames:"completedGames",getRunningGameAttempts:"getRunningGameAttempts",allQuizAttempts:"allQuizAttempts",saveAvatar:"saveAvatar",updateAvatar:"updateAvatar",getMyQuizzes:"getMyQuizzes",tags:"tags",getRunningGame:"getRunningGame",appVersionConfig:"appVersionConfig",rejoinAnyGame:"rejoinAnyGame",getGroupInfo:"getGroupInfo",joinGroup:"joinGroup",getTeamPlayers:"getTeamPlayers",hostGame:"hostGame",getGameData:"getGameData",replayChallengeGame:"replayChallengeGame",googleFontCDN:"googleFontCDN",refreshAuthToken:"refreshAuthToken",generateGameChangerCertificate:"generateGameChangerCertificate",importOrRefreshLmsClasses:"importOrRefreshLmsClasses",playerLiveWhiteboard:"playerLiveWhiteboard",getIntentTopics:"getIntentTopics",updateBreakRoom:"updateBreakRoom",updatePlayerObstacle:"updatePlayerObstacle",updateWaitingLeaderboard:"updateWaitingLeaderboard",updatePathFinder:"updatePathFinder",mediaOptionUrl:"mediaOptionUrl",getMemeSetById:"getMemeSetById",getQuizInfo:"getQuizInfo",getQuizInfoForGame:"getQuizInfoForGame",addGameQuestionIssue:"addGameQuestionIssue",getQuizData:"getQuizData",getContestData:"getContestData",decodeAppUserToken:"decodeAppUserToken",checkRoom:"v5/checkRoom",checkCourse:"v1/checkCourse",getUserCourses:"getUserCourses",getQuestions:"v4/getQuestions",featureFlags:"getFeatureFlags",checkAssignment:"v5/checkAssignment",activatePowerup:"v4/activatePowerup",join:"v5/join",rejoin:"v6/rejoin",fetchPlayerSummaryAggregations:"play-api/player-summary",getP2PGameLeaderboard:"getP2PGameLeaderboard",setP2PPlayerScore:"setP2PPlayerScore",getAvatarInventory:"getAvatarInventory",setAvatarForPlayer:"setAvatarForPlayer",addLearnerFeedback:"addLearnerFeedback",editLearnerFeedback:"editLearnerFeedback",getLearnerFeedback:"getLearnerFeedback",fetchPracticeAssignments:"fetchPracticeAssignments",questionAnnotation:"questionAnnotation"};function Lf(e,t,s="="){switch(s){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t;default:return!1}}function zf(e){let t=!1;return e&&e.error&&(e.error.message||e.error.type)&&(t=!0),t}const Mf=".",Bn=1;function Ar(e){if(en(e))return e;const t=e.split(Mf);let s=0,n=[];t[t.length-2]&&(t.length>=3?(n=t[t.length-2].split("|"),s=An(n[n.length-1]),n.splice(n.length-1,1)):(n=t.slice(1),s=0));const a=n.join("|");return{eventName:t[0],baseUniqueId:a,currentTryNum:s,time:An(t[t.length-1])||null}}function tl(e){if(e.eventName){const t=e.eventName.split("/");return t.length===1?t[0]:(t.splice(0,1),t.join("/"))}return""}function Gf(e,t,s){const a=[...e],o=Os(a,c=>c===t);let i=null;const r=Number.parseInt(Ar(t).time,10);switch(s){case Lo.IN_PROGRESS:o===-1&&a.push(t);break;case Lo.DONE:o!==-1&&a.splice(o,1),r&&(i=Date.now()-r);break}return{callsList:a,callBeingUpdated:t,updationType:s,callDoneTime:i}}function Od(e){if(typeof e=="string")return e;const t=Je(e.currentTryNum)?e.currentTryNum:Bn;return`${e.eventName}.${e.baseUniqueId}|${t}.${e.time}`}function rn(e,t,s=!1){const n={},a=Ar(e),o=tl(a);for(let i=0;i<t.length;i++){const r=Ar(t[i]),c=tl(r);let u=!1;s?u=r.eventName===a.eventName:u=c===o;const l=a.baseUniqueId?a.baseUniqueId===r.baseUniqueId:!0,d=a.time?a.time===r.time:!0;if(u&&l&&d){const m=r.baseUniqueId&&r.time?`${r.baseUniqueId}|${r.time}`:r.baseUniqueId||r.time||i;n[m]?n[m]+=1:n[m]=1}}return{isIt:!A(n),matches:n}}function kd(){return window.location.hostname==="localhost"}const Ei={COOKIE_NAME:"dev_sid",LOCALSTORAGE_KEY:"dev_sid",SESSION_COOKIE_NAME:"quizizz_uid"};wn.extend(lp);wn.extend(dp);wn.extend(mp);const no=1e3,qf=no*60,Uf=qf*60,xf=Uf*24;function Qf(e,t=!1){return e?wn(e).fromNow(t):""}function Ff(e){return e?wn(e).format("h:mm A, MMM D YYYY"):""}function Bf(e,t){return wn(e).format(t)}function Hf(e,t){return wn(e).diff(wn(t),"second")}const jf={getVerboseDate:Ff,getDateDistanceFromNow:Qf,getDifferenceInSeconds:Hf,getFormattedDate:Bf};function Vf({schema:e,payload:t,apiName:s=""}){if(!e(t))throw new Error("request.VALIDATION_ERROR")}var ad;const di={endPoints:{main:{baseURL:(ad=Zs.SOCKET)==null?void 0:ad.BASE,path:"/_gsocket/sockUpg"},notification:{baseURL:Zs.NOTIFICATION_BASE,path:"/_nsocket/sockUpg/socket"}},events:{main:{ClientInitiatedMessages:["checkRoom","checkAssignment","join","rejoin","proceedGame","getQuestions","playerGameOver","getRank","reconnectRoom","activatePowerup","startGame","getReport","deletePlayer","pauseGame","reactionUpdate","v2/checkRoom","v2/checkAssignment","v2/join","v2/rejoin","v2/getQuestions","v2/proceedGame","v2/playerGameOver","v2/deletePlayer","v3/checkRoom","v3/checkAssignment","v3/join","v3/rejoin","v3/rejoin-game","v4/join","v4/rejoin","v4/rejoinGame","v4/getQuestions","v4/activatePowerup","v4/checkAssignment","v5/join","v5/rejoinGame","v5/checkAssignment","getHandshakeData"],ServerInitiatedBroadcastMessages:{addPlayer:"soc_addPlayer",deletePlayer:"soc_deletePlayer",gameOverAll:"soc_gameOverAll",gameEnded:"soc_gameEnded",reconnect:"soc_reconnect",connect:"soc_reconnect",disconnect:"soc_disconnect",gameStarted:"soc_gameStarted","team-player-shuffled":"soc_teamPlayerShuffled",addPowerupEffect:"soc_addPowerupEffect","replay-game":"soc_replayGame","replay-async":"soc_replayAsync",replay:"soc_replayChallenge",playerResponded:"soc_playerResponded",authTokenExpired:"soc_authTokenExpired",updateQuestionState:"soc_updateQuestion",proceedHostGame:"soc_proceedHostGame",hostCanvasActions:"soc_hostCanvasActions",setGameTimer:"soc_setGameTimer",pauseGame:"soc_pauseGame",reactionStopped:"soc_reactionStopped",dropHand:"soc_dropHand",raiseHandToggled:"soc_raiseHandToggled",updateGameOptions:"soc_updateGameOptions",quizUpdated:"soc_quizUpdated",handshakeData:"soc_handshakeData",updateMasteryPeakTimer:"soc_updateMasteryPeakTimer",setMasteryPeakTheme:"soc_setMasteryPeakTheme",pingTimeLeft:"soc_pingTimeLeft",playerAvatarUpdated:"soc_playerAvatarUpdated",awardTeacherPowerup:"soc_teacherPowerup",addDuelEffect:"soc_addDuelEffect",lessonPaused:"soc_lessonPaused",lessonResumed:"soc_lessonResumed",adhocQuestionAdded:"soc_addAdhocQuestion",eyesOnMe:"soc_eyesOnMe",gameModeChanged:"soc_changeGameMode"}},notification:{ClientInitiatedMessages:["subscribe","update-notification"],ServerInitiatedBroadcastMessages:{"add-notification":"soc_addNotification","quizizz-ai-stream-song":"soc_chatResponseTokenGenerated","quizizz-ai-stream-emo-reflect":"soc_chatResponseTokenGenerated","quizizz-ai-notice-wonder":"soc_chatResponseTokenGenerated","quizizz-ai-analyze-quiz-performance":"soc_chatResponseTokenGenerated"}}}},Pd="__cid__";class $f{constructor(){qe(this,"bus");qe(this,"socketStreams");qe(this,"requestModifiers");qe(this,"responseModifiers");qe(this,"callProgressUpdater");this.bus={},this.socketStreams={},this.requestModifiers=[],this.responseModifiers=[],this.callProgressUpdater=()=>{}}init(t,s={}){this.requestModifiers=s.request?ca([],s.request,this.requestModifiers):this.requestModifiers,this.responseModifiers=s.response?ca([],s.response,this.responseModifiers):this.responseModifiers,this.callProgressUpdater=t}connect(t){let s=null;const n={query:{},withCredentials:!1,path:"",timeout:0},{resolve:a,reject:o}=t.promiseRefs,{stream:i}=t,r=di.endPoints[i];if(!i||!r){N.invariant(!1,"SocketEventBus: connect call needs to mention the `stream` by calling setStream and that stream must have a valid endpoint");return}const c=typeof r=="string"?r:r.baseURL,u=typeof r=="string"?"":r.path;n.withCredentials=!0,u&&(n.path=u),Je(t.timeout)&&(n.timeout=t.timeout+500,s=setTimeout(()=>{a({connected:!1})},n.timeout)),n.query={experiment:"authRevamp"};const l=Ts.getCookie(Ei.SESSION_COOKIE_NAME);l&&(n.query["x-quizizz-uid"]=l),this.socketStreams[i]=pp(c,n);const d=Object.keys(di.events[i].ServerInitiatedBroadcastMessages),m=di.events[i].ClientInitiatedMessages;d.forEach(_=>{_.includes("quizizz-ai")?this.registerEvent("serverInitiatedbroadcast",i,_,!1):this.registerEvent("serverInitiatedbroadcast",i,_,!0)}),m.forEach(this.registerEvent.bind(this,"clientInitiated",i)),this.socketStreams[i].on("connect",_=>{s&&clearTimeout(s),a({connected:!0})})}disconnect(t){const{resolve:s}=t.promiseRefs,{stream:n}=t;this.socketStreams[n].disconnect(),s()}registerEvent(t,s,n,a=!0){this.socketStreams[s].on(n,o=>{let i={eventName:n,response:o};i=this._applyAllModifiers(this.responseModifiers,i);const r=en(i.response)&&i.response[Pd]||"";let c=null,u=null;A(r)||(u=this._getIdentifierParts(r),c=this.search(u)[0],i.callIdentifier=r),a?this._isValidResponse(i.response)?this._handleEventResolution(!0,t,c,r,u,i,s):A(u)?this.search(n).forEach(d=>{this.rejectAllRetries(d.callIdentifier),this._handleTry("reject",d.callIdentifier,Bn,i)}):this._handleEventResolution(!1,t,c,r,u,i,s):this._handleEventResolution(!0,t,c,r,u,i,s)})}resolveCall(t,s){this._handleTry("resolve",t,Bn,s,!0)}rejectCall(t,s){this._handleTry("reject",t,Bn,s,!0)}emitEvent(t,s,n){const a=this.getEventData(t,s),o=Ea(a,["eventName","payload","callIdentifier","emitsSoFar"]),i=this._applyAllModifiers(this.requestModifiers,o),r=es();s||r.updateCallInProgressStatus({callBeingUpdated:t,updationType:Lo.IN_PROGRESS}),this.socketStreams[n].emit(i.eventName,i.payload,c=>{Ms(a.onAckCB)&&a.onAckCB(c)})}add(t){this.bus[t.callIdentifier]={...t,retries:[]}}addRetry(t,s){const n=this.getEventData(t);A(n)||n.retries.push(s)}remove(t){return delete this.bus[t]}getEventData(t,s=!1){if(!s)return this.bus[this.joinIdentifierParts(t)];const n=this._getIdentifierParts(t),a=n.currentTryNum-1-Bn,o=this.joinIdentifierParts({...n,currentTryNum:Bn}),i=this.bus[o].retries[a];return A(i)?(N.logForSession([`SocketEventBus: unable to retrieve retry call data for ${t}`,i],"error",{numArgsToUseForSessionLog:1}),null):i}search(t){const s=[],n=this._getIdentifierParts(t),a=Object.keys(this.bus);for(let o=0;o<a.length;o++){const i=a[o],r=this._getIdentifierParts(i);if(n.eventName===r.eventName){const u=n.baseUniqueId?n.baseUniqueId===r.baseUniqueId:!0,l=n.time?n.time===r.time:!0;u&&l&&s.push(this.getEventData(i))}}return s}joinIdentifierParts(t){return Od(t)}rejectAllRetries(t,s={},n=!1){const{retries:a}=this.getEventData(t);for(let o=0;o<a.length;o++)this._handleTry("reject",t,o+1+Bn,s);n&&(this.getEventData(t).retries=[])}isValidStreamName(t){return!t||!di.endPoints[t]?(N.error("SocketCall: set a valid stream which should have a valid endPoint. Defaulting to stream `main`"),!1):!0}rejectRetry(t,s,n){this._handleTry("reject",t,s,n)}_isValidResponse(t){return t?!t.error:!0}_getIdentifierParts(t){return Ar(t)}_handleTry(t,s,n,a,o=!1){const i=this.getEventData(s),r=es();if(n===Bn){if(i.retries.length===0||o){i.promiseRefs[t](a),this.remove(s),r.updateCallInProgressStatus({callBeingUpdated:s,updationType:Lo.DONE});return}N.warn(`SocketEventBus: Not taking any action for id ${s} for action ${t} as currently retrys are going on. Response - `,a)}else{const c=n-Bn!==i.retries.length;if(t==="resolve"&&c&&!o){N.warn(`SocketEventBus: Not taking any action for id ${s} for action ${t} as this response is NOT for latest retry. Response - `,a);return}const u=i.retries[n-1-Bn];if(!A(u)){u.promiseRefs[t](a);return}N.error(`SocketEventBus: Error at _handleTry for identifier(${s}) as no retryData available for action(${t})`,a)}}_applyAllModifiers(t=[],s){let n=s;for(let a=0;a<t.length;a++){const o=t[a](s);A(o)||(n=ys(o))}return n}_handleEventResolution(t,s,n,a,o,i,r){const c=t?"resolve":"reject",u=Ga();if(!A(n))this._handleTry(c,n.callIdentifier,o.currentTryNum,i);else if(s==="serverInitiatedbroadcast"){const l=this._getBroadCastHandlerFromList(i.eventName,r);if(!A(l)){u[l]({response:i.response});return}N.warn(`SocketEventBus: Broadcast event(${i.eventName}) [isValid-${t}] - recieved with no HANDLER Callback present`,i)}else N.error(`SocketEventBus: unable to resolve id(${a}) for event(${i.eventName}) [isValid-${t}] - as no data in bus and not a serverInitiatedbroadcast event. Most likely response recieved after call timeout`,i)}_getBroadCastHandlerFromList(t,s){const a=this._getAllServerInitiatedEventHandlers(s)[t];return N.invariant(typeof a=="string"&&a!=="",`SocketEventBus: The serverInitiated event ${t} for stream ${s} does not a handler`),a}_getAllServerInitiatedEventHandlers(t){return di.events[t].ServerInitiatedBroadcastMessages}}const hn=new $f;class $s{constructor(t,s={},n=""){qe(this,"retryTimeouts");qe(this,"retrier");qe(this,"_hasRetryResolved");qe(this,"_baseIdentifier");qe(this,"_timeComponentForIdentifier");qe(this,"callData");this.retryTimeouts={},this.retrier=void 0,this._hasRetryResolved=!1,this._baseIdentifier=n,this._timeComponentForIdentifier=void 0,this.callData={eventName:t,payload:s,emitsSoFar:0,callIdentifier:"",timeout:void 0,onAckCB:void 0,stream:"main"},N.invariant(!Yt(n,"."),'SocketCall: the call identifier cannot have character "." in it')}static addToBus(t,s,n){if(t.eventName==="connect"){hn.connect(t);return}if(t.eventName==="disconnect"){hn.disconnect(t);return}s?hn.addRetry(n,t):hn.add(t),hn.emitEvent(t.callIdentifier,s,t.stream)}resolveCall(t){this._hasRetryResolved||(this._hasRetryResolved=!0,hn.rejectAllRetries(this.callData.callIdentifier),hn.resolveCall(this.callData.callIdentifier,t))}rejectCall(t){this._hasRetryResolved||(this._hasRetryResolved=!0,hn.rejectAllRetries(this.callData.callIdentifier),hn.rejectCall(this.callData.callIdentifier,t))}emit(){return this.callData.emitsSoFar+=1,this._timeComponentForIdentifier=Date.now(),this.callData.callIdentifier=$s._generateIdentifier(this.callData.eventName,this._baseIdentifier,this.callData.emitsSoFar,this._timeComponentForIdentifier),this.callData.payload=$s._getCookedPayload(this.callData.payload,this.callData.callIdentifier),this._emit(this.callData,!1)}clearAllTimeouts(){gp(this.retryTimeouts,t=>{clearTimeout(t)}),this.retryTimeouts={}}addRetrier(t){this.retrier=t}timeoutAfter(t){this.callData.timeout=t}setStream(t){hn.isValidStreamName(t)&&(this.callData.stream=t)}async _invokeRetrier(t){if(t!==this.callData.callIdentifier&&hn.rejectRetry(this.callData.callIdentifier,this.callData.emitsSoFar,this._getRejectData(!0,{type:"timeout"},!0,t)),this.retrier&&Ms(this.retrier)){const s=this.retrier(this.callData);if(s!=null&&s.shouldRetry&&!this._hasRetryResolved){this.callData.emitsSoFar+=1;const n=$s._generateIdentifier(this.callData.eventName,this._baseIdentifier,this.callData.emitsSoFar,this._timeComponentForIdentifier),a={...s.callData,payload:$s._getCookedPayload(s.callData.payload,n),eventName:this.callData.eventName,callIdentifier:n};try{const o=await this._emit(a,!0);this.resolveCall(o)}catch(o){N.logForSession([`SocketCall: error at _invokeRetrier for ${t}`,a,o],"error",{numArgsToUseForSessionLog:1}),o&&o.cancelled&&o.error&&o.error.type!=="timeout"&&this.rejectCall({...o,callIdentifier:n})}}else this.rejectCall(this._getRejectData(!1,{type:"timeout"},!0,this.callData.callIdentifier))}else this.rejectCall(this._getRejectData(!1,{type:"timeout"},!1,this.callData.callIdentifier))}_emit(t,s){return new Promise((n,a)=>{const o=t.callIdentifier;if(t.promiseRefs={resolve:n,reject:a},Je(this.callData.timeout)&&t.eventName!=="connect"){const i=setTimeout(()=>{this._invokeRetrier(o),clearTimeout(i)},t.timeout);this.retryTimeouts[o]=i,t.promiseRefs={resolve:$s._wrapPromiseRefs(n,this.retryTimeouts[o]),reject:$s._wrapPromiseRefs(a,this.retryTimeouts[o])}}$s.addToBus(t,s,this.callData.callIdentifier)})}static _getCookedPayload(t,s){return N.invariant(en(t),`SocketCall 'payload' needs to be an object for identifier ${s}`),t[Pd]=s,t}static _generateIdentifier(t,s,n,a){let o=s||"";return s&&Ms(s)&&(o=s()),hn.joinIdentifierParts({eventName:t,baseUniqueId:o,currentTryNum:n,time:a||Date.now()})}static _wrapPromiseRefs(t,s){return function(...a){s&&clearTimeout(s),t(...a)}}_getRejectData(t,s,n=!1,a){return{callIdentifier:a,cancelled:t,error:s||{type:"unknown"},didRetry:n,eventName:this.callData.eventName,response:null}}}function Wf(){const e=new $s("connect");return e.setStream("main"),e.timeoutAfter(12e3),e.emit()}function Yf(){const e=new $s("connect");return e.setStream("notification"),e.timeoutAfter(12e3),e.emit()}function Kf(){return new $s("disconnect").emit()}function Jf(e,t=[]){const s=new $s("reconnectRoom",{roomHash:e,entities:t});return s.timeoutAfter(5e3),s.addRetrier(n=>({shouldRetry:n.emitsSoFar<=1,callData:n})),s.emit()}function Xf(e){const t=new $s("subscribe",e);return t.setStream("notification"),t.timeoutAfter(6e3),t.addRetrier(s=>({shouldRetry:(s.emitsSoFar||0)<=1,callData:s})),t.emit()}function _C(e){const t=new $s("startGame",e);return t.timeoutAfter(1e4),t.emit()}function Zf(e){const t=new $s("getReport",e);return t.timeoutAfter(1e4),t.emit()}function hC(e){return new $s("v2/deletePlayer",e).emit()}function e_(){const e=new $s("getHandshakeData");return e.timeoutAfter(1e4),e.emit()}const xa={},sl=[xe.getRunningGame],t_=50,s_=[xe.activatePowerup,xe.join,xe.rejoin,xe.checkAssignment,xe.playerGameOver],ir="X-Amzn-Trace-Id";function n_(e){const{requestName:t,callId:s=""}=e,n=Od({eventName:t,baseUniqueId:s,time:Date.now()});e.requestId=n}function a_(e){var s;const t=e.headers||{};(s=e==null?void 0:e.url)!=null&&s.includes("play-api")&&(t.Credentials="include")}function o_(e){e.headers}async function i_(e){var a;const t=es();let s=(t==null?void 0:t.socketHandshakeInfo)||{};const{requestName:n}=e;if((a=e==null?void 0:e.url)!=null&&a.includes("play-api")&&s_.includes(n)){if(!s.ip)try{const{response:o}=await e_();s=o,t.setSocketHandshakeInfo(o)}catch{s.ip="127.0.0.1"}e.data={...e.data,...s}}}function r_(e){const t=Ts.getCookie(Ei.COOKIE_NAME),s=Ss.getItem(Ei.LOCALSTORAGE_KEY)||"",n=t||s||"",a=e.headers||{};let o=Ts.getCookie(Ei.SESSION_COOKIE_NAME);if(kd()&&(n&&(a["x-auth-sessionid"]=n),!o)){const i=xf*365;o=fp(),Ts.setCookie(i,{[Ei.SESSION_COOKIE_NAME]:o})}o&&(a["x-quizizz-uid"]=o)}function c_(e){const t=e.headers||{},s=hg();t["x-q-traceid"]=s,t[ir]=s}function u_(e){const t=Ts.getCookie("QUIZIZZ_EXP_NAME"),s=e.headers||{};t&&(s["experiment-name"]=t)}function l_(e){const t=Ss.getItem("x-q-request-context-token",{parseFromJSON:!1,removeItemOnError:!1});t&&(e.headers["x-q-request-context-token"]=t)}function d_(e){const t=es(),{requestId:s}=e;t&&t.updateCallInProgressStatus({callBeingUpdated:s,updationType:Lo.IN_PROGRESS})}function m_(e){const t=["get","head"],{method:s="get"}=e,n=!t.includes(s),a=e.headers||{},o=Ts.getCookie("x-csrf-token");n&&o&&(a["x-csrf-token"]=o)}function p_(e){const{requestName:t,url:s,headers:n,method:a,requestId:o,data:i={}}=e,r={url:s,headers:n,method:a,requestId:o};a!=="get"&&(r.payload=i),N.info(`
(HTTP)(REQUEST: - for '${t}' 
 Request - `,r,`

`)}function g_(e){const{requestName:t}=e;if(!(!sl.includes(t)&&sl.length!==0)){if(!xa[t]){xa[t]={firstCallTimestamp:Date.now(),frequency:1};return}if(jf.getDifferenceInSeconds(Date.now(),xa[t].firstCallTimestamp)>10){xa[t]={firstCallTimestamp:Date.now(),frequency:1};return}if(xa[t].frequency>=t_){N.logOnSentry(["request.LOOP_DETECTED"],"exception","error"),delete xa[t];return}xa[t].frequency+=1}}function f_(e){const{requestName:t,data:s=null,APISchema:n=null,requestId:a}=e;if(s&&n)try{Vf({schema:n,payload:s,apiName:t})}catch(o){throw new _p(o.message,"",{requestName:t,requestId:a,data:s,time:e.time,headers:e.headers,error:{type:o.message}})}}function __(e){const t=e.headers["x-q-request-context-token"];t&&Ss.setItem("x-q-request-context-token",t,{storeAsJSON:!1})}function Kr(e){const t=es(),{requestId:s}=e;t&&t.updateCallInProgressStatus({callBeingUpdated:s,updationType:Lo.DONE})}function Jr(e){const{config:{requestName:t,time:{end:s=Date.now(),start:n}},data:a,status:o,message:i}=e,r=s-n;N.info(`
(HTTP)(RESPONSE): - for '${t}' 
 Response - `,{data:a||i,status:o,timeTaken:r},`

`)}function h_(e){const{data:{api:t,emit:s}}=e,n=t==null?void 0:t.includes("play-api");Cc&&n&&(e.data=s)}const E_=30*no,bd="Request timed out by client";function v_(e,t,s){if(s===0)return!1;const{status:n,comparator:a}=t;return s>0&&Lf(e,n,a)}function A_(e){return new Promise(t=>{setTimeout(()=>t(!0),e)})}const eu=hp.create({withCredentials:!0,headers:{Credentials:"same-origin","Content-Type":"application/json",Accept:"application/json"},timeout:E_,timeoutErrorMessage:bd});async function vi(e){var r,c,u,l,d;const t=es(),{retryCount:s=0,retryDelay:n=1*no,statusCodesToRetryOn:a={status:500,comparator:">="},...o}=e;let i=s;try{const{data:m,requestTimeTaken:_,config:f,status:g}=await eu(o)||{};return{response:m,requestTimeTaken:_,traceId:((r=f.headers)==null?void 0:r[ir])||"",url:f.url||"",statusCode:g}}catch(m){const _=+((c=m==null?void 0:m.response)==null?void 0:c.status);if(v_(_,a,i))return i-=1,await A_(n),vi({...e,retryCount:i});const{response:f,config:g,message:v=""}=m;t&&t.handleCommonApplicationErrors(m);const R=v===bd,E=((l=(u=f==null?void 0:f.config)==null?void 0:u.headers)==null?void 0:l[ir])||((d=g==null?void 0:g.headers)==null?void 0:d[ir])||"",h=(f==null?void 0:f.data)||(f==null?void 0:f.error)||g||{};throw{response:R?{error:{type:"timeout"}}:h,requestName:o.requestName,traceId:E,statusCode:_,url:(f==null?void 0:f.config.url)||g.url}}}eu.interceptors.request.use(async e=>{const t={...e};return t.time={start:Date.now()},n_(t),c_(t),a_(t),o_(t),l_(t),await i_(t),f_(t),g_(t),r_(t),m_(t),u_(t),d_(t),p_(t),Ig(t),["e2e","jenkins"].includes("production")&&(e.headers["x-q-e2e"]="github"),t},e=>Promise.reject(e));eu.interceptors.response.use(e=>{const{config:t,data:s}=e;t.time.end=Date.now(),__(e);const n={...e,requestTimeTaken:t.time.end-t.time.start};if(zf(s)){const a={response:e};throw Kr(t),Jr(e),a}return Kr(t),h_(n),Jr(e),n},e=>{const{response:t}=e;throw Kr((t==null?void 0:t.config)||e.config),Jr(t||e),e});const ke={get(e,t){return vi({method:"get",url:e,...t})},post(e,t){const{payload:s,...n}=t;return(!s||typeof s!="object")&&N.logForSession("Error at HTTP POST: payload must be an object","error"),vi({method:"post",url:e,data:s,...n})},put(e,t){const{payload:s,...n}=t;return(!s||typeof s!="object")&&N.logForSession("Error at HTTP PUT: payload must be an object","error"),vi({method:"put",url:e,data:s,...n})},delete(e,t){const{payload:s,...n}=t;return vi({method:"delete",url:e,data:s,...n})}},{requestServerUrl:va,quizServiceUrl:T_,gameApiUrl:y_}=Ua;async function tu({quizId:e,bypassProfanityCheck:t=!1,retryCount:s=1,requestPrivileges:n=!1}){if(!rd.isValid(e))throw N.error("Invalid quiz id",e),new Error("Invalid quiz id");const a=`${T_}quiz/${e}?bypassProfanity=${t}&returnPrivileges=${n}&source=join`;return ke.get(a,{retryCount:s,callId:e,requestName:xe.getQuizData})}async function I_(e,t,s=!1){let n=`${va}playerProfileV2/quizAttempts?quizId=${e}${t?`&quizVersionId=${t}`:""}`;return s&&(n=`${y_}v1/students/attempts/${e}`),ke.get(n,{requestName:xe.allQuizAttempts})}async function S_(e=0,t="createdAt",s="desc",n,a=!0,o={tags:[]}){let i=`${va}search?personal=true&from=${e}&createdByMe=${a}`;return i+=`&sortKey=${t}&order=${s}`,i+=`&filterList=${JSON.stringify(o)}`,i+=`&size=${n}`,ke.get(i,{requestName:xe.getMyQuizzes})}async function R_(e=0,t=5){const s=`${va}playerProfileV2/completed?start=${e}&pageSize=${t}`;return ke.get(s,{requestName:xe.completedGames})}async function C_(){const e=`${va}v4/students/running`;return ke.get(e,{requestName:xe.runningGames})}async function EC(e){const t=`${va}game`;return ke.post(t,{payload:e,requestName:xe.hostGame})}async function Nd(e){const t=`${va}game/${e}`;return ke.get(t,{retryCount:1,requestName:xe.getGameData})}async function w_(e,t){const s=`${va}game/${e}/replay`;return ke.post(s,{payload:t,requestName:xe.replayChallengeGame})}async function O_(e){const t=`${va}quiz/${e}/info`;return ke.get(t,{retryCount:1,requestName:xe.getQuizInfo})}async function k_(e,t,s,n){const a=`${va}game/${e}/quiz-info?gameState=${t}&gameType=${s}&fetchQuizName=${n}`;return ke.get(a,{retryCount:1,requestName:xe.getQuizInfoForGame})}const nl=["🖕","🍆","🍑","💦","💩","👉👌","🦪","💣","🔫","🗡","🔪","⚔","🚬","💉","💊","♋","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🍶","🍌","🤬"],Dd=["deez nut","deeez nut","fuck","f u c k","f uck","fuc k","fu ck","asshole","bastard","bitch","damn","douche","faggot","pornhub","pornstar","slut","nigga","poop"],Ld=["anal","anus","arrse","arse","ass","asses","assfukka","asswhole","a_s_s","b!tch","b17ch","banged","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","benchod","bhenchod","bi+ch","biatch","bloody","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","booty","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bullshit","bum","butt","butthole","buttmuch","buttplug","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","damn","dicks","dickhead","dildo","dildos","dink","dinks","dirsa","doggin","dogging","donkeyribber","doosh","duche","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f4nny","fack","fak","fag","fagging","faggitt","faggot","faggs","faggy","fagot","fagots","fags","fannyflaps","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","flange","fook","fooker","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fuq","fux","fuxor","f_u_c_k","gangbang","gangbanged","gangbangs","gaysex","goatse","god-dam","god-damned","goddamn","goddamned","gun","hardcoresex","hell","heshe","hitler","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lmfao","lust","lusting","m45terbate","ma5terb8","ma5terbate","masochist","massacre","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mofo","muff","mutha","muthafecker","muther","nipple","nipples","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nobhead","nobjocky","nobjokey","nuts","nutz","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","pawn","pecker","penis","perv","pervert","phonesex","phuck","phuked","phuking","phukked","phukking","phuks","phuq","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","shoot","skank","slut","sluts","smegma","smut","spunk","suck","sucking","sucks","taint","teets","teez","testical","testicle","tit","tits","titt","titties","titty","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx","rape","rapes","rapist","raping","kill","killer","kills","killed","killing","dayum","卐","卍"];function zd(e="",t=[]){for(let s=0;s<t.length;s++)if(e.includes(t[s]))return!0;return!1}function Md(e="",t=[]){const s=e.split(/[\s\.\-\?\+\(\)\[\]&,_!@#\$%=]+/);for(let n=0;n<s.length;n++)for(let a=0;a<t.length;a++)if(s[n]===t[a])return!0;return!1}function P_(e=""){for(let t=0;t<nl.length;t++)if(new RegExp(nl[t]).test(e))return!0;return!1}function b_(e=""){return e=e.replace(/[4@]/g,"a"),e=e.replace(/[1!|]/g,"i"),e=e.replace(/[7\+]/g,"t"),e=e.replace(/#/g,"h"),e=e.replace("0","o"),e=e.replace(/[$5]/g,"s"),e=e.replace(/(^|\s+)(.)($|\s+)/g,"$2"),!!(zd(e,Dd)||Md(e,Ld))}function Wo(e=""){return e=e.toLowerCase(),e=e.replace(/\s\s+/g," "),e=e.replace(/[\-_]/g," "),e=e.replace(/a+/g,"a"),e=e.replace(/u+/g,"u"),e=e.replace(/h+/g,"h"),e=e.replace(/j+/g,"j"),e=e.replace(/k+/g,"k"),e=e.replace(/q+/g,"q"),e=e.replace(/v+/g,"v"),e=e.replace(/w+/g,"w"),e=e.replace(/x+/g,"x"),e=e.replace(/y+/g,"y"),!!(zd(e,Dd)||Md(e,Ld)||P_(e)||b_(e))}function vC(e=""){return Wo(e)?"Fluffy Puppy":e}const N_=(e,t)=>{const s=e[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t)))})},Yi="qGameTranslations";class D_{constructor(){qe(this,"englishLocale");qe(this,"currentLanguage");qe(this,"allPossibleLangValues");qe(this,"configFetchedForLanguages");qe(this,"configInStorageForLanguages");qe(this,"currentLanguageConfig");qe(this,"englishStringsMap");this.englishLocale=xt(ma,{lang:"English"}).locale,this.currentLanguage=this.englishLocale,this.allPossibleLangValues=wt(ma,t=>t.locale),this.configFetchedForLanguages={},this.configInStorageForLanguages={},this.currentLanguageConfig={},this.englishStringsMap={},Ya.setItem(Yi,{})}getTranslation(t,s=[],n=0){const a=String(t);let o=s,i=n;return!Je(n)&&Je(s)&&(i=s,o=[]),this.translate(a,this.currentLanguage,o,i)}async setCurrentLanguage(t){if(N.invariant(!!t,`Translator: invalid language '${t}' provided to setCurrentLanguage`),t===this.englishLocale)return this.englishStringsMap={},this.currentLanguage=t,{success:!0};this.englishStringsMap=await this.getEnglishStringsMap();try{return this.currentLanguageConfig=await this.getTranslationsForLocale(t),this.currentLanguage=t,{success:!0}}catch(s){return N.error(`Translator: error in fetching locale JSON for ${t}`,s),{success:!1}}}isAValidLanguage(t){return t?Yt(this.allPossibleLangValues,t):!1}translate(t,s=this.englishLocale,n=[],a){const o=z_(s),i=o&&s!==this.englishLocale,r=!A(this.englishStringsMap);if(s===this.englishLocale||!o||i&&!r)return Ki(t,n);const c=this.currentLanguageConfig;if(!(`${t}`in this.englishStringsMap))return N.warn(`Translator: the string '${t}' does not exist in the englishStringsMap. Falling back to 'en'`),Ki(t,n);const l=this.englishStringsMap[`${t}`];if(Fo(c)){const d=l in c;return N.invariant(d,`Translator: the string '${t}' does not have a translation for locale '${s}'. Falling back to 'en'`),Ki(d?c[l]:t,n)}return t}async getEnglishStringsMap(){let t={};try{const{default:s}=await Ue(()=>import("./en.8gmbScBx.js"),__vite__mapDeps([]));N.invariant(!A(s),"Translator: The file '/translations/en.json' has empty content. No English strings map found."),t=s}catch(s){N.logForSession(["Translator getEnglishStringsMap",s],"error")}return t}async getTranslationsForLocale(t){const s=t in this.configFetchedForLanguages,n=t in this.configInStorageForLanguages;let a;if(s&&n){const o=Ya.getItem(Yi)||{},i=!A(o)&&t in o;return N.invariant(i,`Translator: translations for locale '${t}' does not exist in translations fetched from session storage`),o[t]}try{a=(await N_(Object.assign({"../../translations/ar.json":()=>Ue(()=>import("./ar.D7CUxPZ_.js"),__vite__mapDeps([])),"../../translations/az.json":()=>Ue(()=>import("./az.B06nzi-D.js"),__vite__mapDeps([])),"../../translations/de.json":()=>Ue(()=>import("./de.g-t-fh_O.js"),__vite__mapDeps([])),"../../translations/en.json":()=>Ue(()=>import("./en.8gmbScBx.js"),__vite__mapDeps([])),"../../translations/es.json":()=>Ue(()=>import("./es.CKZtWJ4D.js"),__vite__mapDeps([])),"../../translations/fr.json":()=>Ue(()=>import("./fr.Cuo4Ja8v.js"),__vite__mapDeps([])),"../../translations/id.json":()=>Ue(()=>import("./id.BBrLGarZ.js"),__vite__mapDeps([])),"../../translations/it.json":()=>Ue(()=>import("./it.BbmZFG8A.js"),__vite__mapDeps([])),"../../translations/ja.json":()=>Ue(()=>import("./ja.faerskHU.js"),__vite__mapDeps([])),"../../translations/kk.json":()=>Ue(()=>import("./kk.S_4sVePh.js"),__vite__mapDeps([])),"../../translations/ko.json":()=>Ue(()=>import("./ko.DmIufJCx.js"),__vite__mapDeps([])),"../../translations/ms.json":()=>Ue(()=>import("./ms.o28OST5u.js"),__vite__mapDeps([])),"../../translations/nl.json":()=>Ue(()=>import("./nl.DoNIs7bY.js"),__vite__mapDeps([])),"../../translations/pl.json":()=>Ue(()=>import("./pl.DT6-8QuM.js"),__vite__mapDeps([])),"../../translations/pt-br.json":()=>Ue(()=>import("./pt-br.CPDpNV-y.js"),__vite__mapDeps([])),"../../translations/ru.json":()=>Ue(()=>import("./ru.DBxlx7VE.js"),__vite__mapDeps([])),"../../translations/th.json":()=>Ue(()=>import("./th.CzS9B2Zs.js"),__vite__mapDeps([])),"../../translations/tl.json":()=>Ue(()=>import("./tl.Bj7xHszm.js"),__vite__mapDeps([])),"../../translations/tr.json":()=>Ue(()=>import("./tr.DnCTKJ9i.js"),__vite__mapDeps([])),"../../translations/vi.json":()=>Ue(()=>import("./vi.ka0cVNy7.js"),__vite__mapDeps([])),"../../translations/zh-CN.json":()=>Ue(()=>import("./zh-CN.B7LbuMGM.js"),__vite__mapDeps([])),"../../translations/zh-TW.json":()=>Ue(()=>import("./zh-TW.DvHTsfVv.js"),__vite__mapDeps([]))}),`../../translations/${t}.json`)).default;const i=!A(a);if(N.invariant(i,`Translator: invalid response on fetching for locale '${t}' at '${a}'`),!i)return{};this.configFetchedForLanguages[t]=!0;const r=Ya.getItem(Yi)||{};return r[t]=a,Ya.setItem(Yi,r),this.configInStorageForLanguages[t]=!0,a}catch(o){throw N.logForSession([`Translator: Error at fetching translation file at '${a}'`,o]),o}}}const Ni=new D_,X=Ni.getTranslation.bind(Ni),L_=Ni.getTranslation.bind(Ni);function Ki(e,t){if(!t)return e;let s=e,n=0;const a=/(\{\$.*?\})/;let o=a.exec(s);for(;o;)t[n]===void 0?s=s.replace(a,""):s=s.replace(a,t[n]),n+=1,o=a.exec(s);return s}function z_(e){const t=wt(ma,s=>s.locale);return Yt(t,e)}const kc=[90,200,400,600,900,1280];function M_(e="",t,s){let n=e;if(e.split("?").length>1)ot(t,(o,i)=>{const r=new RegExp(`[\\?&]${o}=([^&#]*)`),c=r.exec(e);if(c===null)n+=`&${o}=${s[i]}`;else{const u=c[0].charAt(0);n=e.replace(r,`${u+o}=${s[i]}`)}});else{let o="?";ot(t,(i,r)=>{o+=`${r!==0?"&":""}${i}=${s[r]}`}),n+=o}return n}function yi(e,t={deviceType:""},s=""){if(t.paramVal)return al(e,t.paramVal,t.deviceType);switch(s){case"question":return su(e,t.deviceType);case"option":return q_(e,t.dimToCheckAgainst);case"demoGame":return U_(e,t.deviceType);case"meme":return x_(e,t.deviceType);case"preview":return ol(e);case"preview-default":return ol(e,!0,t.imageType,t.deviceType);case"contentSlides":return Q_(e,t.deviceType,t.contentSlideType);case"misc":default:return al(e,t.dimToCheckAgainst,t.deviceType)}}function G_(e){const t=[...kc],s={w:t[t.length-1],h:t[t.length-1]};for(let n=0;n<t.length;n++){const a=t[n];if(e<=a){s.w=a,s.h=a;break}}return s}function Ws(e,t){return M_(e,["w","h"],[`${t}`,`${t}`])}function su(e,t){switch(t){case Mt.PHONE:return Ws(e,400);case Mt.TABLET:return Ws(e,600);case Mt.DESKTOP:return Ws(e,900);default:return Ws(e,900)}}function q_(e,t=0){return t<1366?Ws(e,400):Ws(e,900)}function U_(e,t){switch(t){case Mt.PHONE:return Ws(e,200);case Mt.TABLET:return Ws(e,400);case Mt.DESKTOP:return Ws(e,600);default:return Ws(e,900)}}function x_(e,t){switch(t){case Mt.PHONE:return Ws(e,400);case Mt.TABLET:case Mt.DESKTOP:default:return Ws(e,600)}}function al(e,t=0,s){if(t){const n=G_(t);return Ws(e,n.w)}return s?su(e,s):Ws(e,kc[kc.length-1])}function ol(e,t=!1,s="",n="desktop"){return t?s==="question"?su(e,n):Ws(e,400):Ws(e,900)}function Q_(e,t="desktop",s=""){const n=s===uf.MEDIA_SUBTITLE;let a=600;switch(t){case Mt.PHONE:a=n?600:400;break;case Mt.TABLET:a=n?900:600;break;case Mt.DESKTOP:default:a=n?1280:900;break}return Ws(e,a)}function Gd(e,t=!0,s=!1){const n=[X("Jan"),X("Feb"),X("Mar"),X("Apr"),X("May"),X("Jun"),X("Jul"),X("Aug"),X("Sep"),X("Oct"),X("Nov"),X("Dec")],a=new Date(e);let o="AM",i=a.getHours();i===12?o="PM":i>12&&(o="PM",i-=12);const r=Z_(a.getMinutes());let c="";return t&&(c+=`${i}:${r} ${o}, `),c+=`${n[a.getMonth()]} ${a.getDate()}`,s&&(c=`${c} ${a.getFullYear()}`),c}function AC(e){const t=Je(e)?e:Number.parseInt(e,10);return Number.isNaN(t)?e:`${t}${F_(t)}`}function F_(e){const t=e%10,s=e%100;return t===1&&s!==11?"st":t===2&&s!==12?"nd":t===3&&s!==13?"rd":"th"}function TC(e){return e>999?`${Math.floor(e/1e3)}k`:e}function Ii(e){return Object.values(rt).includes(e)}function Dr(e){return wt(ma,s=>s.locale).includes(e)}function Tr(e){const t=/(<([^>]+)>)|(&nbsp;)/ig,s=/([_]+)/ig,n=/(\<div class=.kr-math.)([^>]+)\>([^\</]+)(\<\/div\>)/ig,a=/\-+\>/ig;let o=e.replace(n,". . an expression . .");return o=o.replace(t,""),o=o.replace(s,",blank,"),o=o.replace(a,",gives,"),o}function un(e,t=""){var s,n;if(e.error&&e.error.type)return e.error.type;if(e.response){const{response:a}=e,o=(s=a==null?void 0:a.error)==null?void 0:s.type;if(o)return o;if(a.success===!1&&typeof a.type=="string")return a.type;if(a.success===!1&&typeof a.error=="string"||!us(a.success)&&a.error instanceof Error)return a.error;if((n=a==null?void 0:a.data)!=null&&n.type)return a.data.type}return t}function yC(e,t=[]){for(let s=0;s<t.length;s++)e.classList&&e.classList.add&&e.classList.add(t[s])}function IC(e,t=[]){for(let s=0;s<t.length;s++)e.classList&&e.classList.remove&&e.classList.remove(t[s])}function SC(e,t,s){t=encodeURIComponent(t);const n=`([&?]|&amp;)${t}\\b(?:=(?:[^&#]*))*`,a=document.createElement("a"),o=new RegExp(n),i=t+(s?`=${encodeURIComponent(s)}`:"");a.href=e;const r=a.search.replace(o,`$1${i}`);return r===a.search?a.search+=(a.search?"&":"")+i:a.search=r,a.href}function B_(e){const t=[];return Object.keys(e).reduce((n,a)=>(e[a]&&n.push(`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`),n),t).join("&")}function qd(e){const t=document.createElement("a");t.href=e;const s=hc(t.search.replace("?","").split("&")),n={};return s.forEach(a=>{const o=a.split("=")[0],i=a.split("=")[1];n[o]=i}),n}function H_(e){const t=document.createElement("a");return t.href=e,t.pathname}function j_(){return window.navigator.userAgent.match(/iphone|ipod|ipad/i)}function RC(e,t,s){return new Promise(n=>{try{const a=document.createElement(t),o=a.canPlayType(e);if(!A(o)){n(!0);return}const i=setTimeout(()=>{n(!1)},3e3);a.onerror=()=>{i&&clearTimeout(i),n(!1)},a.oncanplay=()=>{i&&clearTimeout(i),n(!0)},a.src=s}catch{n(!1)}})}function V_(){return window.navigator.language||window.navigator.userLanguage}function La(e,t){let s=e;const n=s.split("?");if(n.length>=2){const a=`${encodeURIComponent(t)}=`,o=n[1].split(/[&;]/g);for(let i=o.length;i-- >0;)o[i].lastIndexOf(a,0)!==-1&&o.splice(i,1);s=n[0],o.length&&(s+=`?${o.join("&")}`)}return s}function CC(e,t,s,n,a,o){let i=0,r=0,c=0,u=0,l=il(e,o);for(let d=l.length-1;d>=0&&(c=l[d],!(s>=l[d]));d--);l=il(t,o);for(let d=l.length-1;d>=0&&(u=l[d],!(n>=l[d]));d--);return a>1?(i=c,r=u/a):a<1?(r=u,i=c*a):(r=u,i=c),{width:i,height:r}}function wC(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0D\x0A))?(\x20|\x09)+)?(([\x01-\x08\x0B\x0C\x0E-\x1F\x7F]|\x21|[\x23-\x5B]|[\x5D-\x7E]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0B\x0C\x0D-\x7F]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0D\x0A))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)}function OC(e){return/^\d{10}$/.test(e)}function kC(){return"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}function $_(){if(window.performance){const e=window.performance;try{const t=Ms(e.getEntriesByType)&&e.getEntriesByType("navigation")[0];if(t&&t.entryType)return t.entryType}catch(t){N.error("Error at pageLoadType",t)}if(e.navigation&&Je(e.navigation.type))switch(e.navigation.type){case e.navigation.TYPE_NAVIGATE:return"navigate";case e.navigation.TYPE_RELOAD:return"reload";case e.navigation.TYPE_BACK_FORWARD:return"back-forward";case e.navigation.TYPE_RESERVED:return"reserved"}}return"unknown"}function W_(e,t=!1){const s=window.innerWidth,n=vp(),a=window.innerHeight,o=(e==null?void 0:e.isTouchSupported)||t,i=Math.max(s,n),r=Math.min(s,n);let c=e.type||Mt.DESKTOP,u=e.orientation||la.PORTRAIT;return s/n>1?u=la.LANDSCAPE:u=la.PORTRAIT,r<$r.MIN_TABLET_WIDTH&&i<$r.MAX_TABLET_WIDTH?c=Mt.PHONE:s<=$r.MAX_TABLET_WIDTH&&u===la.PORTRAIT?c=Mt.TABLET:c=Mt.DESKTOP,{width:s,height:n,orientation:u,type:c,isTouchSupported:o,visibleViewportHeight:a}}function PC(e){const t=document.getElementById(e);let s=!1;return t&&t.select&&(t.select(),s=document.execCommand("copy")),s}function bC(e={}){const t=!!(window.navigator&&window.navigator.share);if(t&&"canShare"in window.navigator&&navigator.canShare(e))try{window.navigator.share(e)}catch(s){N.error("Error at tryNativeBrowserShare",s)}return t}function NC(e){if(e=String(e),document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1}function DC(e){var i;const t=e.replace(/<p style="display:inline">/g,"").replace(/<p>/g,"").replace(/<\/p>/g,"<br /><br />").replace(/<ol>/g,"").replace(/<\/ol>/g,"").replace(/<ul>/g,"").replace(/<\/ul>/g,"").replace(/<li>/g,"").replace(/<\/li>/g,""),s=t.match(/<blank.*?<\/blank>/g);if(!s)return[t];let n=t;ot(s,r=>{n=n.replace(r,";blank;")});const a=[];let o=0;return n.split(";blank;").forEach(r=>{if(r.includes("<br>")){const c=r.split("<br>");a.push(c[0]),a.push("<br>"),a.push(c[1])}else a.push(`${r} `);o<s.length&&(a.push(s[o]),o+=1)}),a[a.length-1]===" <br /><br /> "?a.pop():a[a.length-1]=(i=a[a.length-1])==null?void 0:i.replace("<br /><br />",""),a}function LC(e){let t=-1;return e.replace(/<blank.*?<\/blank>/g,()=>(t+=1,`(${String.fromCharCode(+"097"+t)}) _ _ _ _ _ _ _ _ _ _`))}function Y_(e,t=!1){const s=e.match(/<blank id=".*?<\/blank>/g),n={};return ot(s,(a,o)=>{var u,l;const i=(u=a.match(/id.*?=.*?".*?"/))==null?void 0:u[0],r=(l=i==null?void 0:i.match(/".*"/))==null?void 0:l[0],c=unescape((r==null?void 0:r.substring(1,(r==null?void 0:r.length)-1))||"");c&&(n[c]=t?o:"")}),n}function zC(e){const t=e.match(/<blank.*?<\/blank>/g);if(!t)return e;let s=e;return ot(t,(n,a)=>{s=s.replace(n,`Blank ${a+1}`)}),s}function MC(e,t){const s={images:[],videos:[]},n=[nt.CORRECT,nt.INCORRECT];return ot(e,(a,o)=>{const i=yi(a,{deviceType:t.type,dimToCheckAgainst:t.width},"meme");if(n.includes(o)){s.images.push(i);return}s.videos.push(i.replace(".gif",".mp4"))}),s}function K_(e){return e&&!A(e)&&ko(e,"isQuizWithoutCorrectAnswer")?!!e.isQuizWithoutCorrectAnswer:!1}function GC(){return!(document.fullScreenElement!==void 0&&document.fullScreenElement===null||document.msFullscreenElement!==void 0&&document.msFullscreenElement===null||document.mozFullScreen!==void 0&&!document.mozFullScreen||document.webkitIsFullScreen!==void 0&&!document.webkitIsFullScreen)}function qC(e){if(!e)return!1;switch(e.toUpperCase()){case"AT":case"BE":case"BG":case"HR":case"CY":case"CZ":case"DK":case"EE":case"FI":case"FR":case"DE":case"GR":case"HU":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PL":case"PT":case"RO":case"SK":case"SI":case"ES":case"SE":case"GB":case"IS":case"LI":case"NO":return!0;default:return!1}}function J_(e){const t=wi(e==null?void 0:e.tagName);if(t!=="textarea"&&t!=="input"&&!e.isContentEditable)return!1;const s=e.getAttribute("type"),n=s?wi(s):"";return!(t!=="textarea"&&!["","text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].includes(n))}function UC(e){return!!Touch&&!!e&&e instanceof Touch}function xC(e){const t=e.replace("px","").replace("rem","").replace("em","").replace("%","").replace("vw","").replace("vh","");return Number.parseInt(t,10)}function QC(e=[],t=[]){const s=()=>Array.isArray(e)&&Je(e[0])&&Je(e[1]),n=s(),a=s();N.invariant(n,`getScaleFromAspectRatios: originalDimensions sent are not valid. They need to be an array with x,y postions as 0,1 indices. Recieved - ${JSON.stringify(e)}`),N.invariant(a,`getScaleFromAspectRatios: originalDimensions sent are not valid. They need to be an array with x,y postions as 0,1 indices. Recieved - ${JSON.stringify(e)}`);const o=t[0]/e[0],i=t[1]/e[1],r=Math.min(o,i);return{scaleX:o,scaleY:i,scale:r}}function FC(e){let t,s;try{const a=new URL(e);t=a.protocol,s=a.hostname}catch{return""}return`${t}//${s}/favicon.ico`}function BC(e,t){const s=i=>Je(i.width)&&Je(i.height);N.invariant(s(e),`scaleDimensionsForABox: Dimensions needs to have a number width and height. Recieved - [${e}]`),N.invariant(s(e),`scaleDimensionsForABox: Dimensions to scale against needs to have a number width and height. Recieved - [${t}]`);const n=e.width/e.height,a=t.width/t.height;if(n>a)return{width:t.width*e.height/t.height,height:e.height};const o=t.height*e.width/t.width;return{width:e.width,height:o}}function HC(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=Math.floor(e%60);return`${t>0?`${Xr(t)}:`:""}${Xr(s)}:${Xr(n)}`}function Xr(e){return Je(e)||N.log(["Error at numberTo2Digit, Must use number type"],"error"),Math.abs(e)/10<1?e<0?`-0${e}`:`0${e}`:e}function X_(e){return e===null?!0:!(typeof e=="object"||typeof e=="function")}function Zr(e=[]){return xt(e,t=>t!==void 0)}function Z_(e){return Gi(e).length===1?`0${e}`:e}function il(e,t=20){const s=Math.floor(e/t);return Ep(s,n=>(n+1)*t)}const eh=["IN","US"];function jC(e){return e&&eh.includes(e)?e.toLowerCase():"us"}function VC(e){let t=0;e.forEach(s=>{s.style.height="auto";const n=s.offsetHeight;n>t&&(t=n)}),e.forEach(s=>{s.style.height=`${t}px`})}const th=1e3;function mi(e){return`${e*-32}px`}const Pc={[re.MYSTIC_PEAK]:{Score:{base:600,attemptBonus:{0:400,1:200},scoreConfig:{base:{correctMultiplier:1,incorrectMultiplier:0},trekker:{correctMultiplier:1,incorrectMultiplier:0,correctScore:1e3,incorrectScore:0},pioneer:{correctMultiplier:2,incorrectMultiplier:-1,correctScore:2e3,incorrectScore:-1e3},leader:{correctMultiplier:1.5,incorrectMultiplier:-.5,correctScore:1500,incorrectScore:-500}}},powerups:{avalanche:{warningTime:3*th}},pathFinderTypes:{TREKKER:"trekker",LEADER:"leader",PIONEER:"pioneer"},tierConfig:{diamond:{name:"Diamond Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Diamond.svg",textColor:"",badgeOffset:mi(0)},gold:{name:"Gold Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Gold.svg",textColor:"#FCB13A",badgeOffset:mi(1)},silver:{name:"Silver Tier",gradient:"rgba(217, 217, 217, 0.2)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Silver.svg",textColor:"#F0F0F0",badgeOffset:mi(2)},bronze:{name:"Bronze Tier",gradient:"rgba(166, 124, 82, 0.5)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Bronze.svg",textColor:"#E4986F",badgeOffset:mi(3)},iron:{name:"Iron Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Iron.svg",textColor:"",badgeOffset:mi(4)}},minimumAttemptBeforePass:2,passableQuestionTypes:[se.MSQ,se.DRAGNDROP,se.DND_IMAGE,se.DROPDOWN,se.MATCH,se.REORDER,se.EQUATION,se.GRAPHING,se.HOTSPOT,se.CLASSIFICATION]}};class Ud{constructor(t){qe(this,"List");this.List=t}get(t){return vo(t)}isExactly(t,s){const n=vo(t),a=vo(s);return!!(n&&a&&n===a)}matchDepth(t,s){var i,r;let n=0;if(!t||!s)return n;const a=Array.isArray(t)?t:((i=vo(t))==null?void 0:i.split("."))||[],o=Array.isArray(s)?s:((r=vo(s))==null?void 0:r.split("."))||[];for(let c=0;c<a.length&&(o[c]&&a[c]===o[c]);c++)n+=1;return n}matches(t,s,n=1,a=!1){const o=Array.isArray(s)?s:[s],i=wt(o,r=>this.matchDepth(t,r));if(Array.isArray(n)){for(let r=0;r<i.length;r++){const c=n[r]||n[n.length-1];if(a){if(i[r]>=c)return!0}else if(!(i[r]>=c))return!1}return!a}if(Je(n)){if(!a)return(Ap(i)||0)>=n;for(let r=0;r<i.length;r++)if(i[r]>=n)return!0;return!1}return!1}isInList(t){const s=vo(t),n=xd(this.List);return s?n.includes(s):!1}}function vo(e){return typeof e=="string"?e:Fo(e)&&e._BASE_||null}function xd(e){let t=[];Qs(e);for(const[s,n]of Object.entries(e))if(typeof n=="string")t.push(n);else if(en(n)){const a=xd(n);t=t.concat(a)}return t}const sh={_BASE_:"root",PAGE_404:"page404",COURSE:{_BASE_:"course",DETAILS:"course.details"},JOIN:"join",LANDING:{_BASE_:"landing",HOME:"landing.home",DASHBOARD:"landing.dashboard",AVATAR_SHOP:"landing.avatarShop",SEARCH:"landing.search",GAME_CODE:"landing.gameCode",ACTIVITY:{_BASE_:"landing.activity",RUNNING:"landing.activity.running",CREATED:"landing.activity.created",COMPLETED:"landing.activity.completed"},CLASSES:"landing.classes",GROUPS:"landing.groups",APP_SETTINGS:"landing.appSettings",TOPIC_RECOMMENDATIONS:"landing.topicRecommendations",EVENT_QUIZZES:"landing.eventQuizzes"},IN_GAME:{_BASE_:"inGame",WAITING:"inGame.waiting",CHALLENGE_WAITING:"inGame.challengeWaiting",COUNTDOWN:"inGame.countdown",GAME_MODE_ENTRY:"inGame.gameModeEntry",ACCURACY_COUNTDOWN:"inGame.accuracyCountdown",QUIZ:{_BASE_:"inGame.quiz",REDEMPTION_QUESTION_SELECTOR:"inGame.quiz.redemptionQuestionSelector",ANSWER_LATER_QUESTIONS_SCREEN:"inGame.quiz.answerLaterQuestionsScreen",BREAK_ROOM_SCREEN:"inGame.quiz.breakRoomScreen",BEFORE_REDEMPTION_SECTION:"inGame.quiz.beforeRedemptionSection",REVIEW_QUESTIONS_SCREEN:"inGame.quiz.reviewQuestionsScreen",MASTERY_MODE_ACCURACY_COUNTDOWN:"inGame.quiz.masteryModeAccuracyCountdown",MASTERY_MODE_CONFIRMATION_SCREEN:"inGame.quiz.masteryModeConfirmationScreen",STUDENT_DUEL:"inGame.quiz.studentDuel",STUDENT_TEACHER_PACED:"inGame.quiz.studentTeacherPaced"},AFTER_REDEMPTION_SECTION:"inGame.afterRedemptionSection",GAME_OVER:"inGame.gameOver",SUMMARY:"inGame.summary",PRACTICE_SUMMARY:"inGame.practiceSummary",CHALLENGE_PRE_SUMMARY:"inGame.challengePreSummary",NPS_SCREEN:"inGame.npsScreen",LEARNER_FEEDBACK:"inGame.learnerFeedback",COURSE_LISTING:"inGame.courseListing",AVATAR_AWARD:"inGame.avatarAward"},QUIZ:{_BASE_:"quiz",START:"quiz.start",PRE_GAME_DETAIL:"quiz.preGameDetail",CHALLENGE:"quiz.challenge"},PRE_GAME_DETAIL:{_BASE_:"preGameDetail",RUNNING:"preGameDetail.running"},EMBED:{_BASE_:"embed",GAME:"embed.game",QUIZ:"embed.quiz"}},P=new Ud(sh),$C={noCorrectAnswer:"#2D70AE",correct:"#00c985",inCorrect:"#EF3C69",timedOut:"#B6B6B6",partiallyCorrect:"#EFA929",submitted:"#8854C0"},nh=4,ah="LT",rl={WITH_PREFIX:10,WITHOUT_PREFIX:8},cl={0:"#EC0B43",1:"#EFA929",2:"#EFA929",3:"#EFA929",4:"#EFA929",5:"#00C985"};function ul(e,t,s,n,a,o,i,r,c){if(!t)return{total:0,base:0,timer:0,streak:0};const u=r?oh(a):0;let l=0;i&&e&&(l=o===Ti.ORIGINAL||o===Ti.EXTRA_LIFE?ra.TIMER:ra.TIMER_WHEN_REDEMPTION);function d(g){g.timer=0,g.streak=0}function m(g){g.base/=2,g.total/=2}function _(g){d(g),m(g)}if(e){const v=ra.BASE;let R=0,E=1-Math.max(Math.min(n/s,1),0);E=E>.975?1:E,n<s&&i&&(R=Math.floor(E*l/10)*10);const h={total:v+R+u,base:v,timer:R,streak:u};return c&&_(h),h}const f={total:ra.BASE+l+u,base:ra.BASE,timer:l,streak:u};return c&&_(f),f}function WC({isTimerBonusAllowed:e,questionTime:t,responseTime:s,currentStreak:n,responseType:a,showTimerGameOption:o,isStreakAllowed:i,isRedemptionPass:r}){return{correct:ul(e,!0,t,s,n,a,o,i,r),incorrect:ul(e,!1,t,s,n,a,o,i,r)}}function oh(e){return e>=li.SECOND.START&&e<=li.SECOND.END?100:e>=li.THIRD.START&&e<=li.THIRD.END?200:e>=li.THIRD.END+1?300:0}function ih(e){return wt(e,t=>({...t,isProfane:Wo(t.playerId)}))}function rh(e,t){return wt(e,s=>{const n=xt(t,o=>o.teamId===s.teamId);let a="";return n&&n.teamName&&(a=n.teamName),{...s,teamName:a}})}function Qd(e,t){const s=Os(e,{playerId:t});return s!==-1?e[s].rank:-1}function nu(e){const t=Fs(e,["score"],["desc"]);return wt(t,(s,n)=>({...s,rank:n+1}))}function Fd(e,t,s,n={},a=""){t&&Object.keys(t).length||(t=Li());let o={};const i=Qh(e,s);a&&n&&(o=wr(n,(r,c)=>c!==nt.CORRECT&&c!==nt.INCORRECT?Yt(i,c)&&c!==a:c!==a)),!o[nt.CORRECT]&&(o[nt.CORRECT]=_l(t,e.length,nt.CORRECT)),!o[nt.INCORRECT]&&(o[nt.INCORRECT]=_l(t,e.length,nt.INCORRECT));for(let r=0;r<i.length;r++){const c=i[r],u=Fh(t,e.length,c);u&&!o[c]&&(o[c]=u)}return{...o}}function YC(e,t,s,n=!0){let a={};if(e?(s[nt.CORRECT]&&(a=Qn(s,nt.CORRECT)),n&&(s[nt.HALFWAY]&&(a=Qn(s,nt.HALFWAY)),s[nt.COMEBACK]&&(a=Qn(s,nt.COMEBACK)),s[nt.THREE_IN_ROW]&&(a=Qn(s,nt.THREE_IN_ROW)),s[nt.SEVEN_IN_ROW]&&(a=Qn(s,nt.SEVEN_IN_ROW)),s[nt.TEN_IN_ROW]&&(a=Qn(s,nt.TEN_IN_ROW)),s[nt.PERFECT]&&(a=Qn(s,nt.PERFECT)))):(s[nt.INCORRECT]&&(a=Qn(s,nt.INCORRECT)),n&&t<nf&&s[nt.TOO_FAST]&&(a=Qn(s,nt.TOO_FAST)),s[nt.HALFWAY]&&(a=Qn(s,nt.HALFWAY))),a&&a.url)return a;const o=e?nt.CORRECT:nt.INCORRECT,i=Li();return{url:i[o][Bh(i[o].length-1)],type:o,category:Sc.GENERAL}}function ec(){const e=Li(),t={};return t[nt.CORRECT]=e[nt.CORRECT][0],t[nt.INCORRECT]=e[nt.INCORRECT][0],t[nt.TOO_FAST]=e[nt.TOO_FAST][0],t}function ch(e){return Bd(e)||uh(e)}function uh(e){if(!No(e)||A(e)||A(e.trim())||!Yt(Id,e.length))return!1;for(let t=0;t<e.length;t++)if(ur(Number.parseInt(e[t],10)))return!1;return!0}function Bd(e){if(!No(e)||A(e)||A(e.trim()))return!1;const t=e.trim();if(t.startsWith(ah)&&t.length===rl.WITH_PREFIX){const s=t.split("LT");if(/^\d+$/.test(s[1])&&s[1].length===rl.WITHOUT_PREFIX)return!0}return!1}function Hd(e){if(!Array.isArray(e))return!0;for(let t=0;t<e.length;t++)if(!(e[t].type in Yu&&Yu[e[t].type]>=e[t].version))return!1;return!0}function KC(e){switch(e){case se.MCQ:return X("Multiple Choice");case se.MSQ:return X("Multiple Choice");case se.BLANK:return X("Fill in the Blank");case se.OPEN:return X("Open Ended");case se.DROPDOWN:return X("Drop Down");case se.HOTSPOT:return X("Hotspot");case se.DRAGNDROP:return X("Drag and Drop");case se.CLASSIFICATION:return X("Categorize");case se.MATCH:return X("Match");case se.REORDER:return X("Reorder");case se.DRAW:return X("Draw");case se.WORDCLOUD:return X("Word Cloud");case se.AUDIO:return X("Audio response");default:return""}}function lh(e,t){var a;const{comprehensionQuestionIds:s=[]}=e,{comprehensionQuestionId:n}=e;return s.length?s.reduce((o,i)=>{var r;return(Number.parseInt(((r=t[i])==null?void 0:r.time)||0,10)||0)+o},0):((a=t[n])==null?void 0:a.time)||0}function au(e,{dataIsStrigified:t=!0,forGameBeingPlayed:s=!1,slidesFlowControlType:n=Xt.PARTIAL}={}){var i,r,c,u,l,d;const a={},o=Object.keys(e);for(let m=0;m<o.length;m++){const _=o[m];let f;const g=t?JSON.parse(e[_]):e[_],v=C(g,"structure.marks.correct",-1)<0?{correct:Kd(g)||cu(g)?0:1,incorrect:0}:g.structure.marks,R=lh(g,e);if(Ph(g,2)){const E=s&&n!==Xt.NONE?mn.ACTIVE:g.state;let{answer:h}=g.structure;if(lr(h))switch(g.type){case se.MCQ:h=-1;break;default:h=[]}const k=(i=g.comprehensionQuestionIds)==null?void 0:i.reduce((q,D)=>{var ie;const ee=(ie=e[D])==null?void 0:ie.comprehensionTimestamp;return q[ee]||(q[ee]=[]),q[ee].push(D),q},{}),L=A(k)?g.comprehensionQuestionIds:Do(g.comprehensionQuestionIds,q=>{var D;return(D=e[q])==null?void 0:D.comprehensionTimestamp});f={...g.structure.query,id:g._id,options:g.structure.options||[],targets:g.structure.targets||[],matches:g.structure.matches||[],answer:h,elements:g.structure.elements||[],explain:g.structure.explain||{},order:g.structure.order||"",comprehensionQuestionIds:L,comprehensionQuestionId:g.comprehensionQuestionId,comprehensionTimestamp:g.comprehensionTimestamp,comprehensionTimestamps:k,time:R+g.time,type:g.type,state:E,ver:g.ver,responses:[],marks:v,settings:C(g,"structure.settings",bh(g)),graphs:((r=g==null?void 0:g.structure)==null?void 0:r.graphs)||[],hints:((c=g==null?void 0:g.structure)==null?void 0:c.hints)||[],questionDisplayVariant:(l=(u=g.structure)==null?void 0:u.settings)==null?void 0:l.questionDisplayVariant,tts:((d=g.structure.query)==null?void 0:d.tts)||{}},g.startedAt&&(f.startedAt=g.startedAt),f.metadata={isTimerPaused:C(g,"metadata.isTimerPaused",!1),isVideoPlaying:C(g,"metadata.isVideoPlaying",!0)},g.type===se.CONTENT_SLIDE&&(f.structure={},f.structure.bullets=g.structure.bullets,f.structure.kind=g.structure.kind,f.structure.para=g.structure.para,f.structure.media=g.structure.media,f.structure.title=g.structure.title,f.structure.subtitle=g.structure.subtitle,f.structure.theme=g.structure.theme,f.metadata.currentBulletIndex=C(g,"metadata.currentBulletIndex",-1)),g.type===se.CONTENT_SLIDE_V2&&(f.structure={},f.structure.elements=g.structure.elements||[],f.structure.theme=g.structure.theme)}else{f={id:g._id,text:g.questionText,type:g.type,ver:2,time:g.time,responses:[],answer:g.answerIndex,isOldFormat:!0,marks:v},g.media&&g.media.url&&(f.media=[{type:g.media.type||"image",url:g.media.url,meta:{}}]);const E=[];for(let h=0;h<g.questionOptions.length;h++)E.push({type:"text",text:g.questionOptions[h]});f.options=E}a[g._id]=f}return a}function JC(e){return!!(e.type==="image"&&e.media&&e.media[0]&&e.media[0].url&&e.media[0].url.trim()!=="")}function XC(e){return!!(e.type==="audio"&&e.media&&e.media[0]&&e.media[0].url&&e.media[0].url.trim()!=="")}function ZC(e,t=!1){return!!(e.type==="text"&&(t||e.text&&e.text.trim()!==""||e.hasMath))}function ew({optionsSelected:e,actualAnswer:t,currentBlankId:s}){var o,i;const n=(o=t.find(r=>r.targetId===s))==null?void 0:o.optionId[0],a=(i=e.find(r=>r.targetId===s))==null?void 0:i.optionId[0];return n===a}function ou(e,t){if(!en(e))return[];const s=e.media||C(e,"structure.media")||C(e,"structure.query.media")||C(e,"query.media");return Jt(s,n=>n.type===t&&(n.url!==""||n.meta.src===pa.GOOGLE_DRIVE||n.meta.src===pa.ONE_DRIVE))}function dh(e){return mh(e)||ph(e)||gh(e)}function mh(e){return!A(ou(e,"image"))}function ph(e){return!A(ou(e,"audio"))}function gh(e){return!A(ou(e,"video"))}function tw(e,t=zn.QUESTION,s=!1){const n=xi(e,t),a=jd(e,t),o=$d(n),i=iu(e,t),r=n.video;if(i===pa.LOCAL)return n.url;if(i===pa.GOOGLE_DRIVE&&r)return`https://www.googleapis.com/drive/v3/files/${r}?alt=media&key=AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg`;if(i===pa.ONE_DRIVE&&r)return`https://onedrive.live.com/download?${r}`;if(a==="")return"";let c=`https://www.youtube.com/embed/${a}?enablejsapi=1`;return o.start>=0&&o.end>=0&&(c+=`&start=${Math.floor(An(o.start))}&end=${Math.floor(An(o.end))}`),s&&(c+="&autoplay=1"),c}function sw(e,t=zn.QUESTION){const s=xi(e,t);return C(s,"video",null)}function jd(e,t=zn.QUESTION){const s=xi(e,t);let n=C(s,"meta.videoId","");if(A(n)){const a=C(s,"url","");if(!A(a))if(n=a.split("v=")[1],n){const o=n.indexOf("&");o!==-1&&(n=n.substring(0,o))}else{const o=a.split("/");n=o[o.length-1]}}return n}function nw(e,t=zn.ELEMENT){return jd(e,t)}function Vd(e,t){if(!en(e))return[];const{media:s}=e;return Jt(s,n=>(n==null?void 0:n.type)===t&&(n==null?void 0:n.url)!=="")}function fh(e){return!A(Vd(e,"image"))}function aw(e){return!A(Vd(e,"audio"))}function xi(e,t){let s={};switch(t){case"question":s=C(e,"media[0]",{});break;case"explain":s=C(e,"explain.media[0]",{});break;case"slide":s=C(e,"structure.media[0]",{});break;case"element":s=C(e,"data.media",{});break}return s}function $d(e={}){const t=en(e.meta)?e.meta:{},s=ll(t,"startTime","start"),n=ll(t,"endTime","end");return{start:ur(s)?-1:Math.floor(s),end:ur(n)?-1:Math.floor(n)}}function ll(e,t,s){return Yn(e,t)?An(e[t]):Yn(e,s)?An(e[s]):-1}function ow(e,t=zn.QUESTION){const s=xi(e,t);return $d(s)}function iu(e,t=zn.QUESTION){const s=xi(e,t);return C(s,"meta.src",null)}function iw(e,t=zn.QUESTION){const s=iu(e,t);return s===pa.GOOGLE_DRIVE||s===pa.ONE_DRIVE}function rw(e,t=zn.QUESTION){return iu(e,t)===pa.LOCAL}function eo(e,t){return Kn(e,(s,n=[],a)=>{const o=[];for(let i=0;i<n.length;i++)Yt(t,n[i])&&o.push(i);return o.length>0&&(s[a]=o),s},{})}function ru(e){return P.matches(e,P.List.IN_GAME)}function Yo(e){return e===Be.ASYNC||e===Be.LIVE||e===re.TEACHER_PACED}function _h(e,t){let s=C(t,"playerMetadata.skipped",{});return A(s)&&(s=C(e,"metadata.skipped",{})),A(s)?[]:Qs(s)}function Wd(e,t){let s=C(t,"playerMetadata.extraLife",[]);return A(s)&&(s=C(e,"metadata.extraLife",[])),s}function hh(e,t){const s=Wd(e,t);if(!A(s))return xt(s,n=>n.status===Wa.IN_PROGRESS)}function Eh({extraLifeArray:e,currentId:t}){const s=xt(e,a=>a.questionId===t);return A(s)||lr(s)?!1:s.status===Wa.IN_PROGRESS}function ao(e){return e===re.TEAM||e===re.TEST||e===re.CHALLENGE||e===re.TEACHER_PACED||e===zs.LIVE_PRESENTATION||e===re.MYSTIC_PEAK||e===re.COMMON_ASSESSMENT?Be.LIVE:e===zs.ASYNC_PRESENTATION||e===zs.FLASHCARD_ASYNC?Be.ASYNC:e===zs.SOLO_PRESENTATION||e===zs.FLASHCARD?Be.SOLO:e}function Ko(e){return e===zs.FLASHCARD_ASYNC?re.FLASHCARD:e===re.TEAM?re.TEAM:e===re.TEST?re.TEST:e===re.CHALLENGE?re.CHALLENGE:e===re.TEACHER_PACED?re.TEACHER_PACED:e===zs.FLASHCARD?re.FLASHCARD:e===zs.LIVE_PRESENTATION||e===zs.ASYNC_PRESENTATION||e===zs.SOLO_PRESENTATION?re.PRESENTATION:e===re.MYSTIC_PEAK?re.MYSTIC_PEAK:e===re.COMMON_ASSESSMENT?re.COMMON_ASSESSMENT:re.NORMAL}function bc(e,t){if(t===re.FLASHCARD&&e===Be.ASYNC)return zs.FLASHCARD_ASYNC;if(t===re.PRESENTATION){if(e===Be.LIVE)return zs.LIVE_PRESENTATION;if(e===Be.ASYNC)return zs.ASYNC_PRESENTATION;if(e===Be.SOLO)return zs.SOLO_PRESENTATION}return t===re.NORMAL||t===re.MASTERY_MODE?e:e===Be.SOLO&&t===re.FLASHCARD?zs.FLASHCARD:t}function wa(e){return e?t=>bc(t,re.MASTERY_MODE):bc}function Yd(e,t,s){return t===re.PRESENTATION&&(e===Be.SOLO||e===Be.ASYNC)||(t===re.TEACHER_PACED||t===re.PRESENTATION)&&e===Be.LIVE&&s&&s===Mo.STUDENT_PACED?Xt.FULL:t===re.PRESENTATION&&e===Be.LIVE||t===re.TEACHER_PACED?Xt.NONE:Xt.PARTIAL}function Go({gameMode:e}){return e===re.PRESENTATION}function Si({createdAt:e,expiry:t,mode:s,type:n}){if(ga(s||"",n))return{willExpireAfter:t};const a=An(e)+1e3*An(t);return{willExpireAfter:a,willExpireOn:new Date(a)}}function dl(e,t=1,s=1){return e*(t/s-1)}function cw({provisionalScores:e,numPlayersInLargestTeam:t,numPlayersInCurrentTeam:s}){return{correct:dl(e.correct.total,t,s),incorrect:dl(e.incorrect.total,t,s)}}function Qi(e={}){return[se.OPEN,se.DRAW,se.AUDIO,se.VIDEO].includes(e.type)?!1:Yn(e,"settings.hasCorrectAnswer")?e.settings.hasCorrectAnswer:!0}function vh(e={}){return C(e,"marks.correct",-1)===0}function ml(e,t,s,n){const a=[...e,s,...t];let o=-1;for(let i=0;i<a.length;i++)if(a[i]===n.id&&(o+=1,o===n.attemptIndex))return i;return-1}function pl(e,t=zn.QUESTION){return N.invariant(!A(e),`Invalid questionId(${e}) provided to getIdForQuestionSound`),`${t}_${e}`}function Ah(e){const t=[];return!A(e.media)&&e.media[0].type==="audio"&&t.push(pl(e.id)),e.explain&&!A(e.explain.media)&&e.explain.media[0].type==="audio"&&t.push(pl(e.id,zn.EXPLAIN)),t}function Th(e){const t=P.isExactly(e,P.List.IN_GAME.SUMMARY),s=P.isExactly(e,P.List.IN_GAME.GAME_OVER);return t||s||!ru(e)}function uw(e){return e===100?Wi.PERFECT:e>=75?Wi.GOOD:e>=40?Wi.AVERAGE:Wi.POOR}function lw({gameType:e,gameMode:t}){if(e===Be.LIVE)switch(t){case re.CHALLENGE:return{icon:"icon-fas-user-friends",title:X("Challenge game")};case re.TEAM:return{icon:"icon-fas-users",title:X("Team mode")};case re.TEST:return{icon:"icon-fas-clock",title:X("Test mode")};case re.COMMON_ASSESSMENT:return{icon:"icon-fas-clock",title:X("Assessment")};default:return{icon:"icon-fas-chalkboard-user",title:X("Live")}}else{if(e===Be.SOLO)return{icon:"icon-fas-user",title:t===re.FLASHCARD?X("Flashcards"):X("Solo review")};if(e===Be.ASYNC)return{icon:"icon-fas-file",title:t===re.FLASHCARD?X("Flashcards"):X("Assignment")}}return{icon:"",title:""}}function dw(e){switch(e.type){case se.MSQ:case se.OPEN:case se.WORDCLOUD:case se.BLANK:case se.DRAW:case se.VIDEO:case se.AUDIO:case se.MATCH:case se.REORDER:case se.DRAGNDROP:case se.DROPDOWN:case se.EQUATION:case se.GRAPHING:case se.DND_IMAGE:case se.HOTSPOT:case se.CLASSIFICATION:return!0;case se.MCQ:default:return!1}}function Jo({type:e,traits:t}){const s=en(t)?t:{};let n=e;return A(e)&&(n=(Je(s.totalSlides)?s.totalSlides:0)>=1?zo.PRESENTATION:zo.QUIZ),n}function yh(e){var i;if(!e)return"";e=e.split("<br>").filter(Boolean).join("<br>"),e=e.split("&nbsp;").filter(Boolean).join(" ");const t=["script","link"],s=/<[^\s][^>]+>/gi;let n="",a=0,o;do if(o=s.exec(e),o){const r=(i=o[0].match(/<\/?([^\s>]+)/))==null?void 0:i[1];r&&t.includes(r)&&(n+=`${e.substring(a,o.index)} `,a=o.index+o[0].length)}while(o);return n+=`${e.substring(a,e.length)} `,e=n,e=e.split(" ").filter(Boolean).join(" "),e}function Ih({response:e},t){if(!Qi(t))return!0;if(t.type===se.BLANK){const o=xu(wi(e)),i=wt(t.options,r=>xu(wi(yh(r.text))));return Yt(i,o)}const n=Array.isArray(e)?e:[e],a=Array.isArray(t.answer)?t.answer:[t.answer];return Bc(Do(n),Do(a))}function mw(e="study"){return{memes:!1,jumble:!1,jumbleAnswers:!1,redemption:Ut.Redemption.NO,studentLeaderboard:Ut.StudentLeaderboard.NO,powerups:Ut.Powerups.NO,timer:Ut.Timer.OFF,flashcardMode:e}}function cu(e){const t=e.type||e.questionType;return[se.CONTENT_SLIDE,se.CONTENT_SLIDE_V2].includes(t)}function Ks(e){const t=e.type||e.questionType;return[se.MCQ,se.MSQ,se.BLANK,se.OPEN,se.WORDCLOUD,se.DRAW,se.AUDIO,se.VIDEO,se.MATCH,se.DRAGNDROP,se.DROPDOWN,se.EQUATION,se.REORDER,se.GRAPHING,se.DND_IMAGE,se.HOTSPOT,se.CLASSIFICATION].includes(t)}function Kd(e){return Yt([se.MCQ,se.MSQ],e.type)&&C(e,"structure.settings.hasCorrectAnswer")===!1}function Jd(e){return Yt([se.MCQ,se.MSQ],e==null?void 0:e.type)&&C(e,"settings.hasCorrectAnswer")===!1}function pw(e){const t=e.type||e.questionType;return Ks(e)&&(Yt([se.MCQ,se.MSQ],t)||Kd(e))}function gw(e){const t=e.type||e.questionType;return Ks(e)&&Yt([se.WORDCLOUD,se.OPEN,se.BLANK],t)}function fw(e){const t=e.type||e.questionType;return Ks(e)&&se.BLANK===t}function Xd(e){const t=e.type||e.questionType;return Ks(e)&&Yt([se.AUDIO,se.VIDEO],t)}function _w(e){const t=e.type||e.questionType;return Ks(e)&&se.DRAW===t}function Sh(e){const t=e.type||e.questionType;return Ks(e)&&Yt([se.MATCH,se.REORDER],t)}function hw(e){const t=e.type||e.questionType;return Ks(e)&&se.REORDER===t}function Ew(e){const t=e.type||e.questionType;return Ks(e)&&se.MATCH===t}function vw(e){const t=e.type||e.questionType;return Xd(e)&&se.AUDIO===t}function Aw(e){const t=e.type||e.questionType;return Xd(e)&&se.VIDEO===t}function Rh(e){const t=e.type||e.questionType;return Ks(e)&&Yt([se.DRAGNDROP,se.DROPDOWN],t)}function Tw(e){const t=e.type||e.questionType;return Ks(e)&&se.EQUATION===t}function yw(e){const t=e.type||e.questionType;return Ks(e)&&se.GRAPHING===t}function Iw(e){const t=e.type||e.questionType;return Ks(e)&&se.DND_IMAGE===t}function Sw(e){const t=e.type||e.questionType;return Ks(e)&&se.HOTSPOT===t}function Rw(e){const t=e.type||e.questionType;return Ks(e)&&se.CLASSIFICATION===t}function Cw(e){const t=e.type||e.questionType;return Ks(e)&&se.DROPDOWN===t}function ww(e){return[cn.TIMED_OUT,cn.ATTEMPTED_SILENTLY].includes(e)}function Ow(e){return e.version===df.TWO_POINT_ZERO}function kw(e){return{processedUrl:C(e,"media[0].url",""),unprocessedUrl:C(e,"media[0].meta.unprocessed",""),mimeType:C(e,"media[0].meta.mimeType","")}}function Pw({currentQuizData:e,gameData:t}){const s=A(e.questionVersions)?t.version:e.questionVersions;return j_()&&(s==null?void 0:s.findIndex(n=>n.type===se.VIDEO))>-1}function bw({quizId:e,roomCode:t,redirectTo:s="store"}){let n="https://apps.apple.com/in/app/quizizz-play-to-learn/id1160249042";s==="app"&&(A(t)?A(e)?n="quizizz://redirectapp":n=`quizizz://redirectapp&url=quizizz.com/join/quiz/${e}/start`:n=`quizizz://redirectapp&url=quizizz.com/join?gc=${t}`),window.location=n}function Nw(e){const t=[];if(C(e,"media[0].url")&&t.push({text:`Question contains an ${C(e,"media[0].type")}`,id:e.id,type:"question"}),e.text)return t.push({text:`Question: ${Tr(e.text)}`,id:e.id,type:"question"}),t;const n=C(e,"media[0].meta.text");return n?(t.push({text:`Question: ${Tr(n)}`,id:e.id,type:"question"}),t):(t.push({text:"Question is an image",id:e.id,type:"question"}),t)}function Dw(e){const t=[],s=e.type===se.OPEN||e.type===se.WORDCLOUD,n=e.type===se.BLANK;return s||n?[]:(ot(e.options,(a,o)=>{if(a.type==="text"){t.push({text:`Option  ${o+1}: ${Tr(a.text)}`,id:a.actualIndex,type:"option"});return}const i=C(a,"media[0].meta.text");if(i){t.push({text:`Option ${o+1}: ${Tr(i)}`,id:a.actualIndex,type:"option"});return}t.push({text:`Option ${o+1} is an image`,id:a.actualIndex,type:"option"})}),t)}function Ch(e,t){let s=0;const n=Object.keys(cl).length-1;return e===t||e>t||t>n?s=n:s=e,cl[s]}function wh(e){const t={totalOptions:e.length,correctOptions:0};return e.forEach(({isRightChoice:s})=>{s&&(t.correctOptions+=1)}),t}function Lw(e){const{correctOptions:t,totalOptions:s}=wh(e);return Ch(t,s)}function zw(e,t){let s=cn.ATTEMPTED;return e&&(t?s=cn.DRAFT:s=cn.SEEN),s}function Oh(e,t=!1){const s=e.filter(({state:n})=>Cn.ANSWER_LATER_RESPONSE_STATES.includes(n)).map(({questionId:n})=>n);return t&&e.forEach(n=>{n.state==="attempted"&&s.includes(n.questionId)&&s.splice(s.indexOf(n.questionId),1)}),s}function kh(e,t){const s=e.filter(n=>n.attempt===0&&Cn.REVIEW_AND_SUBMIT_RESPONSE_STATES.includes(n.state));return t===s.length}function Mw({finalAnswer:e,answerResponseType:t="",answerResponseDescriptor:s="",meta:n,customAnswer:a,customAnswerResponseType:o="",customAnswerResponseDescriptor:i=""}){const r=[],c={type:t,value:e,descriptor:s};return n&&(c.meta=n),r.push(c),a&&r.push({type:o,value:a,descriptor:i}),r}function Gw(e){var t;return A(e.answer)?[]:((t=e==null?void 0:e.answer[0])==null?void 0:t.value)||[]}function Ph(e,t=2){const s=C(e,"ver");return Je(s)?s>=t:!0}function bh(e={}){const t=e.type||se.MCQ,s={hasCorrectAnswer:!0};return t===se.BLANK&&(s.fibDataType=Ju.STRING,s.questionDisplayVariant=rf.BLANK.SINGLE_BLANK),t===se.EQUATION&&(s.equationDataType=Ju.STRING),s}function Di(e){return e&&e.state===cn.ATTEMPTED&&e.result===Pa.CORRECT}function Nh(e,t=new Set){const s=new Set;return e.forEach(n=>{const{questionId:a}=n;!Di(n)&&!t.has(a)&&s.add(a)}),s}function Dh(e){const t=new Set;return e.forEach(s=>{Di(s)&&t.add(s.questionId)}),t}function ga(e,t){return t===Be.LIVE&&e===re.MYSTIC_PEAK}function qo({gameType:e,gameMode:t,isMasteryMode:s}){return!!(e===Be.ASYNC&&s||ga(t,e))}function Lh(e){const{firstAttemptAccuracy:t,accuracy:s}=e;return t===(typeof s=="number"?s:Number.parseInt(s))}function qw(e,t){return t.reduce((s,n)=>{if(n.state===cn.TIMED_OUT)return s;const a=e[n.questionId];return(cu(a)||Jd(a)||vh(a))&&(s+=1),s},0)}function Zd(e={},t){const s=e[t];if(!s)return{};const n=s.length-1>0?s.length-1:0;return s[n]||{}}function Uw({attemptNo:e=0,isPathFinder:t=!1,pathFinderType:s=Pc[re.MYSTIC_PEAK].pathFinderTypes.PIONEER}){const{base:n,attemptBonus:a,scoreConfig:o}=Pc[re.MYSTIC_PEAK].Score,i=a[e]||0,r=t&&e===0,c=n+i,u=r?o[s.toLowerCase()]:o.base,{correctMultiplier:l,incorrectMultiplier:d}=u,m=c*l,_=c*d;return{correct:{total:m,base:m,timer:0,streak:0,powerups:[]},incorrect:{total:_,base:_,timer:0,streak:0,powerups:[]}}}function zh({mysticPeakLevelMap:e,totalQuestionsInQuiz:t,totalCorrect:s,remainingOrder:n,incorrectQuestionIds:a}){let o;for(o=0;o<e.length&&!(e[o]>s);o++);const i=o===e.length?t-s:e[o]-s-a.length,r=[...n];return r.splice(i,0,...a),oa(r)}function Mh({mysticPeakLevelMap:e,totalQuestionsInQuiz:t,totalCorrect:s,remainingOrder:n,currentId:a}){let o;for(o=0;o<e.length&&!(e[o]>s);o++);const i=o===e.length?t-s:e[o]-s,r=[...n];return r.splice(i-1,0,a),r}function Gh({position:e,remainingOrder:t,allQuestions:s,visitedComprehensionQuestion:n}){let a;for(a=e;a<t.length;a++){const o=t[a],i=s[o],{comprehensionQuestionId:r}=i;if(!r||n.includes(r))return a;a++}return a}function gl({min:e=0,max:t,shouldFloor:s=!1}){const n=Math.random()*(t-e)+e;return s?Math.floor(n):n}function qh({remainingOrder:e,currentId:t,allQuestions:s,visitedComprehensionQuestion:n}){if(e.includes(t))return e;const a=gl({min:4,max:8,shouldFloor:!0}),o=[...e];if(a<=e.length-1){let i=gl({min:a,max:o.length-1,shouldFloor:!0});i=Gh({position:i,remainingOrder:e,allQuestions:s,visitedComprehensionQuestion:n}),o.splice(i,0,t)}else o.push(t);return o}function Uh({remainingOrder:e,hasReachedMastery:t}){return t&&e.length===0}function xw(e){return e===2?"nd ":e===3?"rd ":"th "}function xh(){const e=document.getElementById("screen-game");if(e){const{innerHeight:t,innerWidth:s}=window;e.style.setProperty("--skip-x",`${s-16}px`),e.style.setProperty("--skip-y",`-${t}px`)}}function Qw(e){return e===se.AUDIO||e===se.VIDEO||e===se.DRAW||e===se.OPEN||e===se.WORDCLOUD}function fl(e,t){let s=0;for(let n=t.length-1;n>=0;n--)if(t[n]===e)s+=1;else return s;return s}function Qn(e,t){return{url:e[t],type:t,category:t===nt.CORRECT||t===nt.INCORRECT?Sc.GENERAL:Sc.SPECIAL}}function Li(){return{[nt.CORRECT]:["https://cf.quizizz.com/join/img/correct_meme/cm14.jpg","https://cf.quizizz.com/join/img/correct_meme/cm36.jpg","https://cf.quizizz.com/join/img/correct_meme/cm25.jpg","https://cf.quizizz.com/join/img/correct_meme/cm27.jpg","https://cf.quizizz.com/join/img/correct_meme/cm33.jpg","https://cf.quizizz.com/join/img/correct_meme/cm16.jpg"],[nt.INCORRECT]:["https://cf.quizizz.com/join/img/wrong_meme/wm8.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm21.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm11.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm9.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm12.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm18.jpg"],[nt.COMEBACK]:["https://cf.quizizz.com/img/memes/gifs/3og0ISvp1WKIGVOpEI.mp4"],[nt.THREE_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/l4FGDIytHEQFX43ao.mp4"],[nt.SEVEN_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/xUA7bcdYN2okbvWzzW.mp4"],[nt.TEN_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/3og0IzFvP9mjpeCExi.mp4"],[nt.HALFWAY]:["https://cf.quizizz.com/img/memes/gifs/xUPGcAnGNP5R1sJjMs.mp4"],[nt.PERFECT]:["https://cf.quizizz.com/img/memes/gifs/3o7btRyTcmivwZBWrC.mp4"],[nt.TOO_FAST]:["https://cf.quizizz.com/img/memes/gifs/3og0IK9pYiL4cDpAQM.mp4"]}}function Qh(e,t){const s=[nt.TOO_FAST];if(t>=20&&e.length===Math.ceil(t/2)-1&&s.push(nt.HALFWAY),e.length)if(e[e.length-1])switch(fl(!0,e)){case t-1:s.push(nt.PERFECT);break;case 2:s.push(nt.THREE_IN_ROW);break;case 6:s.push(nt.SEVEN_IN_ROW);break;case 9:s.push(nt.TEN_IN_ROW);break}else fl(!1,e)>=3&&s.push(nt.COMEBACK);return s}function _l(e,t,s){return e[s]?e[s][t%e[s].length]:""}function Fh(e,t,s){return e[s]?e[s][t%e[s].length]:""}function Bh(e,t=0){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function hl(e){return e>nh}function El(e){return[Et.COMPLETED,Et.STOPPED].includes(e)}function Fw(e,t=!1){switch(e){case re.TEAM:return X("Team");case zs.ASYNC_PRESENTATION:case Be.ASYNC:return X(t?"Scheduled":"Assigned");case re.TEST:return X("Test");case re.COMMON_ASSESSMENT:return X("Assessment");case re.CHALLENGE:return X("Challenge");case re.OFFLINE:return X("Paper mode");case zs.LIVE_PRESENTATION:case re.TEACHER_PACED:case Be.LIVE:default:return X("Live")}}function Bw(e,t=!1){switch(e){case Be.LIVE:case re.TEACHER_PACED:case re.TEAM:case re.TEST:case re.COMMON_ASSESSMENT:return"tasks";case re.OFFLINE:return"qrcode";case Be.ASYNC:return t?"alarm-clock":"tasks";case zs.LIVE_PRESENTATION:case zs.ASYNC_PRESENTATION:return"presentation";case re.CHALLENGE:return"user-friends";default:return"tasks"}}function Hw(e){return e===re.COMMON_ASSESSMENT}const Hh=[re.TEST,re.COMMON_ASSESSMENT];function em(e){return Hh.includes(e)}function jw(e){if(A(e))return e;const t=/.+?(?=(\**$))/,s=e.match(t);return A(s)?null:s==null?void 0:s[0]}function jh(e=[],t={}){const s=e.filter(n=>{var a;return!((a=t[n])!=null&&a.comprehensionQuestionId)});return s.length?s.reduce((n,a)=>{var i,r,c,u;const o=(i=t[a])!=null&&i.comprehensionQuestionIds&&cd((r=t[a])==null?void 0:r.comprehensionQuestionIds)&&((c=t[a])!=null&&c.comprehensionQuestionIds.length)?(u=t[a])==null?void 0:u.comprehensionQuestionIds:[a];return[...n,...o]},[]):e}function vl(e){const{remainingQuestionIds:t=[],unAttemptedQuestionIds:s=[],lastVisibleQuestionId:n="",questions:a={}}=e,o={},i=s.reduce((l,d)=>{const m=a[d],_=m==null?void 0:m.comprehensionQuestionId,f=t.indexOf(d);return _?!a[_].comprehensionQuestionIds.some(R=>!s.includes(R))&&!l.includes(_)&&(l.push(_),f>-1&&(o[f]=_)):(l.push(d),f>-1&&(o[f]=d)),l},[]);let r=Hc(i);r.includes(n)&&(r=wo(r,n),r.unshift(n));let u=t;return Object.keys(o).forEach((l,d)=>{if(r[d]){const m=r[d],_=a[m];if([se.COMPREHENSION,se.COMPREHENSION_VIDEO].includes(_.type)){const f=_.comprehensionQuestionIds,g=s.filter(v=>f.includes(v));u=wo(u,...g),u.splice(Number(l),0,...g)}else u=wo(u,m),u.splice(Number(l),0,m)}}),u}function tm(e){return e===Ja.TEACHER||e===Ja.TEACHER_SCHOOL||e===Ja.TEACHER_UNIVERSITY}function Vw(e){return e&&e.deleted===!0}function Vh(e){return!e||!e.occupation?!1:sm(e.occupation)}function sm(e){return e===Ja.CORPORATE||e===Ja.CORPORATE_LEARNER||e===Ja.CORPORATE_TEACHER}function $w(){return{containsEmoji:o=>!!Tp().exec(o),containsSpecialCharacter:o=>!!/[#$%^&*()`~<>\/\\|]+/gm.exec(o),isFirstNameEmpty:o=>o.length===0,isFirstNameGreaterThanLimit:(o,i)=>o.length>i,isLastNameGreaterThanLimit:(o,i)=>o.length>i}}const Al={PREFIX:"https://cf.quizizz.com/join/img/avatars/tablet_sm/monster",SUFFIX:".png"};function Ww(e){return Al.PREFIX+e+Al.SUFFIX}class uu{constructor(t){qe(this,"urlString","");qe(this,"protocol","");qe(this,"host","");qe(this,"port","");qe(this,"path","");qe(this,"query",{});qe(this,"hash",[]);this.urlString=t||window.location.href,this.protocol="",this.host="",this.port="",this.path="",this.query={},this.hash=[],this.parseURL(t)}parseURL(t){const s=document.createElement("a");s.href=t,this.protocol=s.protocol,this.host=s.hostname,this.port=s.port,this.path=s.pathname;const n=s.search.replace("?",""),a=s.hash.replace("?","");hc(n.split("&")).forEach(o=>{this.query[o.split("=")[0]]=o.split("=")[1]}),hc(a.split(",")).forEach(o=>{this.hash.push(o)})}extend(t){t.query&&(this.query=ud(this.query,t.query)),t.hash&&(this.hash=this.hash.concat(t.hash))}getURL(){const t=Object.keys(this.query).reduce((s,n,a)=>(s+=`${(a>0?"&":"")+n}=${this.query[n]}`,s),"");return`${this.protocol}//${this.host}:${this.port}${this.path}${Object.keys(this.query).length>0?"?":""}${t}${this.hash.length>0?"#":""}${this.hash.join(",")}`}getQueryParams(){return this.query}toString(){return this.getURL()}}function lu(e){const t={firstName:e.firstName||"",lastName:e.lastName||"",mongoId:e.id,photoUrl:e.media,selectedAvatar:e.selectedAvatar,courses:e.courses,isUnderAge:e.student&&e.student.underAge||!1,language:e.preferences&&e.preferences.lang||null,totalStats:e.totalStats||null,dob:e.student?new Date(e.student.dob):null,isTeacherOnJoin:(e==null?void 0:e.isTeacherOnJoin)||!1},s=e.username||e.userName||C(e,"local.casedUsername","");return t.isUnderAge?(t.email=s,t.userName=s):(t.email=e.email||C(e,"local.casedEmail",""),t.userName=s),t.name=Uo(e,t.isUnderAge),e.grades&&Array.isArray(e.grades)&&(t.gradeList=[...e.grades]),e.subject_tags&&Array.isArray(e.subject_tags)&&(t.favSubjects=[...e.subject_tags]),e.occupation&&(t.occupation=e.occupation),e.parent&&e.parent.email&&(t.parentEmail=e.parent.email),Array.isArray(e.groups)&&(t.groupIds=e.groups),e.lms&&(t.lmsInfo={},Object.keys(e.lms).forEach(n=>{e.lms[n]&&t.lmsInfo&&(t.lmsInfo[n]={email:e.lms[n].email,studentId:e.lms[n].id})})),e.country&&(t.country=e.country),t.country==="TW"&&t.language===null&&(t.language="zh-TW"),e.currentPlanStatus&&(t.currentPlanStatus=e.currentPlanStatus),e.createdAt&&(t.createdAt=e.createdAt),e.organization&&(t.organization=e.organization),e.paidOrganization&&(t.paidOrganization=e.paidOrganization),e.organizationRole&&(t.organizationRole=e.organizationRole),e.google&&(t.google=e.google),e.microsoft&&(t.microsoft=e.microsoft),e.local.phoneNumber&&(t.phoneNumber=e.local.phoneNumber),us(e.hasPassword)&&(t.hasPassword=e.hasPassword),Array.isArray(e.subscriptions)&&(t.subscriptions=e.subscriptions),t.language&&Dr(t.language)&&(t.shouldSetAppLanguage=!0),t}function Uo(e,t,s=Kc,n={}){const a=n.addTitle===!0,o=n.firstNameOnly===!0,i=n.lastNameOnly===!0,r=e.username||e.local&&e.local.username||"";let c="";return!e.firstName&&!e.lastName&&e.email?t?c=r||s:c=e.email.split("@")[0]:(e.firstName&&!(i&&e.lastName)&&(c+=e.firstName),e.lastName&&!(o&&e.firstName)&&(c+=` ${e.lastName}`)),a&&e.title?`${e.title} ${c||r}`:c||r}function Tl(e,t){let s=e,n="",a=!1;return e==="success"?(t.message==="Done"||wi(t.message)==="ok")&&(s=Ha.SUCCESS,n=t.message,a=!0):(s=Ha.FAILED,t.response&&(n="",typeof t.response.message=="string"&&(n=t.response.message.replace("<newPassword>","Password")||""))),{status:s,message:n,changeSuccessful:a}}function $h(e){const t=Kn(e,Xh,{}),s=wt(e,n=>n.prop);return{requestData:t,propsBeingUpdated:s}}function Wh(e,t,s,n){var u,l;let a="",o="",i={},r=!1,c={};if(Qu(s.message)==="ok"||Qu(s.message)==="done"){a="success";const d=Ea(e,["userName","photoUrl","gradeList","favSubjects","language","selectedAvatar","name","firstName","lastName"]),m={},{user:_}=s.data;for(let f=0;f<n.length;f++)switch(n[f]){case"userName":m.userName=((u=_.local)==null?void 0:u.casedUsername)||"",m.name=Uo({..._.local,firstName:_.firstName,lastName:_.lastName},_.isUnderAge);break;case"firstName":m.firstName=_.firstName||"";break;case"lastName":m.lastName=_.lastName||"",m.name=Uo({..._.local,firstName:_.firstName,lastName:_.lastName},_.isUnderAge),t===!1&&(r=!0,c={playerName:m.name});break;case"gradeList":m.gradeList=_.grades;break;case"language":m.language=(l=_.preferences)==null?void 0:l.lang;break}i={...d,...m}}else a="failed",o="An error has occurred, please try again.";return{updatedProps:i,status:a,message:o,shouldUpdatePlayerId:r,playerIdUpdateMutationPayload:c}}function Yh(e){let t=!1,s={},n=!1,a="",o=!1;window&&"user"in window&&!A(window.user)&&(s=lu(window.user));const i=e.rootReducer&&e.rootReducer.prevSessionMongoId||"",r=s.mongoId;return r&&i&&r!==i&&(t=!0),Dr(s.language||"")&&(n=!0,a=s.language||""),C(s,"occupation","").includes("corporate")&&s.selectedAvatar!==void 0&&s.selectedAvatar<=0&&(s.selectedAvatar=Ec([qi(1001,1016)]),o=!0),{shouldSignOutFirst:t,shouldSetAppLanguage:n,selectedLanguage:a,shouldSaveUserAvatar:o,userData:s}}function Kh(e){const s=(e.courses||[]).map(o=>o._id),n={...e,courses:s},a=lu(n);return{userData:a,shouldSetAppLanguage:a.shouldSetAppLanguage}}function Jh(e,t,s,n=""){const a={isAuthenticatedUser:!1,error:""};let o="",i=!1;if(t.data.isGoogle||t.data.isMicrosoft)a.isAuthenticatedUser=!1,a.error=`Please use the ${t.data.isGoogle?'"Continue with Google"':'"Continue with Microsoft"'} button above`;else if(t.data.deactivated)o="/reactivate";else if(t.message==="Ok")if(a.isAuthenticatedUser=!0,!s)A(n)?i=!0:o=n;else{const r=e,c=new uu(window.location.href),u=xt(c.query,"gc");Object.keys(c.query).length>0?o=u?`${Ma.getAppBaseUrl()}${window.location.search}`:`${c}&gc=${r}`:o=`${Ma.getAppBaseUrl()}?gc=${r}`}else a.error=t.message,a.isAuthenticatedUser=!1;return{redirectToHREF:o,shouldReload:i,mutationPayload:a}}function Xh(e,{prop:t,data:s}){const n=e;switch(t){case"language":!n.preferences&&(n.preferences={}),n.preferences.lang=s;break;case"userName":!n.local&&(n.local={}),n.username=s;break;case"firstName":n.firstName=s;case"lastName":n.lastName=s;break;case"gradeList":n.grades=Array.isArray(s)?s:[s];break}return n}function Zh(e){return(tm(e.occupation)&&e.title&&`${e.title} `||"")+Uo(e,!1,"")}function eE(e){return`${e||yp(Math.random()*Number.MAX_SAFE_INTEGER)}-${Date.now()}`}function Lr(e,t=!1){const s=[],n=e.info.questions,{createdBy:a}=e,o=t?Uo(a,!1,""):Zh(e.createdBy||{}),i=e.stats||{};for(let r=0;r<3&&r<n.length;r++)n[r]&&(s[r]={...n[r].structure.query});return{quizId:e._id,name:e.info.name,image:e.info.image,subjects:e.info.subjects||null,grades:e.info.grade||null,topics:e.info.topics,isProfane:e.info.isProfane,isWhitelisted:e.info.whitelisted,visibility:e.info.visibility,createdAt:e.createdAt&&new Date(e.createdAt)||null,lovedByUser:e.isLoved||null,questions:s,numQuestions:n.length,isInDraft:!A(e.draft),type:Jo(e),creator:{id:C(e,"createdBy._id")||null,image:C(e,"createdBy.media")||null,occupation:C(e,"createdBy.occupation")||null,username:C(e,"createdBy.username")||null,fullName:o,privileges:C(e,"creatorPrivileges",{})},stats:{love:e.love,totalGamesStarted:i.played,avgAccuracy:dd(i.totalCorrect/i.totalQuestions,2),totalPlayersJoined:i.totalPlayers}}}function Yw(e){const t=e.data&&e.data.total||0;let s=[];return e.data&&Array.isArray(e.data.hits)&&(s=wt(e.data.hits,n=>Lr(n))),{result:s,total:t,searchService:e.meta.service,searchVersion:e.meta.version}}function Kw({searchState:e,searchText:t,from:s,pageSize:n,gradesFilter:a,subjectFilter:o,languageFilter:i,questionNumRange:r,metaData:c,search:{queryDetails:u}}){const{profileId:l,isLoggedIn:d,isUnderAge:m,clientType:_}=e,f=[],g=c||{};let v=[!1];const R={query:t,id:"",source:u.source};if(t!==""&&(t!==u.query||A(u.id)?R.id=eE(l):R.id=u.id),!A(r)){const E=r.split(",");f.push(An(E[0])||null),f.push(An(E[1])||null)}return d&&!m&&(v=[!0,!1]),R.id&&(g.queryId=R.id),g.clientType=_,g.source=R.source,{requestArgs:{searchText:t,from:s,pageSize:n,gradesFilter:a,subjectFilter:o,languageFilter:i,questionNumRange:f,profaneFilter:v,metaDataToUse:g},mutationPayload:{queryDetails:R}}}function Jw(e){let t=[];return e.success&&e.data.sections.length&&(t=[...e.data.sections],ot(t,s=>{s.quizzes=wt(s.quizzes,n=>ld(Lr(n),{numQuestions:C(n,"stats.numQuestions",0)}))})),{recommendedSections:t}}function Xw(e){let t={name:"",quizzes:[]};return e.success&&!A(e.data)&&(t={...e.data},t.quizzes=wt(t.quizzes,s=>{const n=Lr(s);return ld(n,{numQuestions:C(s,"stats.numQuestions",n.numQuestions)}),n})),{recommendedTopicData:t}}function yl(e,t,s,n){const a=e==="runningGames"?t.totalRunningGames:t.totalCompletedGames,o=e==="runningGames"?t.runningGames:t.completedGames,i=a>-1,r=Je(n)?n:o.length,c=i&&o.length>=a;return{hasBeenFetchedEvenOnce:i,startAt:r,hasAllListBeenFetched:c,pageSize:s}}function du(e,t,s){const n=e.items.length;let a=0;const o={};let i=[],r=[];const c={};ot(e.quizzes,(d,m)=>{c[m]=nm(d)}),ot(e.users,(d,m)=>{o[m]=am(d)});const u=[],l=[];return ot(e.items,d=>{d.isGroupAssigned===!0?l.push(d):u.push(d)}),i=Il(u,!1),r=Il(l,!0),a=r.length,{items:Fs(i,d=>zi(d.gamesAttempted[0]),"desc"),groupAssignedItems:Fs(r,d=>zi(d.gamesAttempted[0]),"desc"),quizzes:c,users:o,total:n,groupAssignedTotal:a,pageSize:t,startAt:s}}function tE(e,t,s){const{total:n}=e,a={},o=[],i={};return ot(e.items,r=>{var d;const c=Array.isArray(r.latestAttempts)?r.latestAttempts[0]:r.latestAttempts,u=[{attempts:[mu(c),r.quizInfo],gameInfo:pu(c,Et.COMPLETED,[r.latestAttempts])}],l={quizInfo:null,numAttempts:r.numAttempts,limitAttempts:((d=r.options)==null?void 0:d.limitAttempts)??0,areAllAttemptsFetched:!1,gamesAttempted:u,totalPossibleMarks:r.totalPossibleMarks};r.quizInfo&&(l.quizInfo={quizId:r.quizInfo.quizId,verId:r.quizInfo.versionId,traits:r.quizInfo.traits},i[r.quizInfo.quizId]=nm(r.quizInfo)),c.host&&c.host.userId&&(a[c.host.userId]=am(c.host)),o.push(l)}),{items:Fs(o,r=>zi(r.gamesAttempted[0]),"desc"),quizzes:i,users:a,total:n,pageSize:t,startAt:s}}function sE(e,t){var i;const s=t.quizInfo.quizId,n=[...e.completedGames],a=Os(n,r=>r.quizInfo.quizId===s),o=wt(t.games,r=>{const c=wt(r.attempts,l=>mu(l,r,t.quizInfo));return{gameInfo:pu(r,Et.COMPLETED,r.attempts),attempts:Fs(c,"dateJoined","desc")}});return n[a]={...n[a],gamesAttempted:Fs(o,zi,"desc"),numAttempts:t.numAttempts,areAllAttemptsFetched:!0},{forQuizId:s,updatedCompletedGames:n,didLatestGameHaveLimitedAttempts:((i=n[a].gamesAttempted[0])==null?void 0:i.gameInfo.options.limitAttempts)>0}}function nE(e=[],t=[]){let s=[];for(let n=0;n<e.length&&n<Vi.MAX_RUNNING_GAMES&&s.length<Vi.MAX_ATTEMPTS;n++)s.push({list:"running",index:n,data:ys(e[n])});for(let n=0;n<t.length&&n<Vi.MAX_COMPLETED_GAMES&&s.length<Vi.MAX_ATTEMPTS;n++)s.push({list:"completed",index:n,data:ys(t[n])});return s=Fs(s,[n=>n.list==="running",n=>zi(n.data.gamesAttempted[0])],["desc","desc"]),{list:wt(s,n=>cE(n.data,n.index,n.list))}}function Zw(e,t){const s=e.l,n=e.i,a=e.q,o=t[s][n]?t[s][n].quizInfo:null;if(o&&o.quizId===a)return{...t[s][n],fromList:s};const i=Os(t[s],r=>r.quizInfo&&r.quizInfo.quizId===a);return i!==-1?{...t[s][i],fromList:s}:null}function aE(e,t,s){const n=[],a=e.data.quiz.info.questions;for(let o=0;o<3&&o<a.length;o++)n[o]={...a[o].structure.query};return{quizId:t,listType:s,updatedData:{questions:n}}}function oE(e){const t=[];return ot(e,s=>{ot(s.attempts,n=>{Yn(n,"numQuesAttempted")&&n.numQuesAttempted!==0&&n.playerId&&(n.roomHash=s.gameInfo.roomHash,t.push(n))})}),t}function iE({roomHash:e,playerId:t},s){const{currentAttempts:n,currentGameData:a}=s;if(a.roomHash!==e)return n;const o=As(n),i=Os(o,r=>r.playerId===t);return o[i].isOver=!0,o}function rE(e,t){let s=[],n=0;return e.success&&(s=Jt(e.data.hits,o=>o.hasDraftVersion||o.hasPublishedVersion).map(o=>Lr(o,!0)),n=e.data.total),{success:e.success,quizzes:s,totalQuizzes:n,page:t}}function nm(e){return{name:e.name,creator:{id:e.creator},image:e.image,subjects:e.subjects,grades:e.grades,avgAccuracy:Number((e.stats.totalCorrect/e.stats.totalQuestions).toFixed(2)),totalPlayersJoined:e.stats.totalPlayers,questions:null,numOfQuestions:e.numOfQuestions||0,traits:e.traits||{},type:Jo(e)}}function am(e){return{mongoId:e.userId,username:e.username,occupation:e.occupation||null,fullName:uE(e),image:e.image||""}}function mu(e,t={},s={}){const n=gu([e],t);return{playerId:e.playerId,dateJoined:e.createdAt&&new Date(e.createdAt)||null,numQuestions:n,numAnswerableQuestions:lE([e],t,s),numQuesAttempted:e.numAttempted,numCorrect:e.numCorrect,isOver:Object.hasOwnProperty.call(e,"isOver")?e.isOver:!0,lastPlayedAt:e.lastPlayedAt&&new Date(e.lastPlayedAt)||null,isLMSAttempt:om(e),isPlayerDeleted:us(e.deleted)?e.deleted:null,gameType:ao(t.gameType),gameMode:Ko(t.gameType),marks:e.marks,totalPossibleMarks:e.totalPossibleMarks}}function pu(e,t,s){const n=Jt(s,om),a=gu(s,e),o=!!n.length,i=Array.isArray(e.groupIds)?e.groupIds:[],r=e.groupsInfo||{},c=e.options||{};let u=Ys.NONE,l=null;return o&&(l=ys(n[0].assignment)),i.length>0&&(u=r.create&&r.create.token?Ys.GROUP_CREATION:Ys.ONLY_ASSIGNED),{roomHash:e.gameId?e.gameId:e._id?e._id:null,gameType:ao(e.gameType),gameMode:Ko(e.gameType),gameCode:(e==null?void 0:e.gameCode)||null,gameState:e.gameState||t,gameCreatedAt:e.createdAt?new Date(e.createdAt):e.assignedDate?new Date(e.assignedDate):null,dueDate:e.dueDate&&new Date(e.dueDate)||null,host:e.host&&!A(e.host)?{id:e.host.userId}:e.hostId?{id:e.hostId}:{},hasLMSAttempts:o,lmsInfo:l,groupIds:i,isOnlyAssigned:e.isGroupAssigned===!0,groupType:u,assignmentTitle:e.assignmentTitle,numQuestions:a,options:{limitAttempts:Je(c.limitAttempts)?c.limitAttempts:0}}}function zi(e,t=!1){return t&&e.gameInfo.dueDate?e.gameInfo.dueDate:e.attempts[0]&&e.attempts[0].dateJoined||e.gameInfo.gameCreatedAt||null}function cE(e,t,s){return{l:s,i:t,q:e.quizInfo&&e.quizInfo.quizId||""}}function uE(e){return(tm(e.occupation)&&e.title&&`${e.title} `||"")+Uo(e,!1,"")}function om(e){return!!(e.assignment&&!A(e.assignment))}function Il(e,t){return wt(e,s=>{var i,r;let n=[];t||(n=wt(s.attempts,c=>mu(c,s,s)));let a=(((i=s.options)==null?void 0:i.limitAttempts)||0)-(s.numAttempts||0);return a=a>0?a:0,{quizInfo:{quizId:s.quizId,verId:s.versionId,traits:s.traits},totalPossibleMarks:s.totalPossibleMarks,currentQuestionIndex:C(s,"currentQuestionIndex",-1),numAttempts:s.attempts.length,limitAttempts:((r=s.options)==null?void 0:r.limitAttempts)??0,remainingAttempts:a,areAllAttemptsFetched:!0,gamesAttempted:[{attempts:Fs(n,"dateJoined","desc"),gameInfo:pu(s,Et.RUNNING,s.attempts)}]}})}function gu(e,t){const s=C(t,"options.questionsPerAttempt",0);return s>0?s:e&&e[0]&&Je(e[0].numQuestions)?e[0].numQuestions:-1}function lE(e,t,s={}){const n=C(t,"options.questionsPerAttempt",0);if(n>0)return n;if(Je(t.totalAnswerableQuestions))return t.totalAnswerableQuestions;const a=gu(e,t),o=C(s,"traits.totalSlides",-1);return o>=0?a-o:a}function dE(e){const{items:t}=e,s=t.filter(({latestAttempts:n})=>n.gameType!==re.COMMON_ASSESSMENT);return{...e,items:s}}const to=Pt("userAttempts",()=>{const e=rs(),t=p([]),s=p(-1),n=p([]),a=p(-1),o=p(!1),i=p([]),r=p(-1),c=p([]),u=p({}),l=p({}),d=p(!1);function m(){t.value=[],s.value=-1,n.value=[],a.value=-1,o.value=!1,i.value=[],r.value=-1,c.value=[],u.value={},l.value={},d.value=!1}function _(D){n.value=D.groupAssignedGames,a.value=D.totalGroupAssignedGames,u.value={...u.value,...D.commonQuizzesData},l.value={...l.value,...D.commonUsersData}}function f(D){u.value={...u.value,...D.additionalData}}function g(D){t.value=D.items,s.value=D.total,n.value=D.groupAssignedItems,a.value=D.groupAssignedItems.length,o.value=!1,u.value={...u.value,...D.quizzes},l.value={...l.value,...D.users}}function v(D){i.value=i.value.concat(D.items),r.value=D.total,d.value=!1,u.value={...u.value,...D.quizzes},l.value={...l.value,...D.users}}function R(D){if(u.value[D.quizId]){const ee={...u.value[D.quizId],...D.updatedData};u.value={...u.value,[D.quizId]:ee}}else{const ee={...D.updatedData};u.value={...u.value,[D.quizId]:ee}}}async function E({pageSize:D,startIndex:ee}={}){const ie={totalRunningGames:s.value,totalCompletedGames:r.value,runningGames:t.value,completedGames:i.value},M=yl("runningGames",ie,D,ee);o.value=!1;try{const{response:oe}=await C_(),ye=du(oe.data,M.pageSize,M.startAt);return g(ye),ye}catch(oe){N.log("Error at action fetchRunningGamesList",oe),o.value=!0}}async function h({pageSize:D,startIndex:ee=0}={}){D=e.isCorporateUser?12:10;const ie={totalRunningGames:s.value,totalCompletedGames:r.value,runningGames:t.value,completedGames:i.value},M=yl("completedGames",ie,D,ee);if(!M.hasAllListBeenFetched){d.value=!1;try{const{response:oe}=await R_(M.startAt,M.pageSize),ye=dE(oe.data),F=tE(ye,M.pageSize,M.startAt);return v(F),F}catch(oe){N.log("Error at action fetchCompletedGamesList",oe),d.value=!0}}}function k({runningList:D=[],completedList:ee=[]}){const ie=nE(D,ee);c.value=ie.list}async function L(){try{const D=await Promise.all([E(),h()]),ee=D[0],ie=D[1];if(ee&&ie){const M=ee.items,oe=ie.items;k({runningList:M,completedList:oe})}}catch(D){N.log("Error at action fetchInitialAttempts -",D)}}async function q({quizId:D,listType:ee}){try{const{response:ie}=await tu({quizId:D,bypassProfanityCheck:!1,retryCount:0}),M=aE(ie,D,ee);return R(M),M}catch(ie){N.log("Error at action fetchQuestionsForAttempt",ie)}}return{runningGames:t,totalRunningGames:s,groupAssignedGames:n,totalCompletedGames:r,totalGroupAssignedGames:a,runningGamesErrored:o,completedGames:i,recentActivityList:c,commonQuizzesData:u,commonUsersData:l,completedGamesErrored:d,fetchInitialAttempts:L,fetchQuestionsForAttempt:q,updateCommonQuizzesData:f,updateGroupAssignedGames:_,fetchRunningGamesList:E,fetchCompletedGamesList:h,$reset:m}}),Sl=Pt("myQuizzes",()=>{const e=p([]),t=p(0),s=p(0),n=p(!1);function a(r){e.value=e.value.concat(r.quizzes),s.value=r.totalQuizzes,t.value=r.page||0,n.value=!1}function o(){e.value=[],t.value=0,s.value=0,n.value=!1}async function i({page:r=0}){const c=sf.DESKTOP,u=r*c,l="createdAt",d="desc";try{const{response:m}=await S_(u,l,d,c,!0,{tags:[]}),_=rE(m,r);if(!_.success){n.value=!0;return}a(_)}catch(m){N.error("Error fetching my quizzes",m),n.value=!0}}return{quizzes:e,page:t,totalQuizzes:s,fetchMyQuizzesErrored:n,fetchUsersQuizzes:i,$reset:o}}),oo=Ua.baseServerUrl;async function Rl(e){const t=`${oo}user/info`;return ke.put(t,{payload:e,requestName:xe.updateUserInfo})}async function mE(e){const t=`${oo}user/setAvatar`;return ke.post(t,{payload:{selectedAvatar:e},requestName:xe.saveAvatar})}async function pE(e){const t=`${oo}user/updatePassword`;return ke.post(t,{payload:e,requestName:xe.changeUserPassword})}async function gE(){return ke.get(`${oo}features`,{requestName:xe.featureFlags})}async function fE(e){return ke.get(`${oo}user/checkUserEmailAvail?email=${e}`,{requestName:xe.checkEmailAvail})}async function _E(e){return ke.get(`${oo}user/checkUserNameAvail?username=${e}`,{requestName:xe.checkUserNameAvail})}async function hE(e){return ke.get(`${oo}user/checkPhoneNumberAvail?phoneNumber=${e}`,{requestName:xe.checkPhoneNumberAvail})}const{requestServerUrl:zr}=Ua;async function EE(e,t){const s=`${zr}auth/local`;return ke.post(s,{payload:{username:e,password:t},requestName:xe.loginUser})}async function vE(){return ke.get(`${zr}user`,{requestName:xe.getCurrentUserInfo})}async function AE(){return ke.post(`${zr}auth/refreshToken`,{requestName:xe.refreshAuthToken})}async function TE(e){return ke.get(`${zr}game/${e}/join/lms/requireAuth`)}const{requestServerUrl:fu}=Ua;function yE(){const e=`${fu}user/groups`;return ke.get(e,{requestName:xe.getGroups})}function IE(e){const t=`${fu}group/token-to-teacher?t=${e}`;return ke.get(t,{retryCount:1,timeout:10*no,requestName:xe.getGroupInfo})}function SE(e){const t=`${fu}group/add-member`;return ke.post(t,{payload:e,requestName:xe.joinGroup})}const as={FEATURED_QUIZ_CLICK:"qg_featured_quiz_click",SEARCH_RESULT_CLICK:"searchEvent_searchItemClick",GAME_CARD_CLICK:"qg_game_card_click",QUIZ_PREVIEW_CTA_CLICK:"qg_quiz_preview_cta_click",USER_NAV_INTERACTED:"qg_user_nav_interacted",SEARCH_SUBMIT:"qg_search_submit",NETWORK_ISSUE:"nh_network_issue",APP_LOADING:"qg_app_loading",SUMMARY_SCREEN:"qg_summary_screen",PLAY_AGAIN_SUMMARY:"ft_summary_play_again",SUMMARY_SHARE_TWITTER:"qg_summary_share_tw",CREATE_QUIZ:"qg_create_quiz",CLASS_INVITE_SHOWN:"qg_class_invite_modal_show",CLASS_INVITE_ACCEPTED:"qg_class_invite_modal_accepted",PRE_GAME_SCREEN_VISITED:"PRE_GAME_SCREEN_VISITED",PRE_GAME_SCREEN_CTA_CLICK:"PRE_GAME_SCREEN_CTA_CLICK",CREATED_QUIZ_SHARE_CLICKED:"qg_created_quiz_share_clicked",JOIN_ROOM:"qg_join_room",LIVE_REACTION_CLICKED:"ft_student_live_reaction_clicked",LIVE_REACTION_HOLD:"ft_student_live_reaction_hold",NPS_FEEDBACK_TRIGGERED:"join_nps_feedback_tiggered",STUDENT_RAISED_HAND:"ft_student_raised_hand",STUDENT_DROPPED_HAND:"ft_student_dropped_hand",STUDENT_RAISE_HAND_INITIATED:"ft_student_raised_hand_init",TEACHER_DROPPED_HAND:"ft_teacher_dropped_hand",SLIDE_INITIAL_STATE:"ft_slide_initial_state",TEACHER_DISABLED_RAISE_HAND:"ft_teacher_disabled_raise_hand",TEACHER_ENABLED_RAISE_HAND:"ft_teacher_enabled_raise_hand",GOOGLE_FONT_LOAD_SUCCEEDED:"ft_google_font_load_succeeded",GOOGLE_FONT_LOAD_FAILED:"ft_google_font_load_failed",FONT_FACE_API_NOT_SUPPORTED:"ft_font_face_api_not_supported",PRESENTATION_SURVEY:"ft_pres_survey",PRESENTATION_MUTE_TOGGLED:"PresoJoinMute",PRESENTATION_RESYNCED:"PresoJoinResync",PRESENTATION_PLAYED_AGAIN:"PresoJoinPlayAgain",PRESENTATION_MOVE_TO_LAST_SLIDE:"PresoJoinLastSlide",SUMMARY_CREATE_ACTIVITY:"ft_summary_create_activity",ONE_TAP_SSO_DISMISS:"qg_google_one_tap_dismiss",ONE_TAP_SSO_SHOW:"qg_google_one_tap_show",ONE_TAP_SSO_LOGIN:"qg_google_one_tap_login",KICKED_OUT_ISSUE:"qg_kicked_out",RESUME_CARD_ISSUE:"qg_resume_card_issue",SKIP_QUESTION_CLICKED:"ft_skip_question_clicked",MEDIA_PERMISSIONS_ERROR:"ft_media_permissions_error",UPLOAD_MEDIA_RESPONSE:"ft_upload_media_response",SUBMIT_MEDIA_RESPONSE:"ft_submit_media_response",INVALID_PHONENUMBER:"searchEvent_invalidPhoneNumber",SESSION_ACTIVE:"tracking/active-time/events",CAN_SHOW_WORK:"ft_sw_can_show_work",SHOW_WORK_UPLOAD_INIT:"ft_sw_upload_init",SHOW_WORK_IMAGE_ERROR:"ft_sw_image_error",TRIGGER_REPLAY_ASYNC:"ft_tra_init",TRIGGER_REPLAY:"ft_tra_replay",TABLE_REPLAY_ASYNC:"ft_tra_table",SHOW_REPLAY_ASYNC_LINK:"ft_tra_show_link",HIDE_REPLAY_ASYNC_LINK:"ft_tra_hide_link",COPY_REPLAY_ASYNC_LINK:"ft_tra_copy_link",COPY_REPLAY_ASYNC_CODE:"ft_tra_copy_code",PLAY_REPLAY_ASYNC:"ft_tra_play",COMPLETE_PASS_1:"rdq_complete_pass_1",SUMBIT_PASS_2_RESPONSE:"rdq_sumbit_pass_2_response",COMPLETE_PASS_2:"rdq_complete_pass_2",SHARE_FLASHCARDS_PREGAME:"share_flashcards_pregame",ANSWER_LATER_TOOLTIP_SEEN:"ft_answer_later_tooltip_seen",ANSWER_LATER_CLICKED:"ft_answer_later_clicked",ANSWER_LATER_RESURFACED:"ft_answer_later_resurfaced",ANSWER_LATER_QUESTION_ATTEMPTED:"ft_answer_later_question_attempted",JOIN_ROOM_EXPIRED:"join_room_expired",TRY_QUIZ_QP_SOLO_GAME_LOADED:"try_quiz_qp_solo_game_loaded",STUDENT_GCL_FLOW_JOIN:"join_gcl_flow_join",STUDENT_ROSTERING_TRIGGERED:"join_student_rostering_triggered",STUDENT_GCL_ROSTERING_SUCCESFULL:"join_student_gcl_rostering_succesfull",STUDENT_SCHOOLOGY_ROSTERING_SUCCESFULL:"join_student_schoology_rostering_succesfull",STUDENT_CANVAS_ROSTERING_SUCCESFULL:"join_student_canvas_rostering_succesfull",STUDENT_ROSTERING_NOT_PART_OF_CLASS:"join_student_rostering_not_part_of_class",EMBED_MODE_GAME_STARTED:"embed_mode_game_started",EMBED_MODE_EXPLORE_QUIZIZZ:"embed_mode_explore_cta_click",TEACHER_ONBOARDING_MODAL_OPENED:"teacher_onboarding_modal_opened",TEACHER_ONBOARDING_MODAL_CLOSED:"teacher_onboarding_modal_closed",TEACHER_ONBOARDING_MODAL_NOT_NOW_PRESSED:"teacher_onboarding_modal_not_now_pressed",TEACHER_ONBOARDING_MODAL_CONVERTED:"teacher_onboarding_modal_converted",TEACHER_ONBOARDING_MODAL_FAILED:"teacher_onboarding_modal_failed",QUESTION_MARKED_FOR_REVIEW:"question_marked_for_review",ALL_TAB_SELECT_REVIEW:"all_tab_selected",UNATTEMPTED_TAB_SELECT_REVIEW:"unattempted_tab_selected",FLAGGED_TAB_SELECT_REVIEW:"flagged_tab_selected",QUESTION_UNMARKED_FOR_REVIEW:"question_unmarked_for_review",REVIEW_QUESTION_CANCELLED:"review_question_cancelled",REVIEW_QUESTION_SAVED:"review_question_saved",REVIEW_SCREEN_FINAL_SUBMIT:"review_screen_final_submit",QUESTION_REVIEW_TRIGGERED:"question_review_triggered",REVIEW_TEST_MODAL_SUBMIT:"review_test_modal_submit",REVIEW_TEST_MODAL_GOBACK:"review_test_modal_goBack",FT_MASTERY_START_GAME:"ft_mastery_start_game",FT_MASTERY_SHOW_INITIAL_PROGRESS_BAR:"ft_mastery_show_initial_progress_bar",FT_MASTERY_SHOW_PROGRESS_BAR:"ft_mastery_show_progress_bar",FT_MASTERY_ACHIEVE_MASTERY:"ft_mastery_achieve_mastery",FT_MASTERY_LETS_GO:"ft_mastery_lets_go",FT_MASTERY_END_GAME:"ft_mastery_end_game",FT_MASTERY_SUMMARY_PAGE:"ft_mastery_summary_page",FT_MASTERY_REATTEMPT:"ft_mastery_reattempt",REPORT_WITH_CURRENT_QUESTION_CLICKED:"report_with_current_question_clicked",REPORT_WITH_PREVIOUS_QUESTION_CLICKED:"report_with_previous_question_clicked",REPORT_QUESTION_CANCELLED:"report_question_cancelled",REPORT_QUESTION_SUBMITTED:"report_question_submitted",PATHFINDER_POINTS_UPDATE:"pathfinder_points_update",PATHFINDER_SELECTION:"pathfinder_selection",SLOW_INTERNET_CONNECTION:"slow_internet_connection",SIGNUP_FLOW:"signup_flow",LOGIN_FLOW:"login_flow",SUMMARY_ACCURACY_TOOLTIP:"summary_accuracy_tooltip",SUMMARY_PROGRESS_PERCENT_TOOLTIP:"summary_progress_percent_tooltip",SUMMARY_PROGRESS_PERCENT_MASTERY_TOOLTIP:"summary_progress_percent_mastery_tooltip",PROCEED_GAME_FAILURE:"game_proceed_failure_dialog",BREAKROOM_ENTRY:"breakroom_entry",BREAKROOM_EXIT:"breakroom_exit",BREAKROOM_ROCK_CLICKED:"breakroom_rock_clicked",WAITING_FOR_OTHERS_VIEWED:"waiting_for_others_viewed",PLAY_MINIGAMES_CLICKED:"play_minigames_clicked",REVIEW_ANSWERS_CLICKED:"review_answers_clicked",MINIGAME_SELECTION_CLICKED:"minigame_selection_clicked",REPLAY_MINIGAME_CLICKED:"replay_minigame_clicked",QFW_NAV_CREATE_QUIZ:"qfw_nav_create_quiz",QFW_JOIN_GROUP:"qfw_join_group",QFW_JOIN_GROUP_CONTINUE:"qfw_join_group_continue",QFW_JOIN_PAGE_MOUNT:"qfw_join_page_mount",QFW_ACTIVITIES_FETCHED:"qfw_activities_fetched",QFW_JOIN_QUIZ:"qfw_join_quiz",QFW_JOIN_QUIZ_SUCCESSFUL:"qfw_join_quiz_successful",STRIKE_SHIELD_ACTION:"strike_shield_action",COURSE_JOIN_VIA_CODE_SUCCESS:"course_join_via_code_success",STUDENT_STRIKE_SUMMARY:"student_strike_summary",LIVE_MINIGAME_CLICKED:"live_minigame_clicked",LIVE_MINIGAME_CLOSED:"live_minigame_closed",LIVE_MINIGAME_REPLAYED:"live_minigame_replayed",LIVE_MINIGAME_BTS:"live_minigame_bts",LIVE_MINIGAME_SHOWN:"live_minigame_shown",PLAYER_AVATAR_CLICKED:"student_avatar_clicked",PLAYER_NAME_GENERATOR_CLICKED:"player_name_generator_clicked",PLAYER_POWERUP_SHUFFLE:"powerup_shuffle",PLAYER_READ_TEXT_ALOUD:"player_read_text_aloud",PLAYER_MUSIC_CLICKED:"player_music_clicked",PLAYER_SOUND_EFFECTS_CLICKED:"player_sound_effects_clicked",PLAYER_MEME_CLICKED:"player_meme_clicked",PLAYER_THEME_SELECTED:"player_theme_selected",PLAYER_IDIOMAS:"player_idiomas",PLAYER_MAGNIFIER:"student_magnifier",STUDENT_FORUM_SHOWN:"student_forum_shown",STUDENT_FORUM_CLICKED:"student_forum_clicked",CUSTOMISE_AVATAR_FEEDBACK_SUBMIT:"customise-avatar-feedback-submit",CUSTOMISE_AVATAR_FEEDBACK_CLOSE:"customise-avatar-feedback-close",CUSTOMISE_AVATAR_FEEDBACK_CLICKED:"customise-avatar-feedback-clicked",CUSTOMISE_AVATAR_FEEDBACK_SHOWN:"customise-avatar-feedback-shown",CUSTOMISE_AVATAR_FEEDBACK_NEXT_CLICKED:"customise-avatar-feedback-next-clicked",CUSTOMISE_AVATAR_FEEDBACK_MODAL_CLOSED:"customise-avatar-feedback-modal-closed",PLAYER_SCREEN_TRANSITION_CLICKED:"qg_player_screen_transition_clicked",LANDING_PAGE_SHOW:"qg_landing_page_show",LANDING_DASHBOARD_CTA:"landing_dashboard_cta",LANDING_AVATAR_SHOP_CTA:"landing_avatar_shop_cta",LANDING_JOIN_CLICKED:"qg_landing_join_clicked",LANDING_JOIN_ERROR:"landing_join_error",LANDING_ASSIGNED_ACTIVITIES_SHOW:"qg_landing_assigned_activities_show",LANDING_ASSIGNED_ACTIVITIES_CLICK:"landing_assigned_activities_click",LANDING_ASSIGNED_ACTIVITIES_SEE_ALL:"landing_assigned_activities_see_all",NLE_PAGE_SHOW:"nle_page_show",NLE_JOIN_CLICKED:"nle_join_clicked",NLE_JOIN_ERROR:"nle_join_error",PRACTICE_PAGE_VIEW_ENTRY_POINT:"engagement_pageview_entrypoint",PRACTICE_CLICK_JOIN_ENTRY_POINT:"engagement_click_join_entrypoint",AVATAR_EDIT_CLICKED:"qg_avatar_edit_clicked",AVATAR_SAVED:"qg_avatar_saved",AVATAR_SHUFFLED:"avatar_shuffled",AVATAR_DOWNLOADED:"avatar_downloaded",AVATAR_ONBOARDING_VIDEO_SHOWN:"onboarding_avatar_video_shown",AVATAR_PURCHASE_CLICK:"ce_paid_category_clicked",AVATAR_PURCHASE_INITIATED:"ce_purchase_initiated",AVATAR_PURCHASE_COMPLETED:"ce_purchased",AVATAR_BONUS_ENTRY_SHOWN:"qg_ce_claim_reward_shown",AVATAR_BONUS_ENTRY_CLICKED:"qg_ce_claim_reward_clicked",AVATAR_BONUS_MODAL_SHOWN:"ce_daily_bonus_shown",AVATAR_BONUS_CLAIM_IN_MODAL:"ce_daily_bonus_claim_clicked",AVATAR_SUMMARY_GO_TO_SHOP:"ce_go_to_shop",AVATAR_HOW_IT_CLICK:"info_icon_clicked",LOGIN_SIGNUP_CLICK:"login_signup_clicked",VQT_PLAY_PAUSE_VIDEO:"video_qt_play_pause_video",VQT_SPEED_CHANGE:"video_qt_speed_change",VQT_COLLAPSE_LIST:"video_qt_questions_collapse",VQT_EXPAND_LIST:"video_qt_questions_expand",DIFF_BILINGUAL_DICTIONARY_CLICK:"bilingual_dictionary_click",DIFF_CALCULATOR_CLICK:"calculator_click",DIFF_GRAPHING_CLICK:"graphing_click",COMPLETED_CARD_CLICK:"completed_card_click",PLAYER_ANSWER_CLICK:"qg_player_answer_click",AFTER_ATTEMPT_INFORMATION:"qg_after_attempt_information",MISCLICK:"player_misclick"};function eO(e){return Object.keys(rt).includes(e)?wE(e):e}function RE(e){if(es().isAppInProMode)return!1;switch(e){case rt.ANIME:case rt.FOOTBALL:case rt.THE_8_BIT:return!0;default:return!1}}function im(e){switch(e){case rt.SNS:case rt.MYSTIC_PEAK:return!1;default:return!0}}function tO(){const e=[];return ot(rt,t=>{im(t)&&e.push(t)}),e}const CE={[rt.CLASSIC]:"Classic",[rt.SYNTHWAVE]:"Synthwave",[rt.DOGSVILLE]:"Dogsville",[rt.THE_8_BIT]:"Dark Night",[rt.ANIME]:"Flame Impala",[rt.FOOTBALL]:"Touchdown",[rt.COSMIC_PICNIC]:"Cosmic Picnic"};function wE(e){return CE[e]}const rm={[Mt.PHONE]:{fontSize:{title:{xs:12,s:14,m:16,l:20,xl:24},text:{xs:12,s:14,m:16,l:20,xl:24}}},[Mt.TABLET]:{fontSize:{title:{xs:32,s:40,m:48,l:64,xl:80},text:{xs:32,s:40,m:48,l:64,xl:80}}},fontFamily:{Quicksand:{name:"Quicksand",url:"https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700",fontWeight:{title:700,text:500}},"Open Sans":{name:"Open Sans",url:"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,800;1,400;1,800",fontWeight:{title:800,text:400}},Roboto:{name:"Roboto",url:"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,900;1,400;1,900",fontWeight:{title:900,text:400}},"Space Grotesk":{name:"Space Grotesk",url:"https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@0,400;0,700;1,400;1,700",fontWeight:{title:700,text:400}},"Eb Garamond":{name:"Eb Garamond",url:"https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,700;1,400;1,700",fontWeight:{title:800,text:500}},Merriweather:{name:"Merriweather",url:"https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,900;1,400;1,900&display=swap",fontWeight:{title:900,text:400}},"Libre Baskerville":{name:"Libre Baskerville",url:"https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap",fontWeight:{title:700,text:400}},"Patrick Hand":{name:"Patrick Hand",url:"https://fonts.googleapis.com/css2?family=Patrick+Hand",fontWeight:{title:400,text:400}},Cookie:{name:"Cookie",url:"https://fonts.googleapis.com/css2?family=Cookie&display=swap",fontWeight:{title:400,text:400}},"Permanent Marker":{name:"Permanent Marker",url:"https://fonts.googleapis.com/css2?family=Permanent+Marker",fontWeight:{title:400,text:400}},Lobster:{name:"Lobster",url:"https://fonts.googleapis.com/css2?family=Lobster",fontWeight:{title:400,text:400}},"Bebas Neue":{name:"Bebas Neue",url:"https://fonts.googleapis.com/css2?family=Bebas+Neue",fontWeight:{title:400,text:400}},"Playfair Display":{name:"Playfair Display",url:"https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap",fontWeight:{title:700,text:400}},Inconsolata:{name:"Inconsolata",url:"https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap",fontWeight:{title:700,text:400}},"Space Mono":{name:"Space Mono",url:"https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap",fontWeight:{title:700,text:400}}},LINK_COLORS:{DEFAULT:"#9A4292"},BG_COLORS:{DEFAULT:"#FFFFFF"}};function sO(e){var a,o,i,r,c,u,l;const t=As(e),s=(t==null?void 0:t.fontFamily)||"Quicksand";return{fontSize:{title:(a=t==null?void 0:t.fontSize)==null?void 0:a.title,text:(o=t==null?void 0:t.fontSize)==null?void 0:o.text},fontFamily:A(s)?"Quicksand":s,fontColor:{title:(i=t==null?void 0:t.fontColor)==null?void 0:i.title,text:(r=t==null?void 0:t.fontColor)==null?void 0:r.text},background:{color:(c=t==null?void 0:t.background)==null?void 0:c.color,image:(u=t==null?void 0:t.background)==null?void 0:u.image,video:(l=t==null?void 0:t.background)==null?void 0:l.video}}}function nO({contentType:e,fontSizeValue:t}){const s=Mt.TABLET;return rm[s].fontSize[e][t]}const OE={MISC:"misc",GAME_CODE:{_BASE_:"gameCode",TYPED:"gameCode.typed",PARAM:"gameCode.param",PSEUDO_LMS:"gameCode.pseudoLms",AFTER_DIALOG:"gameCode.afterDialog",AFTER_GROUP_INVITE_ACCEPT:"gameCode.afterGroupInviteAccept"},FEATURED:"featured",SEARCH:"search",FROM_ADMIN:{_BASE_:"fromAdmin",PARAM:{_BASE_:"fromAdmin.param",DIRECT:"fromAdmin.param.direct",AFTER_NAME:"fromAdmin.param.afterName",SOLO_LINK_SHARE:"fromAdmin.param.soloLinkShare",PARENT_EMAIL:"fromAdmin.param.parentEmail",PARENT_EMAIL_LINK:"fromAdmin.param.parentEmailLink"}},LMS:{_BASE_:"lms",AFTER_PROMPT:"lms.afterPrompt",AFTER_GROUP_INVITE_ACCEPT:"lms.afterGroupInviteAccept",PRE_GAME_SCREEN_START_ACTION:"lms.preGameScreenStartAction"},PRE_GAME_SCREEN:"preGameScreen",RECONNECT_REJOIN:"reconnectRejoin",RECENT_ACTIVITY:{_BASE_:"recentActivity",RUNNING:{_BASE_:"recentActivity.running",COMPLETE:"recentActivity.running.complete",REPLAY:"recentActivity.running.replay",PRACTICE:"recentActivity.running.practice",START_CHALLENGE_GAME:"recentActivity.running.startChallengeGame"},COMPLETED:{_BASE_:"recentActivity.completed",COMPLETE:"recentActivity.completed.complete",REPLAY:"recentActivity.completed.replay",PRACTICE:"recentActivity.completed.practice",START_CHALLENGE_GAME:"recentActivity.completed.startChallengeGame"},UNREGD_INCOMPLETE:"recentActivity.unregdIncomplete"},ACTIVITY:{_BASE_:"activity",RUNNING:{_BASE_:"activity.running",COMPLETE:"activity.running.complete",REPLAY:"activity.running.replay",PRACTICE:"activity.running.practice"},COMPLETED:{_BASE_:"activity.completed",COMPLETE:"activity.completed.complete",REPLAY:"activity.completed.replay",PRACTICE:"activity.completed.practice"}},REPLAY:{_BASE_:"replay",SUMMARY:{_BASE_:"replay.summary",BTN:"replay.summary.btn",FLASHCARDS:"replay.summary.flashcards"},AFTER_AUTH_MODAL:"replay.afterAuthModal",REPLAY_LIVE_GAME:"replay.replayLiveGame",REPLAY_LIVE_GAME_ASYNC:"replay.replayLiveGameAsync",REPLAY_CHALLENGE_GAME:"replay.replayChallengeGame"},REJOIN:{_BASE_:"rejoin",PARAM:{_BASE_:"rejoin.param",ROUTE_DATA:"rejoin.param.routeData"},AUTO:{_BASE_:"rejoin.auto",WHILE_LMS_FLOW:"rejoin.auto.whileLmsFlow"},NAVIGATED:{_BASE_:"rejoin.navigated",WHEN_FORBIDDEN:"rejoin.navigated.whenForbidden"},GAME_OVER:"rejoin.gameOver"},WAITING:{_BASE_:"waiting",REFRESH:"waiting.refresh"},EXISTING_INCOMP_PROMPT:{_BASE_:"existingIncompPrompt",ON_CHECK_ROOM:"existingIncompPrompt.onCheckRoom",ON_JOIN:"existingIncompPrompt.onJoin"},RECOMMENDATION:{_BASE_:"recommendation",FROM_SUMMARY:"recommendation.fromSummary",FROM_HOME:"recommendation.fromHome",FROM_TOPIC_PAGE:"recommendation.fromTopicPage"},GROUP_GAME:{_BASE_:"groupGame",NOTIFICATION:"groupGame.notification",CARD:{_BASE_:"groupGame.card",RUNNING:"groupGame.card.running",RECENT_ACTIVITY:"groupGame.card.recentActivity"}},FROM_SHARE:{_BASE_:"fromShare",VIA_ADMIN:"fromShare.viaAdmin",VIA_JOIN:"fromShare.viaJoin"},MY_QUIZZES:{_BASE_:"myQuizzes",FROM_ACTIVITY_PAGE:"myQuizzes.fromActivityPage"},CHALLENGE_WAITING:{_BASE_:"challengeWaiting"},EMBED:"embed"},Fe=new Ud(OE),tc={showAnswers:[{if:1,for:[2,3],then:e=>e?Ut.ShowAnswers.ALWAYS:Ut.ShowAnswers.PARTIAL}],studentQuizReview:[{if:1,for:[2,3],then:e=>e?Ut.StudentQuizReview.YES:Ut.StudentQuizReview.NO}],timer:[{if:1,for:[3],then:e=>e?Ut.Timer.CLASSIC:Ut.Timer.OFF}]};function xo(e={},t=!1){const s=hu(e,!0,t),n={},a={},o=Object.keys(s);for(let i=0;i<o.length;i++){const r=o[i],c=r.split("_"),u=c[0],l=An(c[1])||1;l<=$i&&(!n[u]||l>=a[u])&&(n[u]=s[r],a[u]=l)}return ot(a,(i,r)=>{if(!ko(tc,r))return;const u=Jt(tc[r],{if:i});if(A(u))return;const l=xt(tc[r],g=>Yt(g.for,$i));N.invariant(!A(l),`serverGameOptionsCooker: No corresponding value exist for game option ${r} when version received is ${i} and supported version is ${$i}`);const d=_u(),m=l.then(n[r]);let _;ot(Fs(l.for,Number,"desc"),g=>{const v=d[`${r}_${g}`];if(v!=null)return _=v,!1});const f=typeof m==typeof _;N.invariant(f,`serverGameOptionsCooker: corresponding value(${m}) is not valid for game option ${r} when version received is ${i} and supported version is ${$i}`),n[r]=f?m:_}),n}function kE(e,t){const s={},n={},{appSettings:{showMemes:a,playMusic:o,playSFX:i,readAloud:r,selectedTheme:c},gameMode:u,slidesFlowControlType:l,themesAllowedToUser:d}=e;return us(t.memes)&&t.memes!==a&&(s.showMemes=t.memes?a:!1,t.memes===!1&&(n.showMemes=a)),o&&us(t.studentMusic)&&(u===re.MYSTIC_PEAK?s.playMusic=!0:s.playMusic=t.studentMusic,t.studentMusic===!1&&(n.playMusic=o)),i&&us(t.studentSFX)&&(s.playSFX=t.studentSFX),Yt(d,c)||(u===re.MYSTIC_PEAK?s.selectedTheme=rt.MYSTIC_PEAK:t.isDuelEnabled?s.selectedTheme=rt.SNS:s.selectedTheme=rt.CLASSIC,n.selectedTheme=c),l===Xt.NONE&&(s.readAloud=!1,n.readAloud=r),{changedSettings:s,appSettingsToRevert:n}}function PE({allOrderedResponses:e,totalQuestionsInGame:t},s){const n={},a=md(s,"type");return ot(a,(o,i)=>{n[i]=Hc(wt(o,r=>r.finalURL))}),{createdBy:C(s[0],"createdBy",""),memeSet:n,responses:wt(e,o=>o.isCorrect),questionsCount:t}}function bE(e,t,s){const n=e.data||e||{};let a=null;return n.stats&&n.stats.totalQuestions&&n.stats.totalCorrect&&(a=Math.floor(n.stats.totalCorrect/n.stats.totalQuestions*100)),{quizId:[Et.COMPLETED,Et.STOPPED].includes(t)||[Be.ASYNC,Be.SOLO].includes(s)&&t===Et.RUNNING?n._id:n.quizId||"",quizName:n.name||"",grade:n.grade,subjects:n.subjects,image:n.image,accuracy:a,quizCreator:n.creator,isQuizPublic:us(n.visibility)?n.visibility:!0,quizType:n.type}}function NE(e){return e.filter(s=>![se.COMPREHENSION,se.COMPREHENSION_VIDEO].includes(s.type)).length}function cm(e,t,{data:s,creatorPrivileges:n,contestId:a,embedMode:o}){const{quiz:i}=s,r=A(i.info)?s.draft:i.info,c=C(e,"pageMetaData.source",Fe.get(Fe.List.PRE_GAME_SCREEN)),u=A(t.startSource)?c:t.startSource,l=Jo({type:i.type,traits:r.traits}),d=C(i,"info.questions",[]),m=A(u)?Fe.get(Fe.List.PRE_GAME_SCREEN):u,_=d.map(v=>({type:v.type})),f={quizName:r.name,image:r.image||"",creator:{...i.createdBy,privileges:n||{}},numberOfQuestions:NE(d),quizId:i._id,quizSubjects:r.subjects,quizTraits:r.traits,quizType:l,questionVersions:_,quizVersionId:i.publishedVersion};return{currentGameData:{gameState:Et.COMPLETED},currentQuizData:f,screenOpenSource:m,soloLinkReferrer:t.soloLinkReferrerId||"",contestId:a,embedMode:o}}function DE(e){const t=C(e,"items[0].groupsInfo"),s={isLMSGame:!1,gclToken:"",groupId:"",courseId:"",lmsName:""};return t&&(us(t.hasGCL)&&t.hasGCL&&(s.isLMSGame=!0),s.gclToken=C(t,"gclToken",""),s.courseId=C(t,"gcl[0].gclCourseId",""),s.groupId=C(t,"gcl[0].groupId",""),s.lmsName=C(t,"gcl[0].lmsName","gcl")),s}function LE(e,t={}){let s={},n="",a="",o="";const i=C(e.items[0],"currentQuestionIndex",-1);e.groupAssignedTotal>0?(s=e.groupAssignedItems[0].gamesAttempted[0],n=e.groupAssignedItems[0].quizInfo.quizId):e.items.length>0&&(s=e.items[0].gamesAttempted[0],n=e.items[0].quizInfo.quizId),s.attempts[0]&&s.attempts[0].playerId&&(a=s.attempts[0].playerId),s.gameInfo.gameType===Be.SOLO?o=e.quizzes[n].creator.id:o=s.gameInfo.host.id;const r=e.users[o]||{},c=s.gameInfo.lmsInfo||t||{};let u=!1;us(s.gameInfo.hasLMSAttempts)&&s.gameInfo.hasLMSAttempts?u=!0:us(c.isLMSGame)&&(u=c.isLMSGame);const l=C(s,"gameInfo.numQuestions"),d=C(s,"gameInfo.assignmentTitle");let m=0;Je(l)&&l>0?m=l:Je(e.quizzes[n].numOfQuestions)&&(m=e.quizzes[n].numOfQuestions),A(c)||(c.roomHash=s.gameInfo.roomHash,c.roomCode=s.gameInfo.gameCode);const _=C(e.quizzes[n],"creator.id","");let f={};_&&(f=e.users[_]||{});const g=s.attempts;A(g[0])||(g[0].currentQuestionIndex=i),ot(g,E=>{E.roomHash=s.gameInfo.roomHash});const v={host:r,groupData:{type:s.gameInfo.groupType||Ys.NONE,ids:s.gameInfo.groupIds||[],dueDate:s.gameInfo.dueDate||"",assignmentTitle:d},dueDate:s.gameInfo.dueDate||"",lmsInfo:c,gameType:s.gameInfo.gameType||"",gameMode:s.gameInfo.gameMode,gameState:s.gameInfo.gameState,isLMSGame:u,roomHash:s.gameInfo.roomHash,roomCode:s.gameInfo.gameCode,gameStartedOn:s.gameInfo.gameCreatedAt,playerId:a,gameHostName:r.fullName||r.username||""},R={quizName:e.quizzes[n].name||"",image:e.quizzes[n].image||"",quizTraits:e.quizzes[n].traits||{},numberOfQuestions:m,quizSubjects:e.quizzes[n].subjects||[],quizId:n,creator:f,quizType:Jo(e.quizzes[n])};return{currentAttempts:g,currentGameData:v,currentQuizData:R,screenOpenSource:"direct"}}function zE(e){const t=[{numCorrect:e.numCorrect,numQuestions:e.numQuestions,playerId:e.playerId,numQuesAttempted:e.numQuesAttempted,isOver:us(e.isOver)?e.isOver:!1,gameType:e.gameType,gameMode:e.gameMode||re.NORMAL}],s={gameType:e.gameType,gameMode:e.gameMode||re.NORMAL,playerId:e.playerId,roomCode:e.roomCode,roomHash:e.roomHash},n={quizName:e.quizName,quizId:e.quizId,image:e.quizImage,numberOfQuestions:e.numQuestions,quizSubjects:e.subjects};return{currentAttempts:t,currentGameData:s,currentQuizData:n}}function ME({user:e},t){const s=e.attempts.commonQuizzesData[t.quizInfo.quizId],n=C(t,"gamesAttempted[0].gameInfo.host.id");let a={};n&&(a=e.attempts.commonUsersData[n]);const o=[...C(t,"gamesAttempted[0].attempts",[])],i=C(t,"gamesAttempted[0].gameInfo",{}),r=i.lmsInfo||{},c=i.assignmentTitle,u=C(s,"creator.id","");let l="",d={},m=!1;us(i.hasLMSAttempts)&&i.hasLMSAttempts?m=!0:us(r.isLMSGame)&&(m=r.isLMSGame),A(r)||(r.roomHash=i.roomHash,r.roomCode=i.gameCode),o[0]&&(o[0].playerId&&(l=o[0].playerId),o[0]={...o[0],currentQuestionIndex:C(t,"currentQuestionIndex",-1)}),u&&(d=e.attempts.commonUsersData[u]||{});const _={host:a,groupData:{type:i.groupType||Ys.NONE,ids:i.groupIds||[],dueDate:i.dueDate||"",assignmentTitle:c},lmsInfo:r,gameType:i.gameType||"",gameMode:i.gameMode,gameState:i.gameState,isLMSGame:m,roomHash:i.roomHash,roomCode:i.gameCode,gameStartedOn:i.gameCreatedAt,playerId:l,gameHostName:a&&(a.fullName||a.username)||""},f={quizName:s.name||"",image:s.image||"",quizTraits:s.traits||{},numberOfQuestions:o[0].numQuestions,quizSubjects:s.subjects||[],quizId:t.quizInfo.quizId,creator:d,quizType:Jo(s)};return{currentAttempts:o,currentQuizData:f,currentGameData:_}}function GE(e,{quizId:t,quizData:s,contestId:n,embedMode:a=!1}){const{routing:o,user:i}=e,r=xt(i.attempts.completedGames,f=>f.quizInfo&&f.quizInfo.quizId===t),c=C(o,"pageMetaData.source",Fe.get(Fe.List.PRE_GAME_SCREEN));let u=0;Je(s.numOfQuestions)&&s.numOfQuestions!==0?u=s.numOfQuestions:u=C(r,"gamesAttempted[0].attempts[0].numQuestions",0);const l=C(s,"creator.id","");let d={};l&&(d=i.attempts.commonUsersData[l]||{});const m={quizName:s.name||"",image:s.image||"",quizTraits:s.traits||{},numberOfQuestions:u,quizSubjects:s.subjects||[],quizId:t,creator:d,quizType:Jo(s)},_={gameState:Et.COMPLETED};return{screenOpenSource:c,currentQuizData:m,currentGameData:_,contestId:n,embedMode:a}}function um(e){return typeof e=="string"&&e.length>=tf}function qE(e){const t=C(window,"lmsError")||{},s=C(window,"lmsHash")||"";let n=!1,a=null;return A(t)&&!A(s)&&(n=!0,a={roomCode:C(window,"gameCodeParam"),roomHash:C(window,"lmsHash"),lmsName:C(window,"lmsName"),courseId:C(window,"lmsCourseId")}),{isInValidFlow:n,encodedParam:e,decodedLMSInfo:a,error:t}}function _u(e=[]){const t={jumble:!0,jumbleAnswers:!0,showAnswers:!0,showAnswers_2:Ut.ShowAnswers.ALWAYS,studentQuizReview:!0,studentQuizReview_2:Ut.StudentQuizReview.YES,studentLeaderboard:!0,memes:!0,timer:!0,memeset:Ai,studentMusic:!0,loginRequired:!1,limitAttempts:0,redemption:Ut.Redemption.NO,nicknameGenerator:!1,mirror:!1,powerups:Ut.Powerups.NO,questionsPerAttempt:0,timer_3:Ut.Timer.CLASSIC};return A(e)?t:Ea(t,e)}function hu(e={},t=!1,s=!1){const n=e?Object.keys(e):[],a=_u(s?n:[]);t&&ot(a,(i,r)=>{(An(r.split("_")[1])||1)>1&&delete a[r]});const o=a;return ot(e,(i,r)=>{if(o[r]){const c=typeof i==typeof o[r];N.invariant(c,[`getDefaultedGameOptions: given value "${i}" for option "${r}" does not correspond to allowed values`,e]),o[r]=typeof i==typeof o[r]?i:o[r]}else o[r]=i}),o}function UE(e={}){const t=_u(),s=Object.keys(t),n=Jt(s,a=>a.split("_").length>1).map(a=>{const o=a.split("_");return{name:o[0],version:An(o[1])||1}});return Kn(e,(a,o,i)=>{const r=Jt(n,{name:i});if(r.length>0){const c=Ip(r,"version").version;a[`${i}_${c}`]=o}else a[i]=o;return a},{})}function xE(e,t){const{id:s,hostId:n,code:a,hostSessionId:o}=t,i=C(e,"user.profile.mongoId",""),r=C(e,"applicationContext.deviceInfo.quizizzUID",""),c=n&&n===i||o&&o===r;let u={},l=!1;n?u=xt(t.players,{mongoId:n}):o&&(u=xt(t.players,{uid:o})),A(u)||(l=!0);const d=C(u,"id","")||C(e,"game.player.playerId","");return{roomCode:a,roomHash:s,hostId:n,isUserTheGameHost:c,hasUserJoinedTheGame:l,userPlayerId:d}}function QE(e,t){return t&&(t.redemptionQuestion&&(e.redemption=Ut.Redemption.YES),e.studentLeaderboard&&t.doNotShowLeaderboard&&(e.studentLeaderboard=!1),e.limitAttempts&&t.participantAttempts!==0?e.limitAttempts=Math.max(e.limitAttempts,t.participantAttempts):t.participantAttempts===0&&(e.limitAttempts=0)),e}const Fi=Pt("team",()=>{const e=p(""),t=p(""),s=p(0),n=p(-1),a=p(-1),o=p(0);function i(v){e.value=C(v,"player.teamId",e.value),t.value=C(v,"player.currentTeamName",t.value),s.value=C(v,"player.currentTeamTotalPlayers",s.value)}function r(v){e.value=C(v,"player.teamId",e.value),t.value=C(v,"player.currentTeamName",t.value),a.value=C(v,"player.currentTeamRank",a.value),s.value=C(v,"player.currentTeamTotalPlayers",s.value),o.value=C(v,"player.currentTeamScore",o.value)}function c(v){e.value=C(v,"teamId",e.value),t.value=C(v,"currentTeamName",t.value),s.value=C(v,"currentTeamTotalPlayers",s.value)}function u(v){n.value=a.value,a.value=C(v,"currentTeamRank",a.value),o.value=C(v,"currentTeamScore",o.value)}function l(v){a.value=C(v,"currentTeamRank",a.value),n.value=C(v,"previousTeamRank",n.value),o.value=C(v,"currentTeamScore",o.value)}function d(v){e.value=C(v,"teamId",e.value),s.value=C(v,"currentTeamTotalPlayers",s.value)}function m(v){n.value=C(v,"previousTeamRank",n.value),a.value=C(v,"currentTeamRank",a.value),o.value=C(v,"currentTeamScore",o.value)}function _(v){n.value=C(v,"previousTeamRank",n.value),a.value=C(v,"currentTeamRank",a.value),o.value=C(v,"currentTeamScore",o.value)}function f(v){v.isNewPlayerFromCurrentTeam&&(s.value+=1)}function g(v){v.isOldPlayerFromCurrentTeam&&(s.value-=1)}return{teamId:e,name:t,totalPlayers:s,previousRank:n,rank:a,score:o,joinRoomResponded:i,rejoinGameResponded:r,teamPlayerShuffled:c,setCurrentTeamRank:u,proceedGameResponded:l,gameStarted:d,gameCompleted:m,gameStopped:_,newPlayerJoined:f,playerDeleted:g}});function FE(e){if(e&&e.length){for(let t=0;t<e.length;t++)if(e[t].requireParentEmail)return!0}return!1}function Eu(e,t,s,n){let a=null;return n===Za.FROM_LINK?a="link":A(t)||(a=t==="checkRoom"?"gcode":"gcl"),{groupIds:e.map(o=>o.id),isParentRequired:FE(e),isFirstNamePrefilled:!!s.firstName,isLastNamePrefilled:!!s.lastName,isParentPrefilled:!!s.parentEmail,source:a}}function BE(e,t={},s,n=""){var i;const a=((i=t==null?void 0:t.groups)==null?void 0:i.map(r=>({...Ea(r,["color","name","requireParentEmail","isGoogle"]),id:r._id})))||[];return{isValidResponse:a.length>0&&a[0].id,response:{teacher:t.teacher||{},groups:a},eventData:Eu(a,n,e,s)}}function HE(e,t,s,n,a){const o=rs(),i=Xo(),r=lu(e.user),c=r.groupIds||o.groupIds,u={};let l=!1;n==="checkRoom"&&a.roomCode&&(l=!0,u.roomCode=a.roomCode),n==="checkAssignment"&&a.lmsInfo&&a.lmsInfo.lmsName&&(l=!0,u.lmsInfo=a.lmsInfo);const d=Eu(i.inviteGroupInfo.groups,n,o,s);return{mutationPayload:{user:r,updatedGroupIds:c},returnData:{didJoin:!0,persistInvite:!1,shouldContinueWithFlow:l,flowActionArgs:u},eventData:{...d,isParentFilled:!!(t.parent&&t.parent.email),didError:!1}}}function jE(e,t,s){const n=rs(),a=Xo();return{eventData:{...Eu(a.inviteGroupInfo.groups,s,n,t),isParentFilled:!!(e.parent&&e.parent.email),didError:!0}}}const Xo=Pt("groups",()=>{const e=ps(),t=Zn(),s=rs(),n=p({});async function a({token:r,inviteType:c,sourceRequest:u=""}){try{const{response:l}=await IE(r),d=BE(s,l.data,c,u);if(!d.isValidResponse){const m=()=>{t.resetGame(),e.toggleDialog()};return e.toggleDialog({name:"groupInvite.linkInvalid|confirm",actionCallback:m}),{data:null,invalidInvite:!0}}return n.value=d.response,{data:d.response,invalidInvite:!1,eventData:d.eventData}}catch(l){N.error("Error at action fetchGroupInfo",l);const d=un(l),m=l.response&&l.response.data&&l.response.data.groups&&l.response.data.groups[0].name||"";switch(d){case"token.INVALID_TOKEN":e.toggleDialog({name:"groupInvite.linkInvalid|confirm"});break;case"token.EXPIRED":e.toggleDialog({name:"groupInvite.linkExpired|confirm"});break;case"group.MEMBER_ALREADY_PRESENT":e.toggleDialog({name:"groupInvite.alreadyInGroup|confirm",options:{message:`You are already a member of the class: ${m}`}});break}return{data:null,invalidInvite:!0}}}async function o({token:r,type:c,modalOptions:u={}}){e.toggleModal({type:on.GROUP_JOIN,options:{inviteToken:r,type:c,...u}});try{const l=u.sourceRequest||"",d=await a({token:r,inviteType:c,sourceRequest:l});if(d.invalidInvite){e.toggleModal(),c===Za.FROM_LINK&&(window.history.replaceState(window.history.state,document.title,La(window.location.href,"class")),window.history.replaceState(window.history.state,document.title,La(window.location.href,"t")),window.history.replaceState(window.history.state,document.title,La(window.location.href,"showGroupJoin")));return}$e.logEvent(as.CLASS_INVITE_SHOWN,d.eventData)}catch(l){N.error("Error at action handleGroupInvite",l)}}async function i({data:r,inviteType:c="",sourceRequest:u="",sourceRequestMeta:l={}}){try{const{response:d}=await SE(r),m=HE(d.data,r,c,u,l),_=C(d,"data.assignmentData.totalAssignedGames",0),f=C(d,"data.assignmentData.teacher.title",""),g=C(d,"data.assignmentData.teacher.firstName",""),v=C(d,"data.assignmentData.teacher.lastName","");let R="";return c!==Za.FROM_GAME_CODE&&(_>0?R=X("{$1} {$2} {$3} has assigned you {$4} game(s). Refresh the page to see them now.",[f,g,v,_]):R=X("{$1} {$2} {$3} hasn't assigned any games yet, but you can always check for updates on your homepage.",[f,g,v])),n.value=m.mutationPayload,s.groupInfoResponded(m.mutationPayload),{...m.returnData,message:R,eventData:m.eventData,didJoin:!0}}catch(d){N.error("Error at action joinGroup",d);const m=un(d);let _="",f=!0;const g=jE(r,c,u),v=s.email||"",R=s.isUnderAge||!1,E=m.includes("SCHOOLOGY")?"Schoology":"Canvas";let h="Google Classroom";switch(m){case"group.MEMBER_ALREADY_PRESENT":_=X("Great! You are already a part of this class"),f=!1;break;case"group.MEMBER_DELETED":_=X("You were removed from this class."),f=!1;break;case"user.CANVAS_NOT_LINKED":case"user.SCHOOLOGY_NOT_LINKED":_=X("You need to link your {$1} account to join this game.",[E]),f=!1;break;case"user.GCL_NOT_LINKED":_=X("You need to link your {$1} account to join this game.",["Google Classroom"]),f=!1;break;case"user.NOT_PART_OF_GCL_COURSE":case"user.NOT_PART_OF_CANVAS_COURSE":case"user.NOT_PART_OF_SCHOOLOGY_COURSE":m.includes("CANVAS")?h="Canvas":m.includes("SCHOOLOGY")&&(h="Schoology"),R?_=X("You cannot join this class because you are not a part of it on {$1}.",[h]):_=X("Your account ({$1}) cannot join this class because you are not a member of it on {$2}. Please check with your teacher.",[v,h]),f=!1;break;default:_=X("There was an error in joining the class. Please try again!")}return{didJoin:!1,message:_,persistInvite:f,eventData:g.eventData,shouldContinueWithFlow:!1}}}return{inviteGroupInfo:n,handleGroupInvite:o,fetchGroupInfo:a,joinGroup:i}}),Jn=Pt("overlay",()=>{const e=p(""),t=p({});function s(a={type:"",options:{}}){e.value=a.type,a.options&&(t.value=a.options)}function n(){const a=e.value.split("|");a[0]!=="lmsLinkDecode"&&a[0]!=="responseUnsynced"&&(e.value="",t.value={})}return{type:e,options:t,toggleOverlay:s,socketConnected:n}}),Fn={BEFORE_ENTER:"beforeEnter"},Io={NONE:"none",PROGRAMMATIC:"programmatic"},lm="quizizz.com",vu=33,sc=65535,nc=0,VE={resultModifier:(e,t,s)=>e,keySumExtractor:(e,t)=>e.charCodeAt(0),offsetAdder:(e,t,s,n)=>n(e,t),miscDataForLogging:""},$E={stringModifier:(e,t,s)=>e,keySumExtractor:(e,t)=>e.charCodeAt(0),offsetAdder:(e,t,s,n)=>n(e,t),miscDataForLogging:"",obfsVersionExtractor:fm};let dm=2;function mm(e,t,s,n=dm){return hm(e,t||lm,{resultModifier:WE,keySumExtractor:gm,offsetAdder:pm,miscDataForLogging:s,obfsVersion:n})}function Nc(e,t){return Em(e,YE,{stringModifier:KE,keySumExtractor:gm,offsetAdder:pm,miscDataForLogging:t,obfsVersionExtractor:fm})}function pm(e,t,s,n,a){switch(a){case 2:return JE(e)?Cl(e,t,s,n):e;case 1:default:return Cl(e,t,s,n)}}function Cl(e,t,s,n){return s%2===0?n(e,t):n(e,-t)}function WE(e,t,s,n){const a=_m(!0,n),o=hm(t,a),i=String.fromCharCode(vu+o.length);return`${o}${e}${i}${n}`}function YE(e="",t,s){const n=Number.parseInt(e[e.length-1],10),a=e.charCodeAt(e.length-2)-vu,o=e.slice(0,a),i=_m(!1,n);return Em(o,i)}function KE(e="",t,s,n){const a=e.charCodeAt(e.length-2)-vu;return e.slice(a,-2)}function gm(e,t){return e.charCodeAt(0)+e.charCodeAt(e.length-1)}function fm(e){if(typeof e=="string"&&e[e.length-1]){const t=Number.parseInt(e[e.length-1],10);if(!ur(t))return t}return null}function _m(e,t){switch(t){case 3:return"testing";case 2:default:return lm}}function hm(e,t,s={}){s=Ln(s,VE);const n=Je(s.obfsVersion)?s.obfsVersion:dm,a=Ms(t)?t(e,s,n):t;let o="";const i=s.keySumExtractor(a,e,n);for(let c=0;c<e.length;c++){const u=e.charCodeAt(c),l=s.offsetAdder(u,i,c,vm,n);o+=String.fromCharCode(l)}let r=s.resultModifier(o,a,i,n);return(typeof r!="string"||A(r))&&(N.logForSession([`Error- option 'resultModifier' needs to return a valid string at ${JSON.stringify(s.miscDataForLogging)}. Got Value`,r],"error"),r=o),r}function Em(e,t,s={}){s=Ln(s,$E);const n=s.obfsVersionExtractor(e);let a="";const o=Ms(t)?t(e,s,n):t,i=-s.keySumExtractor(o,e,n);let r=s.stringModifier(e,o,i,n);typeof r!="string"&&(N.logForSession([`Error- option 'stringModifier' needs to return a valid string at ${JSON.stringify(s.miscDataForLogging)}. Got Value`,r],"error"),r=e);for(let c=0;c<r.length;c++){const u=r.charCodeAt(c),l=s.offsetAdder(u,i,c,vm,n);a+=String.fromCharCode(l)}return a}function vm(e,t){const s=e+t;return s>sc?nc+(s-sc)-1:s<nc?sc-(nc-s)+1:s}function JE(e){return Je(e)?!(e>=55296&&e<=56319||e>=56320&&e<=57343):!1}const Am=Pt("liveReactions",()=>{const e=p(!1),t=p(!1);function s(r){e.value=r.reactionStopped}function n(){t.value=!0}function a(r){const c=r.liveReactions||{};A(c)||(e.value=c.hasTeacherDisabledInGame,t.value=c.isNewReactionsAnimationDisabled)}function o(){return{hasTeacherDisabledInGame:e.value,isNewReactionsAnimationDisabled:t.value}}function i(){e.value=!1,t.value=!1}return{hasTeacherDisabledInGame:e,getState:o,isNewReactionsAnimationDisabled:t,toggleLiveReactions:s,updateNewReactionsVisibilityStatus:n,loadPreviousContext:a,$reset:i}}),Au=Pt("raiseHands",()=>{const e=p(!1),t=p(!1),s=p(!1),n=p(!1),a=p(null),o=Dt();function i(){e.value=!0}function r(){t.value=!0}function c(){e.value=!1}function u(v){(v.dropAllHands||v.playerId===o.playerId)&&(e.value=!0)}function l(v){s.value=v.isRaiseHandStopped}function d(v){v.raisedHandsList&&v.raisedHandsList.filter(E=>E.pId===o.playerId).length>0&&(t.value=!0),v.metadata.isRaiseHandStopped&&(s.value=v)}function m(v){n.value=v.raiseHandStatusForSlide,a.value=v.roomHashForDisabledSlide}function _(v){v.raiseHand&&v.raiseHand.isRaiseHandDisabledForSlide&&(n.value=v.raiseHand.isRaiseHandDisabledForSlide,a.value=v.raiseHand.roomHashForDisabledSlide)}function f(){e.value=!1,t.value=!1,s.value=!1,n.value=!1,a.value=null}function g(){return{isHandDropped:e.value,isHandAlreadyRaisedForPlayer:t.value,hasHostDisabledRaiseHands:s.value,isRaiseHandDisabledForSlide:n.value,roomHashForDisabledSlide:a.value}}return{isHandDropped:e,isHandAlreadyRaisedForPlayer:t,isRaiseHandDisabledForSlide:n,hasHostDisabledRaiseHands:s,roomHashForDisabledSlide:a,dropStudentHand:u,toggleRaiseHands:l,raisedHandForPlayer:d,updateRaiseHandStatusForSlide:m,loadPreviousContext:_,$reset:f,getState:g,dropPlayerHand:i,persistRaiseHand:r,resetDroppedState:c}}),wl=Ua.requestServerUrl;var so=(e=>(e.CODE="code",e.TRACK_SESSION_ID="trackSessionId",e))(so||{});class Tm{static async checkCourse({courseIdentifier:t,type:s,playerId:n}){let a="trackSessionId";return s==="code"&&(a="code"),ke.post(`${wl}learning-track-session/join`,{payload:{[a]:t,playerId:n},requestName:xe.checkCourse})}static async getUserCourses(){return ke.get(`${wl}learning-track-session/join/userSessions`,{requestName:xe.getUserCourses})}}const ym=["roomHash","quizId","quizName"];function XE(e){const t={...e};return ot(ym,s=>{A(e[s])||(t[s]=`${s}-${mm(e[s],s+qi(1,9999),"local",3)}`)}),t}function ZE(e){const t={...e};return ot(ym,s=>{if(!A(e[s])&&typeof e[s]=="string"&&e[s].includes(`${s}-`)){const a=e[s].split(`${s}-`)[1];t[s]=Nc(a,"getSpashtGameFromStorage")}}),t}function ev(e={},t){let a=!0;const o=!0,i=!0;return Fo(t)&&(a=!(t.forPlayer||!t.subjects)),{currentPlayer:(e==null?void 0:e.currentPlayer)||null,userProfile:(e==null?void 0:e.userProfile)||null,game:a&&t||null,applicationContext:o&&(e==null?void 0:e.applicationContext)||null,appSettings:i&&(e==null?void 0:e.appSettings)||null,liveReactions:(e==null?void 0:e.liveReactions)||null,raiseHand:(e==null?void 0:e.raiseHand)||null,readAloudV2:(e==null?void 0:e.readAloudV2)||null}}function tv(e,t){var i;const s=new uu((i=window.location)==null?void 0:i.href),{referrer:n}=document,a=s.query,o={source:"direct",screen:t,referrer:n||"Direct Join"};return a.c?o.source="lms":a.fromApp&&a.fromApp==="true"?o.source="app-webview":a.gc?o.source="code":a.from&&a.from==="gameRejoin"?o.source="rejoin":a.lt&&(o.source="course"),A(a.ld)||(o.loadData=a.ld),e.areNetworkEventsAllowedInSession&&(o.networkEventsAllowed=!0),o.loadType=$_(),{eventParams:o}}function sv(){const e=Au().$state,t=Am().$state,s=rs().$state,n=ln().$state,a=Dt().$state;let o=null;if(!A(a.lastGamePlayed)){const i=ys(a.lastGamePlayed);o=XE(i)}return{currentPlayer:{playerId:a.playerId,monsterId:a.monsterId},userProfile:{mongoId:s.mongoId,isLoggedIn:s.isLoggedIn},game:o,appSettings:n,liveReactions:t,raiseHand:{isRaiseHandDisabledForSlide:e.isRaiseHandDisabledForSlide,roomHashForDisabledSlide:e.roomHashForDisabledSlide}}}function nv(e,t){var E,h,k,L;const{appSettings:s}=e,n=xt(ma,{lang:"English"}).locale;let a=!1,o="",i=!1,r={},c=null;t&&t.game&&(c=ZE(t.game));const u=ev(t,c),l=u.userProfile&&u.userProfile.mongoId||"";let d={};A(u.userProfile)||(d={isLoggedIn:u.userProfile.isLoggedIn===!0});const m={currentPlayer:u.currentPlayer,game:u.game,applicationContext:u.applicationContext,appSettings:u.appSettings,prevSessionMongoId:l,userProfile:d,liveReactions:u.liveReactions,raiseHand:u.raiseHand,readAloudV2:u.readAloudV2},_=rs(),f=((E=m.appSettings)==null?void 0:E.selectedLanguage)||"",g=((h=m.appSettings)==null?void 0:h.selectedTheme)||"",v=((k=m.appSettings)==null?void 0:k.isThemeAsLucky)||!1,R=((L=m.appSettings)==null?void 0:L.currentThemeWhichWasSetOnce)||"";return Dr(f)&&f!==s.selectedLanguage&&f!==n&&(o=f,a=!0),!R||R!==Wn.NEXT_THEME_TO_BE_SET_ONCE?(i=!0,r={selectedTheme:Wn.NEXT_THEME_TO_BE_SET_ONCE,currentThemeWhichWasSetOnce:Wn.NEXT_THEME_TO_BE_SET_ONCE}):(Ii(g)||v)&&(i=!0,r={selectedTheme:_.themesAllowedToUser.includes(g)?g:rt.CLASSIC,isThemeAsLucky:v}),{prevContext:m,shouldSetAppLanguage:a,selectedLanguage:o,shouldSetAppTheme:i,setThemeMutationPayload:r}}function av(e){const t=e.query||{},s=!A(t.gc),n=!A(t.lt),a=!A(t.c),o=!A(t.fromApp)&&t.fromApp==="true",i=!A(t.needAuth)&&t.needAuth==="true",r={};let c={},u="",l={};if(s){const d=A(t.startSource)?"":`|${t.startSource}`,m=!A(t.isFLMS);let _="";m?_=Fe.get(Fe.List.GAME_CODE.PSEUDO_LMS)+d:_=Fe.get(Fe.List.GAME_CODE.PARAM)+d;const f=Sp(Id);c={roomCode:t.gc.slice(0,f),startSource:_}}if(a&&(u=t.c),n){const d=A(t.startSource)?"":`|${t.startSource}`,m=!A(t.isFLMS);let _="";m?_=Fe.get(Fe.List.GAME_CODE.PSEUDO_LMS)+d:_=Fe.get(Fe.List.GAME_CODE.PARAM)+d,l={courseCode:t.lt,startSource:_,type:so.CODE}}return A(t.redirOnGameExit)||(r.redirectOnGameExit=decodeURIComponent(t.redirOnGameExit)),{shouldStartGCParamFlow:s,gcParamPipelineActionPayload:c,shouldStartGoogleClassroomFlow:a,shouldStartCoursesFlow:n,gclParamPiplineActionPayload:u,coursesPiplineActionPayload:l,initialGameMetadata:r,shouldStartAppAuthFlow:o&&i}}async function Mr(e){!e.socketConnected&&e.hasSocketConnectedOnce&&!e.socketDisconnectedManually&&await e.disconnectSocket(),e.socketConnected||await e.connectSocket()}const ov=["Ela Coyne","Riva Baumgartner","melita","Katy","Violette Rendon","Prashant Iyyer","Charis Rosenthal","Mitsue Escobar","Tanesha Whitney","Cristine Tapia","shanita77","Libby Dunaway","Shery Asbury","Rasheeda Orta","Arlinda Fine","Abby Shake!","Lucinda Petit","Deloise Lau","My job in","Yang Hoy","Jong","Darth Sarth","Isabelle Keeler","tianna daley","Doretta Crawley","Miguelina Faber","Leeann Winter","Margery","Priscila Langdon","Alexandria Wenger","Ernestina Short","Annmarie Duong","Thora Carrington","R@yf0rd #ubert","Anika Clarkson","In3s C00k3","Leana Mcclain","Minh Bundy","Andera","Alysa Macias","Cheree Weathers","Sood da Dood","Lindsay Cutler","Nestor Worth","Indira Moll","Tristan Gregg","alex123","Jon Guyton","Britta Ison","Your not their","3D Waffle","Any rude","Papa Smurf","VeeJaaYaa","Pepper Legs","101","Pracker","Pinball Wizard","Accidental Genius","Hyper","Pluto","Alpha","Jester","Sew-raj","Airport Hobo","Jigsaw","Prometheus","Bearded Angler","Joker's Grin","DeeChee","Beetle King","Judge","Pusher","Bitmap","Junkyard Dog","Riff Raff","Blister","K-9","Roadblock","Bowie","Sham eel","Rooster","A new raag","Kickstart","Sandbox","Breadmaker","Scrapper","Nimbus 2000","Kingfisher","Bugger","Knuckles","Shadow Chaser","Sherwood Gladiator","Liquid Science","Little Cobra","Little General","Sky Bully","Lord Pistachio","Sour Tuck","Snake Eyes","Chocolate Thunder","Snow Hound","Chuckles","Sofa King","Cool Whip","Marbles","Spider Fuji","Couch Potato","Crash Override","Marshmallow","Squatch","Crash Test","Harvester of Sorrow","Crazy Eights","Mercury Reborn","Criss Cross","Midas Touch","Cross Thread","Midnight Rambler","2shower","Ciao Ciao","Midnight Rider","Swerve","Mindless Bobcat","Tacklebox","Mr. 44","Take Away","Dark Horse","Ms. Fabulous","Tan Stallion","Day Hawk","Mr. Gadget","The China Wall","Desert Haze","The Dude","Action Dre","Mr. Peppermint","The Flying Mouse","Disco Thunder","Disco Potato","Mud Pie Man","Dropkick","Nacho","Natural Mess","Troubadour","Necromancer","Turnip King","Twitch","Nessie","Vagabond Warrior","Flint","Nickname Master","Vortex","Dark Matter","2nd Hand Joe","Flotsams54","Core 2 Dua","Mechani-Man","Kazami of Truth","Gbbledgoodk","High Beam","Eye Devil","Tea Kettle","MrOnsTr","Wrangler Jim","a(n) kid","Ameeno Acid","Flyswat Briggs","All eye do is Win","Scooby Did","Unseen","Crossing Guard","Bad Bond","Easy Mac","Sky","Toxic-oxide","Corner pears on","GiddeeUP","sagar curry raa","DragonBlood","Tse Tse Fly","Shay8910","IceDog","Sloth","minecrafter121","Skool","Multicorn","Noise Toy","Flash","Achilles Mountain","Whip Chu","Elektrik","Shoo Bam","LocKz","Coldy","spookoku","SneakerKid"];function iv(e,t,s,n){Math.seedrandom(s);for(let a=0;a<t;a++)for(let o=0;o<e.length;o++){const i=e[o];let r=1,c=1;const l=i.accuracy>Math.random()*100;n?r=Math.random():c=Math.random();const d=l?ra.BASE*c+ra.TIMER*r:0;i.score+=Math.round(d/10)*10}return e}function rv(e,t,s,n){const a=Math.PI,o=Math.E,i=34;var r=1;let c=0,u=0;for(var l=0;l<10;l++){var r=l/10,d=Math.pow(2*a*t*t,-.5)*Math.pow(o,-1*Math.pow(r-e,2)/(2*t*t));c+=d}const m=s/c,_=[];for(var l=9;l>=0;l--){var r=l/10,d=Math.pow(2*a*t*t,-.5)*Math.pow(o,-1*Math.pow(r-e,2)/(2*t*t));let R=Math.round(d*m);R==0&&u>0&&u<s&&(R=s-u);for(let E=0;E<R;E++){if(u++,u>s){u--;break}let h=`Player ${u}`;u<n.length&&(h=n[_.length]);const k={playerId:h,score:0,monsterId:u%i,origin:"bot",rank:u,accuracy:5+100*r};_.push(k)}}return _}function Tu(e,t,s,n,a,o,i,r,c){const u=e==null||e.length!=24?"5b7d0aa503fa930019364cc8":e;Rp(e,{global:!0});const l=a=="waiting"?"waiting":"leaderboard",d=o&&No(o.timer)?o.timer!==Ut.Timer.OFF:!0,m=i?isNaN(i)||i<0?20:parseInt(i):20,_=r?isNaN(r)||r<=0||r>=1?.7:r:.7,g=15+Math.round(Math.random()*10),v=t==null||t.length<1?Kc:t,R=s==null||s<0?0:s,E=n;(u!=e||a!=l||v!=t||E!=n)&&console.error("Invalid inputs provided to leadGen, falling back to default values."),l=="leaderboard"&&m!=i&&console.error("Invalid inputs provided to leadGen for leaderboard mode, falling back to default values.");const h=Cp.shuffle(ov,u),k=_>.5?(1-_)/3:_/3;let L=rv(_,k,g,h);l=="leaderboard"&&(L=iv(L,m,u,d)),L.push({playerId:v,score:R,monsterId:E,origin:"web",rank:1,accuracy:5+Math.random()*90}),L=Fs(L,["score"],["desc"]);for(let q=0;q<L.length;q++)L[q].rank=q+1;return L}const cv={"double-jeopardy":{name:"double-jeopardy",status:"enabled",title:"Double Jeopardy",styles:{backgroundGradientColor:"rgba(54, 133, 41, 0.5)",backgroundColor:"#245B00",accentColor:"#66FF74"},validateToAward:function(t){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/double-jeopardy.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/double-jeopardy.svg"},description:"Get double the score, but a wrong answer will cost you.",notification:{onActivate:"Aim for double or pay the price."},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"double-jeopardy"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!!t.scopes.includes(this.activationScope)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t){if(t.response.getCorrectness()){const n=t.score.getTotal();t.score.pushScore(n)}else t.score.pushScore(-1*t.score.getDefaultBase())},onDestroy:function(t){},help:{tips:[]},nudge:{type:"postAnswer",priority:0,text:"Hey, use 'Double Jeopardy' powerup to earn more score for this answer."}},"2x":{name:"2x",status:"enabled",title:"x2",styles:{backgroundGradientColor:"rgba(70, 41, 133, 0.5)",backgroundColor:"#33205C",accentColor:"#9566FF"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/2x.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/2x.svg"},description:"Bag twice the score for one question.",notification:{onActivate:"Double your score!"},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"2x"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!!t.scopes.includes(this.activationScope)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t){const s=t.score.getTotal();t.score.pushScore(s)},onDestroy:function(t){},help:{tips:["Offensive power-ups like ‘2X points’ give you extra bonus score for the right answer."]},nudge:{type:"postAnswer",priority:1,text:"Hey, use 'x2' powerup to double the score for this answer."}},"50-50":{name:"50-50",status:"enabled",title:"50/50",styles:{backgroundGradientColor:"rgba(251, 152, 140, 0.5)",backgroundColor:"#023674",accentColor:"#6683FF"},validateToAward:function(t){return!(!(this.status==="enabled")||t.areAllRemainingQuestionsMSQ||t.areAllGameQuestionsWithoutCorrectAnswer||t.doesRemainingQuestionsOptionsCountEqualsTwo||t.areAllRemainingQuestionsFIB)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/50-50.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/50-50.svg"},description:"Make half the incorrect options disappear.",notification:{onActivate:"Let's cut out the clutter."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"question",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!(!t.isQuestionTypeMCQ||!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope)||t.options.length<=2)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t,s){const n=t.question.getOptions();let a=[];s.visibleOptionIndices?a=s.visibleOptionIndices:a=n.map((o,i)=>i);for(let o=0;o<n.length;o++)a.includes(o)||t.options.hideOption(o)},onDestroy:function(t){},help:{tips:["Defensive power-ups like ‘50/50’ help you tackle questions you are not sure about."]},nudge:{type:"whileAnswering",priority:2,text:"Got stuck? Use 50-50 to cut down on options."}},eraser:{name:"eraser",status:"enabled",title:"Eraser",styles:{backgroundGradientColor:"rgba(211, 48, 61, 0.5)",backgroundColor:"#98297E",accentColor:"#E566FF"},validateToAward:function(t){return!(!(this.status==="enabled")||t.areAllRemainingQuestionsMSQ||t.areAllGameQuestionsWithoutCorrectAnswer||t.doesRemainingQuestionsOptionsCountEqualsTwo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/eraser.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/eraser.svg"},description:"Eliminate one incorrect option.",notification:{onActivate:"We've erased an option."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"question",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!(!t.isQuestionTypeMCQ||!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope)||t.options.length<=2)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t,s){const n=t.question.getOptions();let a=[];s.visibleOptionIndices?a=s.visibleOptionIndices:a=n.map((o,i)=>i);for(let o=0;o<n.length;o++)a.includes(o)||t.options.hideOption(o)},onDestroy:function(){},help:{tips:[]},nudge:{type:"whileAnswering",priority:3,text:"Got stuck? Use Eraser to cut down on options."}},immunity:{name:"immunity",status:"enabled",title:"Immunity",styles:{backgroundGradientColor:"rgba(14, 87, 45, 0.5)",backgroundColor:"#0E572D",accentColor:"#66FFAB"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/immunity.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/immunity.svg"},description:"Get a second chance after an incorrect answer.",notification:{onActivate:"You're immune to an incorrect answer."},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"immunity"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"before-answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!(!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope))},validateToApply:function(t,s,n){return!n.response.getCorrectness()},onApply:function(t){if(t.response.getCorrectness()===!0)return;const s=t.question.getType(),n=t.response.getActualSelectedIndices();switch(s){case"DROPDOWN":case"DRAGNDROP":case"REORDER":case"MATCH":case"GRAPHING":case"DND_IMAGE":case"HOTSPOT":t.options.resetOptions();break;case"CLASSIFICATION":t.options.resetOptions();break;case"BLANK":t.options.clearTypedAnswer();break;case"EQUATION":t.options.clearTypedAnswer();break;case"MCQ":t.options.hideOption(n[0]);break;case"MSQ":default:t.options.setOptionsAsPreviouslySelected(n)}t.response.setMoveAhead(!1)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:0,text:"Got stuck? Use Immunity to get an extra-life"}},"time-freeze":{name:"time-freeze",status:"enabled",title:"Time Freeze",styles:{backgroundGradientColor:"rgba(31, 143, 143, 0.5)",backgroundColor:"#1F8F8F",accentColor:"#66E9FF"},validateToAward:function(t){return!(!(this.status==="enabled")||!t.isTimerOn)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/time-freeze.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/time-freeze.svg"},description:"Freeze the timer and get full score.",notification:{onActivate:"Take your time and get it right."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return t.doesQuestionHaveCorrectAnswer?!!t.scopes.includes(this.activationScope):!1},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onActivate:function(t){t.resetAndFreezeTimerBar()},onApply:function(t){if(t.response.getCorrectness()){const s=t.score.getDefaultTimer(),n=t.score.getTimer();t.score.pushScore(s-n)}},onDestroy:function(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:1,text:"Running out of time? Use Time Freeze"}},"power-play":{name:"power-play",status:"enabled",title:"Power Play",styles:{backgroundGradientColor:"rgba(32, 106, 128, 0.5)",backgroundColor:"#206A80",accentColor:"#66C1FF"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/powerplay.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/powerplay.svg"},description:"Everyone gets 50% more score for 25 seconds.",mysteryBoxActivationDescription:"20% more score for the next 10 seconds.",notification:{onActivate:"Power Play is on!",onActivateByOtherUser:"has activated Power Play. Get 50% extra score for the next 25 seconds!"},meta:["questionId","attempt","startTime"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"power-play"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},powerupType:"positive",time:25e3,disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"timerEnd",probability:{type:"global",weight:1},validateToActivate:function(t){return!0},validateToApply:function(t,s){const{startTime:n}=t,a=new Date().getTime();return n+this.time>=a},onApply:function(t){if(t.response.getCorrectness()){const s=t.score.getTotal();t.score.pushScore(Math.floor(s/2))}},onDestroy:function(t){},help:{tips:["‘Powerplay’ gives everyone 50% extra score for 25 seconds, use wisely."]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Power Play' to boost everyone's score for 25 seconds."}},supersonic:{name:"supersonic",status:"enabled",title:"Supersonic",styles:{backgroundGradientColor:"rgba(208, 29, 29, 0.5)",backgroundColor:"#6C0909",accentColor:"#FF6666"},validateToAward:function(){return this.status==="enabled"},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/supersonic.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/supersonic.svg"},description:"Get 1.5x score for 20 seconds with ultra fast gameplay",mysteryBoxActivationDescription:"20% more score for the next 10 seconds.",notification:{onActivate:"You get 1.5x score for 20 seconds"},meta:["questionId","attempt","startTime"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){const s={disableMeme:!0,disableLeaderboard:!0,gamePlaySpeed:2,gameSoundSpeed:1.3};t.specialEffects.updatePowerupGameFlow(s),t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"power-play"})},onApply:function(t){},onDestroy:function(t){if(t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1)return;t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1});const n={disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1};t.specialEffects.updatePowerupGameFlow(n)}},timedActions:{onApply:[],onActivate:[{time:18e3,do:function(t){const s={gameSoundSpeed:1};t.specialEffects.updatePowerupGameFlow(s)}}]},powerupType:"positive",time:2e4,disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"timerEnd",probability:{type:"local",weight:3.5},validateToActivate:function(t){return!0},validateToApply:function(t,s){const{startTime:n}=t,a=new Date().getTime();return n+this.time>=a},onApply:function(t){if(t.response.getCorrectness()){const s=t.score.getTotal();t.score.pushScore(Math.floor(s/2))}},onDestroy:function(t){},help:{tips:["You get 1.5x score for 20 seconds"]},nudge:{type:"preQuestion",priority:2,text:"Hey, use the 'Supersonic' for ultra fast gameplay."}},"streak-saver":{name:"streak-saver",status:"enabled",title:"Streak Saver",styles:{backgroundGradientColor:"rgba(255, 167, 39, 0.5)",backgroundColor:"#C7660E",accentColor:"#FFD266"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/streak-saver.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/streak-saver.svg"},description:"Protect your streak against a wrong answer.",notification:{onActivate:"An incorrect answer won't break your streak."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"streak",destroyOn:"immediate",probability:{type:"local",weight:5},validateToActivate:function(t){return!0},validateToApply:function(t,s,n){return!n.response.getCorrectness()},onApply:function(t){const s=t.streak.getPreviousStreak();t.streak.setCurrentStreak(s)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:3,text:"Hey, use the 'Streak Saver' to keep your streak bonus in case your answer is wrong."}},glitch:{name:"glitch",status:"enabled",title:"Glitch",styles:{backgroundGradientColor:"rgba(247, 31, 134, 0.5)",backgroundColor:"#761441",accentColor:"#FF66A1"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/glitch.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/glitch.svg"},description:"Everyone else sees a glitchy screen for 10 secs",mysteryBoxActivationDescription:"10 seconds of glitchy chaos.",notification:{onActivate:"Glitch is on!",onActivateByOtherUser:"caused your screen to glitch!"},meta:["startTime","currentPlayerId"],powerupType:"negative",time:1e4,shouldPersistNotification:!0,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"game",destroyOn:"timerEnd",probability:{type:"global",weight:1},validateToActivate:function(t){return!0},validateToApply:function(t,s){var r;const n=s.warningTime||0,{startTime:a}=t,o=this.time+n,i=new Date().getTime();return t.source==="teacher"||a+o>=i&&((r=t==null?void 0:t.player)==null?void 0:r.playerId)!==s.currentPlayerId},onApply:function(t){t.specialEffects.changeGameAppearance({name:"isGlitching",value:!0})},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isGlitching",value:!1})},help:{tips:["‘Glitch’ wreaks havoc on your opponent’s screens giving you an advantage."]},nudge:{type:"preQuestion",priority:0,text:"Hey, use the 'Glitch' power-up to wreak havoc on everybody else's screen."}},"mystery-box-1":{name:"mystery-box-1",status:"disabled",title:"Power Play vs. Glitch",powerupType:"activator",styles:{backgroundGradientColor:"rgba(64, 160, 191, 0.5)",backgroundColor:"#15353F",accentColor:"#40A0BF",glowColor:"rgba(64, 160, 191, 0.5)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],powerupsToActivate:["power-play","glitch"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-1.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png"},description:"Get either Power Play or Glitch",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"mystery-box-2":{name:"mystery-box-2",status:"disabled",title:"Streak Booster vs. Breaker",powerupType:"activator",styles:{backgroundGradientColor:"rgba(191, 96, 64, 0.5)",backgroundColor:"#481B0D",accentColor:"#D95326",glowColor:"rgba(191, 96, 64, 0.5)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-2.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png"},description:"Get a full streak or lose it all.",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],powerupsToActivate:["streak-booster","streak-breaker"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"mystery-box-3":{name:"mystery-box-3",status:"disabled",title:"+1000pts vs. –1000pts",powerupType:"activator",styles:{backgroundGradientColor:"rgba(64, 191, 127, 0.5)",backgroundColor:"#153F2A",accentColor:"#40BF7F",glowColor:"rgba(64, 191, 127, 0.5)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-3.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png"},description:"Bag a 1000 score or be poorer by 1000.",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],powerupsToActivate:["add-points","minus-points"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"mystery-box":{name:"mystery-box",status:"disabled",title:"Mystery Cube",styles:{backgroundGradientColor:"rgba(255, 195, 26, 0.5)",backgroundColor:"#FFC31A",accentColor:"#FFC31A",glowColor:"rgba(255, 195, 26, 0.4)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/mystery-box.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/mystery-box.png"},description:"",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:[],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"add-points":{name:"add-points",status:"enabled",title:"+1000pts",styles:{backgroundGradientColor:"rgba(77, 253, 47, 0.5)",backgroundColor:"#0DAE38",accentColor:"#4DFD2F"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/add-points.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/add-points.jpg"},description:"",mysteryBoxActivationDescription:"Youâ€™re in luck.",notification:{onActivate:"",onActivateByOtherUser:""},meta:["scoreChange"],powerupType:"positive",scoreChange:1e3,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},scoreChanges:{breakIntoChunks:!0,sfxName:"getPoints"},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t){t.score.pushScore(this.scoreChange)},onDestroy:function(t){},help:{tips:[]}},"minus-points":{name:"minus-points",status:"disabled",title:"â€“1000",styles:{backgroundGradientColor:"rgba(242, 109, 122, 0.5)",backgroundColor:"#E33E4E",accentColor:"#F26D7A"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/minus-points.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/minus-points.jpg"},description:"",mysteryBoxActivationDescription:"Youâ€™re out of luck.",notification:{onActivate:"",onActivateByOtherUser:""},meta:["scoreChange"],powerupType:"negative",scoreChange:-1e3,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},scoreChanges:{breakIntoChunks:!0,sfxName:"losePoints"},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t){t.score.pushScore(this.scoreChange)},onDestroy:function(t){},help:{tips:[]}},"streak-booster":{name:"streak-booster",status:"enabled",title:"Streak Booster",styles:{backgroundGradientColor:"rgba(254, 169, 47, 0.5)",backgroundColor:"#C7660E",accentColor:"#FFEC66"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/streak-booster.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/streak-booster.svg"},description:"Apply to boost your streak counter by +6",mysteryBoxActivationDescription:"Your streak bar is full!",notification:{onActivate:""},meta:["streakChangeBy"],powerupType:"positive",disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"game",destroyOn:"response",probability:{type:"local",weight:3},streakChangeBy:6,shouldDestroyIfMysteryPowerup:!0,shouldHidePowerupEffect:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s,n){return!0},onApply:function(t){const s=t.streak.getCurrentStreak()+this.streakChangeBy;t.streak.setCurrentStreak(s)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:2,text:"Hey, use the 'Streak Booster' to instantly boost your streak by 6."}},"streak-breaker":{name:"streak-breaker",status:"disabled",title:"Streak Breaker",styles:{backgroundGradientColor:"rgba(8, 211, 234, 0.5)",backgroundColor:"#005C83",accentColor:"#08D3EA"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/streak-breaker.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/streak-breaker.jpg"},description:"",mysteryBoxActivationDescription:"You lost your streak. Streak savers wonâ€™t help you.",notification:{onActivate:""},meta:[],powerupType:"negative",disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"response",probability:{type:"local",weight:0},shouldDestroyIfMysteryPowerup:!0,shouldHidePowerupEffect:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s,n){return!0},onApply:function(t){t.streak.setCurrentStreak(0)},onDestroy:function(t){},help:{tips:[]}},"steal-points":{name:"steal-points",status:"disabled",title:"Pickpocket",styles:{backgroundGradientColor:"rgba(254, 86, 2, 0.5)",backgroundColor:"#CB2D00",accentColor:"#FE5602"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/steal-points.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/steal-points.png"},description:"Steal score from another player!",notification:{onActivate:"600 score stolen"},targetting:{selectionHeader:"Steal 600 score from",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.specialEffects.showOverlay({name:"powerupStealPoints",data:{powerupName:"steal-points",targets:t.targetting.getPowerupTargets(s),applier:t.targetting.getPowerupApplier(s)}})},onApply:function(t){},onDestroy:function(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"response",scoreChange:600,probability:{type:"local",weight:.85},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t,s){t.targetting.isCurrentPlayerTheApplier(s)&&t.score.pushScore(this.scoreChange),t.targetting.isCurrentPlayerTheTarget(s)&&t.score.pushScore(-1*this.scoreChange)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Steal Score' to mess with someone."}},"send-gift":{name:"send-gift",status:"enabled",title:"Gift",styles:{backgroundGradientColor:"rgba(128, 57, 162, 0.5)",backgroundColor:"#431E8A",accentColor:"#FF6666"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/gift.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/gift.svg"},description:"Award your friends extra score!",notification:{onActivate:"You just helped your friend get extra score!"},targetting:{selectionHeader:"Gift bonus score to",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.specialEffects.showOverlay({name:"powerupOpenBox",data:{powerupName:"send-gift",boxType:"gift",targets:t.targetting.getPowerupTargets(s),applier:t.targetting.getPowerupApplier(s)}})},onApply:function(t){},onDestroy:function(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"immediate",scoreChange:800,probability:{type:"local",weight:.9},validateToActivate:function(t){return t.activePlayersList.length>0},validateToApply:function(t,s){return!0},onApply:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.score.pushScore(this.scoreChange)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Gift' to help a friend."}},"send-prank":{name:"send-prank",status:"disabled",title:"Psych!",styles:{backgroundGradientColor:"rgba(0, 135, 155, 0.5)",backgroundColor:"#005C83",accentColor:"#00879B"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-prank.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-prank.png"},description:"Prank a player of your choice.",notification:{onActivate:"Wooohooo!!!!"},targetting:{selectionHeader:"Who do you wanna mess with?",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.specialEffects.showOverlay({name:"powerupOpenBox",data:{powerupName:"send-prank",boxType:"prank",targets:t.targetting.getPowerupTargets(s),applier:t.targetting.getPowerupApplier(s)}})},onApply:function(t){},onDestroy:function(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:.9},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t,s){},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Psych!' to mess with a friend."}}},Bt={CURRENT_CONFIG_API_VERSION:20,getConfig(){return cv}};let uv=class Fa{getOriginallyIncorrectQuestionIds(t,s){const n=t.filter(i=>Fa.isResponseIncorrect(i)),a=Fa.getQuestionIdsFromResponses(n),o=Fa.getQuestionIdsFromResponses(s);return dr(a,o)}getTotalOriginallyIncorrectQuestionIds(t){const s=t.filter(a=>Fa.isResponseIncorrect(a));return Fa.getQuestionIdsFromResponses(s)}static getQuestionIdsFromResponses(t){return t.map(s=>s.questionId)}static isResponseIncorrect(t){return t.state===cn.ATTEMPTED&&(t.isCorrect===!1||t.result==="PARTIALLY_CORRECT")}isRedemptionQuestionAllowedInGameType(t,s,n){return n.hasRedemptionPass===Ut.hasRedemptionPass.YES&&s!==re.PRESENTATION&&n.showAnswers!==Ut.ShowAnswers.NEVER&&s!==re.FLASHCARD}shouldShowRedemptionQuestion(t,s,n,a,o,i,r){return!(!this.isPass1Completed(t,s,n,i,r)||this.getOriginallyIncorrectQuestionIds(a,o).length===0)}isPass1Completed(t,s,n,a,o){return this.isRedemptionQuestionAllowedInGameType(t,s,n)?a===0&&o===0:!1}selectQuestionsForRedemption(t,s){return this.getOriginallyIncorrectQuestionIds(t,s)}noOfRedemptionAttemptsRequiredSoFar(t,s,n,a){return this.isRedemptionQuestionAllowedInGameType(t,s,n)&&Oi(a,Fa.isResponseIncorrect).true||0}};const Po=new uv,ac={FIRST_LENGTH:14,SUBSEQUENT_LENGTH:10},oc=1;class vs{static getQuestionSegmentNumber(t,s){const n=s.questionsDistribution;let a=1;for(let o=n.length-1;o>=0;o--)if(t>=n[o][0]){a=o+1;break}return a}static checkIfCurrentSegmentCompleted({segmentNumber:t,segmentInfo:s,totalOriginalAttemptsAnswered:n,totalQuestionsSkipped:a}){return s.questionsDistribution[t-1][1]===n+a}static getOriginallyIncorrectQuestionIds(t,s,n,a,o){const i=vs.getQuestionIdsInSegement(t,a,o),r=Jt(s,l=>Yt(i,l.questionId)&&vs.isResponseIncorrect(l)),c=vs.getQuestionIdsFromResponses(r),u=vs.getQuestionIdsFromResponses(n);return dr(c,u)}static areSegmentRedemptionQuestionDone(t,s,n,a){const o=vs.getQuestionIdsInSegement(t,n,a),i=Jt(s,c=>Yt(o,c.questionId)),r=vs.maxRedemptionAttemptsForSegment(n,a.maxSegments);return i.length>=r}static getQuestionIdsInSegement(t,s,n){if(s===n.maxSegments)return t;const a=n.questionsDistribution[s-1];return vc(t,a[0]-1,a[1])}static getQuestionIdsFromResponses(t){return wt(t,"questionId")}static maxRedemptionAttemptsForSegment(t,s){return t===s?s*oc:oc}static getQuestionSegmentsInfo(t){const s=vs.maxSegmentsPerQuiz(t),n=s*oc,a=[],o=dd(t/s);for(let i=0;i<s;i++){const r=i*o+1;let c=r+o-1;i+1===s&&(c=t),a.push([r,c])}return{maxSegments:s,questionsDistribution:a,segmentSize:o,totalRedemptionAttempts:n}}static maxSegmentsPerQuiz(t){return t<=ac.FIRST_LENGTH?1:1+Math.ceil((t-ac.FIRST_LENGTH)/ac.SUBSEQUENT_LENGTH)}static isResponseIncorrect(t){return t.isCorrect===!1&&t.state===cn.ATTEMPTED}isRedemptionQuestionAllowedInGameType(t,s,n){return n.redemption===Ut.Redemption.YES&&s!==re.PRESENTATION&&n.showAnswers!==Ut.ShowAnswers.NEVER&&s!==re.FLASHCARD}shouldShowRedemptionQuestion(t,s,n,a,o,i,r,c){if(!this.isRedemptionQuestionAllowedInGameType(t,s,n)||!hl(a))return!1;const u=vs.getQuestionSegmentsInfo(a),l=vs.getQuestionIdsFromResponses(o),d=vs.getQuestionSegmentNumber(l.length,u);if(!vs.checkIfCurrentSegmentCompleted({segmentNumber:d,segmentInfo:u,totalOriginalAttemptsAnswered:l.length,totalQuestionsSkipped:i}))return!1;const _=vs.getOriginallyIncorrectQuestionIds(r,o,c,d,u);return!(vs.areSegmentRedemptionQuestionDone(r,c,d,u)||_.length===0)}selectQuestionsForRedemption(t,s,n,a){const o=vs.getQuestionSegmentsInfo(t),i=vs.getQuestionIdsFromResponses(s),r=vs.getQuestionSegmentNumber(i.length,o),c=vs.getOriginallyIncorrectQuestionIds(n,s,a,r,o);return Hc(c)}noOfRedemptionAttemptsRequiredSoFar(t,s,n,a,o,i){if(!this.isRedemptionQuestionAllowedInGameType(t,s,n)||!hl(o))return 0;const r=vs.getQuestionSegmentsInfo(o),c=vs.getQuestionSegmentNumber(a,r);let u=0;for(let l=0;l<c;l++){const d=r.questionsDistribution[l],m=vc(i,d[0]-1,d[1]),_=Oi(m,vs.isResponseIncorrect).true||0;u+=_>=1?1:0}return u}}const Im=new vs,rr={Timers:{MAX_TIME_TO_WAIT_FOR_IMAGES:5e3,ANSWER_TO_MEME:{MIN_SECONDS:2.5,MAX_SECONDS:7,TIME_TO_VIEW_CORRECT_ANSWERS:2,NO_OF_WORDS_CEIL:7,IMAGE_WORTH_IN_WORDS:7,MATHEX_WORTH_IN_WORDS:9,UNSKIPPABLE_FRACTION:.75},MemeToLeaderboard:{NO_MEME:0,WITH_MEME:4e3,WITH_ANSWER_EXPLANATION:25e3,WHEN_COMING_FROM_INTERRUPTED:1500},LeaderboardToNextQuestion:{NO_LEADERBOARD:0,WITH_LEADERBOARD:3e3}},HOLD_TO_PAUSE:50,ResponseIndicatorTimer:{BASE:3e3,WHEN_BONUS_POINTS:1e3},SWIPE_THRESHOLD:20,SlideInteractionDisplayDelays:{BASE:3e3},SpeedsByGrade:[{key:0,value:"Kindergarten",wpm:40,age:5},{key:1,value:"1st Grade",wpm:53,age:6},{key:2,value:"2nd Grade",wpm:89,age:7},{key:3,value:"3rd Grade",wpm:107,age:8},{key:4,value:"4th Grade",wpm:123,age:9},{key:5,value:"5th Grade",wpm:139,age:10},{key:6,value:"6th Grade",wpm:150,age:11},{key:7,value:"7th Grade",wpm:150,age:12},{key:8,value:"8th Grade",wpm:150,age:13},{key:9,value:"9th Grade",wpm:200,age:14},{key:10,value:"10th Grade",wpm:200,age:15},{key:11,value:"11th Grade",wpm:200,age:16},{key:12,value:"12th Grade",wpm:200,age:17},{key:13,value:"University",wpm:300,age:[18,24]},{key:14,value:"Professional Development",wpm:220,age:25}],SHOW_LEADERBOARD_AFTER_EVERY_NTH_QUESTION:3},aO={WIN:"WIN",LOSE:"LOSE",TIME_UP:"TIME_UP"},Rn={OBSTACLE_AVOIDANCE:"obstacle-avoidance",DANGEROUS_CAVE:"dangerous-cave",MATCHING_PAIRS:"matching-pairs",CIRCLE_WARS:"circle-wars"},oO={EASY:"easy",MEDIUM:"medium",HARD:"hard"},So={OBSTACLES:"obstacle",POWERUP_SELECTION:"powerup_selection",LEVEL_UP:"level_up",PATH_FINDER:"path_finder",WAITING_FOR_OTHERS:"waiting_for_others"};function lv(e,t=[]){return e===re.MYSTIC_PEAK&&t&&t.length>0}function dv({gameMode:e,breakRoomArr:t=[]}){return{shouldShow:lv(e,t),breakRoomType:So.POWERUP_SELECTION}}const Ji={powerup:"powerup",safeSpot:"safe_spot",obstacle:"obstacle"},mv={[Rn.OBSTACLE_AVOIDANCE]:{name:Rn.OBSTACLE_AVOIDANCE,title:"Landslide",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg"},description:"Run away from the falling rocks",actionDescription:"Escape the Land Slide",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You were hit by the rock",gameWinTitle:"You crossed the landslide"},[Rn.DANGEROUS_CAVE]:{name:Rn.DANGEROUS_CAVE,title:"Swarm Attack",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png",lg:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png"},description:"Save yourself from the scary swarm",actionDescription:"Escape the Swarm Attack",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You were killed by the swarm attack",gameWinTitle:"You survived the swarm attack"},[Rn.MATCHING_PAIRS]:{name:Rn.MATCHING_PAIRS,title:"Find your essentials",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg"},description:"Find your essentials",actionDescription:"Find your essentials",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You ran out of time",gameWinTitle:"You found all the essentials"},[Rn.CIRCLE_WARS]:{name:Rn.CIRCLE_WARS,title:"Circle Wars",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png",lg:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png",xl:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png"},description:"Circle Wars",actionDescription:"Circle Wars",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You ran out of time",gameWinTitle:"You carved your way out"}},pv={eraser:{title:"eraser",styles:{backgroundGradientColor:"rgba(211, 48, 61, 0.5)",backgroundColor:"#5A0C0C",accentColor:"#CF1A28"},description:"Eliminate one incorrect option.",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/Eraser.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/eraserWithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/eraserxs.svg"}},"50-50":{title:"50/50",description:"Make half the incorrect options disappear.",styles:{backgroundGradientColor:"rgba(251, 152, 140, 0.5)",backgroundColor:"#E33E4E",accentColor:"#FB988C"},image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50WithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50xs.svg"}},immunity:{title:"Immunity",description:"Get a second chance after an incorrect answer.",styles:{backgroundGradientColor:"rgba(242, 79, 201, 0.5)",backgroundColor:"#451431",accentColor:"#F24FC9"},image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunity.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunityWithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunityxs.svg"}}},iO={powerup:"https://cf.quizizz.com/join/img/mystic_peak/powerup-arrow.svg",powerup_disabled:"https://cf.quizizz.com/join/img/mystic_peak/powerup-disabled.svg",obstacle:"https://cf.quizizz.com/join/img/mystic_peak/obstacle-arrow.svg"},rO={[Rn.OBSTACLE_AVOIDANCE]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/LanslideEducationNew.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/landslide.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/mobile-landslide.png",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/landslide-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/landslide-oops.png"},[Rn.DANGEROUS_CAVE]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/powerups/BatCaveEducation.svg",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/batcave.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/mobile-batcave.png",gameInstructionImage:"https://cf.quizizz.com/join/img/mystic_peak/laser-gun.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/swarm-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/swarm-oops.png"},[Rn.MATCHING_PAIRS]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-education.png",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg-mobile.png",gameInstructionImage:"https://cf.quizizz.com/join/img/mystic_peak/laser-gun.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/fye-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/fye-oops.png"},[Rn.CIRCLE_WARS]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg-mobile.png",gameInstructionImage:"https://cf.quizizz.com/join/img/mystic_peak/laser-gun.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/circlewars-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/circlewars-oops.png"}};function gv(e,t){const{game:s,routing:n}=t,a=P.isExactly(n.currentPage,P.List.IN_GAME.WAITING),i={gameData:{roomHash:s.data.roomHash,playerId:s.player.playerId,gameType:s.data.gameType,gameState:s.data.gameState},startSource:Fe.get(Fe.List.RECONNECT_REJOIN)};return{shouldRejoinRoom:a,rejoinParams:i}}function fv(e,t,s={}){let n={};const{attempt:a,questionId:o}=t;A(s)?A(t)||e[o][a]===Bs.NOT_SENT&&(n=t):n=s;const i=!A(n);let r=e;if(i){const c=Je(n.attempt)?n.attempt:0;r={...e},r[n.questionId]={...r[n.questionId],[c]:Bs.SENDING}}return{allResponseStatuses:r,isCallRequired:i,responseToBeSent:n}}function _v(e,t,s){var Te;const{game:n}=e,{data:a,flow:o,player:i,team:r,questions:c}=n,{gameType:u}=a,d=u===Be.SOLO?s.data:s,m=As(n.questions.questionResponseStatuses),{gameOptions:_}=n.data,f=d.powerupEffects||[],{breakRoomArr:g}=d,{mysticPeakLeaderboard:v,mysticPeakLevelArray:R,mysticPeakLevel:E}=s,{mysticPeakLevelBoard:h}=d,{mysticPeakTieredRank:k}=s,L=Jt(f,b=>b.status===ia.DESTROYED),q=((Te=d.metadata)==null?void 0:Te.extraLife)||[],{isAdaptiveLearningGame:D}=t,ee=d.breakRoomDifficulty||"";let ie={...o.leaderboard.forQues},M=o.leaderboard.list,oe=o.teamLeaderboard.list,{totalPlayers:ye}=o.leaderboard,{totalTeams:F}=o.teamLeaderboard,{teams:U}=a,H=r.rank,S=r.score,G={},K={},ne={};if(s.err&&!A(s.err))throw{response:{type:"response.CANT_SAVE",success:!1,error:s.err}};if(!A(d.response)){const{response:b}=d,te=Eh({extraLifeArray:q,questionId:b.questionId}),Y=Je(b.attempt)?b.attempt:0,ce=wr(n.questions.questionResponses[b.questionId],(we,Se)=>Se!=="provisional");if(ie={id:b.questionId,attemptIndex:n.questions.questionResponses[b.questionId].length},ne={...C(d,"question",{}),id:b.questionId,state:mn.REVEAL},c.slidesFlowControlType===Xt.NONE&&delete ne.state,m[b.questionId][Y]=Bs.SENT,G={...b,...ce,isEvaluated:!0},_.showAnswers!==Ut.ShowAnswers.NEVER){const we=t.totalQuestionAttempted;let Se=i.marks,Re=i.totalCorrect,Qe=i.firstAttempts,ct=i.firstCorrectAttempts,_t=i.firstAttemptMarks;if(!Cn.ANSWER_LATER_RESPONSE_STATES.includes(b.state)){if(b.isCorrect){const Gt=[Pa.PARTIALLY_CORRECT,Pa.CORRECT];if(Je(b.marks)&&b.marks>0){if(Gt.includes(b.result)){const It=n.questions.questionResponses[b.questionId];if(It&&It.length>1){const jt=It[It.length-2];Se-=jt.marks||0}}Se+=b.marks}if(Gt.includes(b.result)){const It=n.questions.questionResponses[b.questionId];It&&It.length>1&&It[It.length-2].isCorrect&&(Re-=1)}Re+=1}b.attempt===0&&(Qe+=1,b.isCorrect&&(ct+=1,Je(b.marks)&&b.marks>0&&(_t+=b.marks)))}let yt=0,pt=0;const Ze=D?i.totalPossibleMarks:a.totalPossibleMarks,ht=D?_.questionsPerAttempt:a.totalQuestionsInQuiz;Ze>0?(yt=Math.round(Se*100/Ze),pt=Math.round(_t*100/Ze)):Ze===0?(yt=Math.round(we*100/ht),pt=Math.round(Qe*100/ht)):(yt=Math.round(Re*100/ht),pt=Math.round(ct*100/ht));let Lt=i.currentSteak;!A(d.player)&&Je(d.player.currentStreak)?Lt=d.player.currentStreak:Lt=b.isCorrect?i.currentStreak+1:0,K={score:i.score+(te?0:b.score),marks:Se,totalCorrect:Re,currentStreak:Lt,accuracy:yt,firstAttempts:Qe,firstCorrectAttempts:ct,firstAttemptMarks:_t,firstAttemptAccuracy:pt}}}const ue=Je(a.accuracy)&&a.accuracy/100||.5,de=Tu(a.roomHash,i.playerId,K.score||0,i.monsterId,"leaderboard",a.gameOptions,t.totalQuestionAttempted,ue);switch(u){case Be.SOLO:M=de;break;default:if(d.leaderboard&&d.leaderboard.length&&(M=ih(d.leaderboard),ie={id:n.questions.currentId,attemptIndex:t.currentQuestionCurrentAttemptIndex}),d.teamLeaderboard&&d.teamLeaderboard.length>0){oe=rh(d.teamLeaderboard,a.teams),ie={id:n.questions.currentId,attemptIndex:t.currentQuestionCurrentAttemptIndex};const b=r.teamId,te=xt(oe,Y=>Y.teamId===b);if(te){U=As(U);const Y=xt(U,ce=>ce.teamId===b);Y&&(Y.score=te.score),S=te.score,H=te.rank}}ye=d.playerCount||Math.max(o.leaderboard.totalPlayers,M.length>0&&M[M.length-1].rank||0),F=d.teamCount||Math.max(o.teamLeaderboard.totalTeams,oe.length>0&&oe[oe.length-1].rank||0)}const pe=eo(m,[Bs.SENDING,Bs.NOT_SENT]),Ae=n.questions.remainingOrder.length===0&&Qs(pe).length===0,ge=d==null?void 0:d.duelInfo;return{leaderboard:M,totalPlayers:ye,forQues:ie,currentPlayerRank:Qd(M,i.playerId),previousPlayerRank:i.rank,teamLeaderboard:oe,totalTeams:F,teams:U,currentTeamScore:S,currentTeamRank:H,previousTeamRank:r.rank,powerupEffects:f,powerupEffectsDestroyed:L,allResponseStatuses:m,allResponsesSent:Ae,updatedResponse:G,playerStats:K,updatedSlide:ne,extraLife:q,breakRoomArr:g,mysticPeakLevelBoard:h,mysticPeakTieredRank:k,currentDifficulty:ee,mysticPeakLeaderboard:v,mysticPeakLevelArray:R,duelInfo:ge,mysticPeakLevel:E}}function hv(e){const{gameMode:t,gameType:s,gameOptions:n,roomHash:a,quizVersionId:o,player:i,questions:r,playerResponse:c,powerupEffectsToDestroy:u}=e,{allOrderedResponses:l,areQuestionAttemptsLeft:d}=r,m=Array.isArray(u),_=n.updatedAt,f={roomHash:a,playerId:i.playerId,response:c,questionId:r.currentId,powerupEffects:{destroy:[]},gameType:s,gameOptionsUpdatedAt:_,quizVersionId:o};if(s===Be.ASYNC){let g=0;l.length||(g=yv(l)),f.elapsed=g}if(t===re.CHALLENGE&&!d&&(f.isLastPlayerResponse=!0),t===re.PRESENTATION&&(s===Be.ASYNC||s===Be.SOLO)&&!A(r.remainingOrder)){const g=r.remainingOrder[0],v=Os(r.initSequence,R=>R===g);f.metadata={qId:g,qIdIndex:v}}return N.invariant(m,["payloadForProceedGame: powerupEffectsToDestroy is not valid. Recieved - ",u],{logOnSentry:!0}),ot(u,g=>{const v=!A(g);N.invariant(v,["payloadForProceedGame: powerupEffect is not valid. All effects recieved - ",u],{logOnSentry:!0}),v&&f.powerupEffects.destroy.push(g)}),f}function Sm(e){const{gameType:t,gameMode:s,gameOptions:n}=e.data,{orderedOriginalResponses:a,orderedRedemptionResponses:o,answerLaterQuestions:i,remainingOrder:r,totalQuestionsInGame:c,skippedQuestions:u,initSequence:l}=e.questions;return e.data.gameOptions.hasRedemptionPass===Ut.hasRedemptionPass.YES?Po.shouldShowRedemptionQuestion(t,s,n,a,o,i.length,r.length):Im.shouldShowRedemptionQuestion(t,s,n,c,a,u.length,l,o)}function yr({getters:e,remainingQuestionsOrder:t,isProceed:s}){return s?t.filter(n=>!e.comprehensionQuestionIds.includes(n)):t.filter((n,a)=>a>e.numberOfComprehensionQuestionsUnattempted||n!==e.currentId)}function ic({rootState:e,isAtGamePlayStart:t,getters:s,isProceed:n,answerLaterFlow:a=!1}){const{game:o,appSettings:i}=e,{data:{gameType:r,roomHash:c},player:{playerId:u,extraLife:l}}=o;let d=[...o.questions.remainingOrder];const m=[...o.questions.answerLaterQuestions],_=s.currentId||o.questions.currentId,f=[...o.questions.doneOrder],{isMasteryMode:g}=s,v=_==="",R={roomHash:c,gameType:r,playerId:u};let E=!1,h={},k=!1,L=_,q=!1,D=d.length>0,ee=[],ie=[],M=!1,oe=!1;if(g&&!t&&(D=d.length>0||_!==""),t&&Sm(e.game))q=!0,k=!0,D=!0,L="";else if(D){if(D=!!d.length,s.isInComprehensionView&&!n)if(a)if(s.nextUnAttemptedComprehensionQuestionId)L=s.nextUnAttemptedComprehensionQuestionId;else{const K=o.questions.getNextQuestion(d);L=(K==null?void 0:K.id)||_}else L=s.nextUnAttemptedComprehensionQuestionId||_;else{const K=o.questions.getNextQuestion(d);_===""&&(K!=null&&K.comprehensionQuestionId)?L=K.id:L=d.shift()}const U=xt(o.questions.list,K=>K.id===L),H=Fo(U)?U.options:[],G=((U==null?void 0:U.type)===se.CONTENT_SLIDE||(U==null?void 0:U.type)===se.CONTENT_SLIDE_V2)&&!A(C(U,"structure.bullets"));k=L in o.questions.list,ee=wt(H,()=>({isVisible:!0})),ie=q?["game"]:["game","question"],i.readAloud&&o.questions.slidesFlowControlType!==Xt.NONE&&G&&(E=!0,h={...U,metadata:{...U.metadata||{},currentBulletIndex:U.structure.bullets.length-1}})}a&&!D&&(L="",k=!0),_&&!(v||n)&&f.push(_),!D&&m.length>0&&(k=!0,D=!0,d=[...o.questions.answerLaterQuestions],M=!0,a||(L=d.shift())),o.questions.isInComprehensionView&&(k=!0),l.length>0&&(oe=l.filter(({status:H})=>H===Wa.IN_PROGRESS).map(({questionId:H})=>H).includes(L));const ye={questionId:L,doneOrder:f,remainingOrder:d,currentOptionsAppearance:ee,powerupScopes:ie};let F=!1;return n?F=!D:F=!D&&(o.questions.isCurrentQuestionForRedemptionAttempt||!o.questions.comprehensionQuestion),{mutationPayload:ye,areThereQuestionsLeftToShow:D,canEnd:F,isQuestionToShowValid:k,shouldShowRedemptionQuestion:q,gameData:R,shouldUpdateSlide:E,updatedSlide:h,showingAnswerLaterQuestions:M,shouldReplayQuestionForAE:oe}}function Ev(e){const{doneOrderForEvaluatedQuestions:t,remainingOrder:s}=Ht(),n=[...s];return{mutationPayload:{questionId:e,doneOrder:t,remainingOrder:n,powerupScopes:["game"]}}}function Ol(e,t,s){let n={},a={};const{remainingOrder:o,currentId:i,answerLaterQuestions:r,questionResponses:c}=e.questions,{breakRoomArr:u}=e.flow,{gameType:l,gameMode:d,mysticPeakLevelMap:m}=e.data,{totalCorrect:_}=e.player,f=[...o],g=t.currentId||i,v=[...e.questions.doneOrder],R=t.doneOrderForEvaluatedQuestions,E=f.length<1&&e.data.gameOptions.reviewAndSubmit&&(t.isInComprehensionView?s:!0),h=[...r],k=!t.isInComprehensionView&&!E&&f.length<1&&h.length>0;let L=!t.isSkipQueueInProgress&&(!t.isInComprehensionView||s||e.questions.isLastAnswerLaterQuestion)&&!k&&Sm(e);qo({gameType:l,gameMode:d,isMasteryMode:t.isMasteryMode})&&(L=!1);const q=t.isCurrentQuestionSkipped?{}:Zd(c,g),{shouldShow:D}=dv({gameMode:d,breakRoomArr:u}),ee=o.length>0,ie=(t.isCurrentQuestionSkipped||Di(q))&&ee&&D,M=_===m[m.length-1];let oe=!1;return t.isMasteryMode&&(v.length+1)%rr.SHOW_LEADERBOARD_AFTER_EVERY_NTH_QUESTION===0?oe=!0:oe=!1,s||R.push(g),E&&(n={questionId:"",doneOrder:R,remainingOrder:f,powerupScopes:["game"]}),L&&(n={questionId:"",doneOrder:R,remainingOrder:yr({getters:t,remainingQuestionsOrder:f,isProceed:s}),currentOptionsAppearance:[],powerupScopes:["game"]}),k&&(a={questionId:"",doneOrder:R,remainingOrder:yr({getters:t,remainingQuestionsOrder:f,isProceed:s}),powerupScopes:["game"]}),{shouldShowRedemptionQuestion:L,mutationPayload:n,shouldShowAnswerLaterQuestions:k,answerLaterMutationPayload:a,shouldShowBreakRoom:ie||M&&ee,hasReachedMasteryForMysticPeak:M,shouldShowReviewQuestions:E,shouldShowMasteryCountdown:oe}}function rc({state:e,getters:t,id:s,name:n="",meta:a={}}){const{playerId:o}=e.player,{roomHash:i}=e.data,c=Bt.getConfig()[n].meta,u={id:s,powerupId:s,playerId:o,roomHash:i,meta:{},gameType:e.data.gameType,name:n};return c.push("playerId","monsterId"),u.meta={...yu({state:e,name:n,metaProps:c,getters:t,meta:a})},u.meta.player={playerId:e.player.playerId,monsterId:e.player.monsterId},u}function yu({state:e,name:t,metaProps:s,getters:n,meta:a}){const o=Bt.getConfig(),i={};return ot(s,r=>{r==="questionId"&&(i.questionId=e.questions.currentId),r==="attempt"&&(i.attempt=n.currentQuestionCurrentAttemptIndex),r==="startTime"&&(i.startTime=new Date().getTime()),r==="scoreChange"&&(i.scoreChange=o[t].scoreChange),r==="powerupsToActivate"&&(i.boxPowerups=o[t].powerupsToActivate),r==="playerId"&&(i.playerId=e.player.playerId),r==="monsterId"&&(i.monsterId=e.player.monsterId),r==="targets"&&(i.targets=a.targets||[]),r==="streakChangeBy"&&(i.streakChangeBy=o[t].streakChangeBy)}),i}function vv(e,t,s){const{game:n,appSettings:a}=e,o=n.questions.currentId,i=t.currentQuestion,r={currentOptionsAppearance:[],powerupScopes:["game","question"]},c=a.readAloud===!0;let u=!1,l=!1,d=!1,m=!1,_=!1,f={},g={};const v=e.game.data.gameState===Et.COMPLETED,R=e.game.player.isOver,E=C(i,"structure.bullets",[]),h=C(i,"metadata.currentBulletIndex",-1),k=E.length,L=k>=0,q=s==="forward"?h+1:h-1,D=t.isLessonInStudentPacedMode&&t.currentQuestionNumber===t.studentPacedEndQuestionNumber,ee=t.isCurrentSlideInteractable||!L||s==="backward"||q<0||q>=k;if(s==="backward"&&t.currentQuestionNumber<=1)u=!0;else if(s==="forward"&&A(n.questions.remainingOrder)&&ee)l=!0;else if(s==="forward"&&D)u=!0,l=!1;else{let ie="";if(s==="forward"?[ie]=n.questions.remainingOrder:ie=n.questions.initSequence[t.currentQuestionNumber-1-1],t.isCurrentSlideForContent&&!ee&&(d=!0,f={id:o,state:i.state,metadata:{currentBulletIndex:q}}),ee){const M=n.questions.list[ie],oe=C(M,"structure.bullets",[]).length,ye=M.type===se.CONTENT_SLIDE,F=[...n.questions.remainingOrder],U=[...n.questions.doneOrder];if(s==="forward"?F.shift():F.unshift(o),U.push(o),m=!0,r.questionId=ie,r.doneOrder=U,r.remainingOrder=F,t.isCurrentSlideForContent&&!v&&!R&&(_=!0,g={questionId:ie}),ye){let H=s==="forward"&&!c?-1:oe-1;if(oe>0){const S=C(M,"structure.title.text",""),G=wp(S,"<p><br /></p>","");!A(G.trim())||H===-1&&s==="forward"&&(H=0)}d=!0,f={id:ie,state:M.state,metadata:{currentBulletIndex:H}}}}}return{isNotAllowedToProceed:u,areQuestionsOver:l,shouldUpdateSlideState:d,updateSlidePayload:f,shouldUpdateCurrentSlide:m,setCurrentQuestionMutationPayload:r,isGameCompleted:v,shouldUpdatePlayerMetadata:_,updateMetadataPayload:g}}function Av(e,t){const s=t.gameState||"",n=e.data.gameState,a=xt(e.questions.list,u=>!Yt([mn.INACTIVE,mn.COMPLETED],u.state));let o=!1,i=!1,r=!1,c={};if(s){const u=s===Et.STOPPED||s===Et.COMPLETED;o=n===Et.RUNNING&&u,i=e.questions.slidesFlowControlType===Xt.NONE}return A(a)||(r=!0,c={nextQuestion:{questionId:a.id}}),{shouldEndGame:o,areAllPlayerSlidesDone:i,shouldUpdateSlide:r,updateSlidePayload:c}}function Tv(e,t,s){const n=!A(t.currentQuestionCurrentAttemptResponse);let a={},o={};if(n){const i=eo(e.questions.questionResponseStatuses,[Bs.NOT_SENT]),r={...As(t.currentQuestionCurrentAttemptResponse),response:s};a={playerStats:{score:t.currentQuestionCurrentAttemptResponse.score,marks:t.currentQuestionCurrentAttemptResponse.marks,accuracy:e.player.accuracy,totalCorrect:e.player.totalCorrect,currentStreak:e.player.currentStreak},response:r,questionType:t.currentQuestion.type,updatedLeaderboardList:e.flow.leaderboard.list,powerupScopes:["game"],responsesRemaining:Qs(i).length,shouldStoreResponseStatus:!1},o={questionId:e.questions.currentId,roomHash:e.data.roomHash,playerId:e.player.playerId,response:r}}return{hasCurrentQuestionBeenAnswered:n,mutationPayload:a,updateResponsePayload:o}}function Xi(e){return wt(e,t=>({id:t._id,name:t.name,status:t.status,meta:t.meta}))}function yv(e){const t=e;let s=0;ot(t,o=>{s+=o.timeTaken});const n=1e3*t,a=1e3*t;return s+n+a}const{baseServerUrl:Rm,gameServerUrl:Cm,requestServerUrl:Zo}=Ua,Xn=2e4;let Tt=Rm;function kl(e){Tt=Rm,e&&(Tt=Cm)}function Iv(){const e=`${Cm}play-api/check`;return ke.get(e,{timeout:5*no,requestName:xe.checkGameDomain})}async function cO(e){const t=`${Tt}play-api/v5/checkRoom`;return ke.post(t,{payload:e,timeout:6*no,requestName:xe.checkRoom})}async function Sv(e,t,s=""){const n={roomHash:e,playerId:t};s!==""&&(n.teamId=s);const a=`${Tt}play-api/getRank`;return ke.post(a,{payload:n,requestName:xe.getRank})}async function Rv(e){const t=`${Tt}play-api/reactionUpdate`;return ke.post(t,{payload:e,requestName:xe.reactionUpdate})}async function Cv(e){const t=`${Tt}play-api/v4/proceedGame`,{questionId:s}=e.response;return ke.post(t,{payload:e,timeout:Xn,callId:s,requestName:xe.proceedGame})}async function wv(e){const t=`${Tt}play-api/skipManyQuestions`;return ke.post(t,{payload:e,retryCount:1,requestName:xe.skipManyQuestions})}async function Ov(e){const t=`${Tt}play-api/skipQuestion`;return ke.post(t,{payload:e,retryCount:1,requestName:xe.skipQuestion})}async function kv(e){const t=`${Tt}play-api/playerGameOver`;return ke.post(t,{payload:e,requestName:xe.playerGameOver})}async function Pv(e,t,s,n){const a=`${Tt}play-api/v2/update-player-metadata`;return ke.post(a,{payload:{roomHash:e,playerId:t,metadata:n,type:s},retryCount:1,requestName:xe.updatePlayerMetadata})}async function uO(e){const t=`${Tt}play-api/v5/checkAssignment`;return ke.post(t,{payload:e,timeout:Xn,requestName:xe.checkAssignment})}async function bv(e){const t=`${Tt}play-api/v4/activatePowerup`;return ke.post(t,{payload:e,timeout:Xn,requestName:xe.activatePowerup})}async function lO(e){const t=`${Tt}play-api/v5/join`;return ke.post(t,{payload:e,timeout:Xn,requestName:xe.join})}async function Nv(e){const t=`${Tt}play-api/v2/update-response`;return ke.post(t,{payload:e,timeout:Xn,callId:e.response.id,requestName:xe.updateResponse})}async function Dv(e){const t=`${Tt}play-api/raiseHand`;return ke.post(t,{payload:e,requestName:xe.raiseHand})}async function dO(e){const t=`${Tt}play-api/createTestGameActivity`;return ke.post(t,{payload:e,requestName:xe.createTestGameActivity})}async function mO(e){const t=!!e.contestId;if(A(e.quizId)||A(e.player))throw N.logOnSentry(["request.VALIDATION_ERROR",e]),new Error("request.VALIDATION_ERROR");const s=t?`${Tt}play-api/v1/contestJoin`:`${Tt}play-api/v4/soloJoin`;return ke.post(s,{payload:e,timeout:Xn,requestName:xe.joinSoloGame})}async function Lv(e){const t=`${Tt}play-api/v4/soloProceed`,{questionId:s}=e.response;return ke.post(t,{payload:e,timeout:Xn,callId:s,requestName:xe.proceedSoloGame})}async function zv(e){const t=`${Tt}play-api/v2/soloEnd`;return ke.post(t,{payload:e,retryCount:1,requestName:xe.endSoloGame})}async function pO(e,t){const s={roomHash:e};t&&(s.type=t);const n=`${Tt}play-api/v4/getQuestions`;return ke.post(n,{payload:s,retryCount:1,timeout:Xn,requestName:xe.getQuestions})}async function gO(e){const t=`${Tt}play-api/get-team-players`;return ke.post(t,{payload:e,requestName:xe.getTeamPlayers})}async function Mv(e){const t=`${Tt}play-api/updateBreakRoom`;return ke.post(t,{payload:e,requestName:xe.updateBreakRoom})}async function Gv(e){const t=`${Tt}play-api/updatePlayerObstacle`;return ke.post(t,{payload:e,requestName:xe.updatePlayerObstacle})}async function qv(e){const t=`${Tt}play-api/getMinimalMysticPeakLeaderBoard`;return ke.post(t,{payload:e,requestName:xe.updateWaitingLeaderboard})}async function Uv(e){const t=`${Tt}play-api/updatePathFinder`;return ke.post(t,{payload:e,requestName:xe.updatePathFinder})}async function Pl(e){const t=`${Tt}play-api/awardPowerups`;return ke.post(t,{payload:e,requestName:xe.awardPowerups})}async function bl(e){const t=`${Tt}play-api/replacePowerups`;return ke.post(t,{payload:e,requestName:xe.replacePowerups})}async function xv(e,t=""){const s=`${Tt}play-api/destroyPowerupEffect`;return ke.post(s,{payload:e,callId:t,requestName:xe.destroyPowerupEffect})}async function Qv({memeSetId:e,language:t,theme:s}){const n=e;N.invariant(n.length!==0,`At getMemeSet: expected a valid memeSet Id but got '${n}'. Falling back to default`);const a=n.length!==0?n:Ai,o=`${Zo}getMemeSetGame/${a}?lang=${t}&theme=${s}`;return ke.get(o,{retryCount:1,requestName:xe.getMemeSetById})}function wm(){const e=`${Zo}memesets?featured=true`;return ke.get(e,{requestName:xe.getFeaturedMemesets})}async function Fv(e){const t=`${Zo}v4/students/game/${e}`;return ke.get(t,{timeout:6*no,retryCount:1,requestName:xe.getRunningGame})}async function fO(e,t){const s=`${Zo}game/${e}/add-issue`;return ke.post(s,{payload:{issue:t},retryCount:1,requestName:xe.addGameQuestionIssue})}async function _O(e){const t=`${Zo}certifications/gameChanger`;return ke.post(t,{payload:e,requestName:xe.generateGameChangerCertificate})}async function Bv(e){const t=`${Zo}contests/${e}`;return ke.get(t,{requestName:xe.getContestData})}async function Hv(e){const t=`${Tt}play-api/v2/playerGameOver`;return ke.post(t,{payload:e,timeout:Xn,requestName:xe.playerGameOver})}async function jv(e){const t=`${Tt}play-api/v6/rejoinGame`;return ke.post(t,{payload:e,timeout:Xn,requestName:xe.rejoin})}async function Vv(e){const t=`${Tt}play-api/duelDecision`;return await ke.post(t,{payload:e})}async function $v(e){return(await ke.post(`${Tt}play-api/player-summary`,{payload:e,requestName:xe.fetchPlayerSummaryAggregations})).response}async function hO(e){const t=`${Tt}play-api/getP2PGameLeaderboard`;return ke.post(t,{payload:e,requestName:xe.getP2PGameLeaderboard})}async function EO(e){const t=`${Tt}play-api/setP2PPlayerScore`;return ke.post(t,{payload:e,requestName:xe.setP2PPlayerScore})}async function vO(e){try{const t=`${Tt}play-api/addLearnerFeedback`;return ke.post(t,{payload:e,requestName:xe.addLearnerFeedback})}catch(t){N.log("Error at gameService.addLearnerFeedback",t)}}async function AO(e){const t=`${Tt}play-api/editLearnerFeedback`;return ke.post(t,{payload:e,requestName:xe.editLearnerFeedback})}async function TO(e,t){const s=`${Tt}play-api/getLearnerFeedback`;try{return{data:(await ke.post(s,{payload:{playerId:e,gameId:t},requestName:xe.getLearnerFeedback})).response,success:!0}}catch(n){return{success:!1,error:n}}}async function yO(e){const t=`${Tt}play-api/addQudo`;return ke.post(t,{payload:e})}async function Wv(e,t="strikeScreen",s=""){const n=`${Tt}play-api/fetchPlayers`;try{const{response:{data:a}}=await ke.post(n,{payload:{roomHash:e,source:t,playerId:s}});return{data:a.players,success:!0}}catch(a){return{success:!1,error:a}}}async function IO(e){return await ke.post(`${Tt}play-api/v1/mark-flashcard-answered`,{payload:e,requestName:"markFlashcardAnswered"})}async function SO(e){return await ke.post(`${Tt}play-api/v1/bookmark-flashcard`,{payload:e,requestName:"bookmarkFlashcard"})}async function RO(e){return await ke.post(`${Tt}play-api/v1/remove-flashcard-bookmark`,{payload:e,requestName:"removeBookmarkFlashcard"})}const Iu=Pt("course",()=>{const e=p(),t=p(),s=p([]),n=p(),a=p(""),o=p(0),i=p([]),r=p(""),c=T(()=>{var S;return((S=t.value)==null?void 0:S.joinCode)||""}),u=T(()=>{var S;return((S=t.value)==null?void 0:S._id)||""}),l=T(()=>{var S;return((S=e.value)==null?void 0:S.name)||""}),d=T(()=>{var S;return((S=e.value)==null?void 0:S.description)||""}),m=T(()=>{var S;return((S=e.value)==null?void 0:S.image)||""}),_=T(()=>{var G;return(((G=e.value)==null?void 0:G.quizzesMetaData)||[]).map(K=>K.quizId)}),f=T(()=>{var S;return(S=e.value)==null?void 0:S.host}),g=T(()=>i.value&&Array.isArray(i.value)?i.value.filter(S=>S.status!==ho.GAME_STATUS.COMPLETED):[]),v=T(()=>i.value&&Array.isArray(i.value)?i.value.filter(S=>S.status===ho.GAME_STATUS.COMPLETED):[]),R=T(()=>{var S,G;return(G=(S=t.value)==null?void 0:S.trackOptions)==null?void 0:G.attemptInSequence}),E=T(()=>s.value&&cd(s.value)&&s.value.length?s.value.filter(S=>S.gameStatus===ho.GAME_STATUS.NOT_STARTED):[]),h=T(()=>_!=null&&_.value.length?_==null?void 0:_.value.length:0),k=T(()=>{let S=s.value;return S=S==null?void 0:S.filter(G=>G.gameStatus===ho.GAME_STATUS.NOT_STARTED||G.gameStatus===ho.GAME_STATUS.STARTED),S==null?void 0:S.length}),L=T(()=>{var S;return((S=t.value)==null?void 0:S.state)===ho.GAME_STATUS.COMPLETED}),q=T(()=>{var S;return(S=t.value)!=null&&S.endedAt?wn(t.value.endedAt).format("D MMM YYYY"):""}),D=T(()=>h.value-k.value),ee=T(()=>{var K;let S=(K=t.value)==null?void 0:K.deadline;if(!S)return!1;S=new Date(S);const G=18*30*24*3600*1e3;return S.getTime()<Date.now()+G}),ie=T(()=>{var S;return ee.value&&((S=t.value)!=null&&S.deadline)?wn(t.value.deadline).format("D MMM"):""}),M=T(()=>{var S,G;return(G=(S=t.value)==null?void 0:S.trackOptions)==null?void 0:G.complianceOptions});function oe(S){Iu().$patch(S)}function ye(S){Bd(S.courseIdentifier)?t.value={joinCode:S.courseIdentifier}:t.value={_id:S.courseIdentifier},a.value=S==null?void 0:S.startSource}async function F(){try{const{response:S}=await Tm.getUserCourses();i.value=S.data}catch(S){N.error("Error at action fetchAssignedCourse: ",S)}}function U(S){var K,ne,ue;const G=(ne=(K=t.value)==null?void 0:K.trackOptions)==null?void 0:ne.complianceOptions;return(ue=G==null?void 0:G[S])==null?void 0:ue.goal}function H(){e.value=void 0,t.value=void 0,s.value=[],n.value=void 0,a.value="",i.value=[],o.value=0}return{learningTrackVersion:e,learningTrackSession:t,quizzesDetails:s,trackAccuracy:o,sessionParticipant:n,assignedCourses:i,runningCourseSessions:g,completedCourseSessions:v,incompleteActivities:E,host:f,name:l,image:m,quizIds:_,createdBy:r,courseCode:c,description:d,courseSessionId:u,isSequentialGame:R,remainingActivities:k,totalActivities:h,hasCourseEnded:L,hasDeadline:ee,deadline:ie,completedActivities:D,getEndDate:q,complianceOptions:M,setCourseData:oe,fetchAssignedCourse:F,checkCourseInProgress:ye,getComplianceGoal:U,$reset:H}}),Om=Pt("preCourseActions",()=>{const e=Iu(),t=Zn();function s(i){return i&&e.courseSessionId&&e.courseSessionId===i&&e.createdBy}async function n({courseIdentifier:i="",type:r=so.CODE,startSource:c="",handlePreCourseErrorAs:u="dialog"}){var d;const l=(d=e.sessionParticipant)==null?void 0:d.playerId;try{e.checkCourseInProgress({courseIdentifier:i,startSource:c});const{response:m}=await Tm.checkCourse({courseIdentifier:i,type:r,playerId:l});return e.setCourseData(m.data),{success:!0,response:m}}catch(m){return N.error("Error at action checkCourse: ",m),o({errorData:m,handlePreCourseErrorAs:u,courseIdentifier:i})}}async function a(i){return await n({courseIdentifier:i,type:so.TRACK_SESSION_ID})}function o({errorData:i={},handlePreCourseErrorAs:r="",errorType:c="",courseIdentifier:u=""}){const l=ps(),d=c||un(i),m=`ca-${d}`;let _=!1;switch(d){case"validate.validation":case"course.NOT_FOUND":t.handlePreGameErrorMessages({errorName:"course.invalidCode|confirm",handlePreGameErrorAs:r}),_=!0;break;case"course.EXPIRED":t.handlePreGameErrorMessages({errorName:"course.expired|confirm",handlePreGameErrorAs:r}),_=!0;break;case"course.NOT_STARTED":t.handlePreGameErrorMessages({errorName:"course.notStarted|confirm",handlePreGameErrorAs:r}),_=!0;break;case"player.LOGIN_REQUIRED":l.toggleModal({type:on.AUTH,options:{authView:"signup",source:hr.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING,title:X("You need to be registered to join this course."),redirect:`/pro/join?lt=${u}`}}),_=!0;break;case"course.NOT_PART_GROUP":t.handlePreGameErrorMessages({errorName:"course.notPartOfGroup|confirm",handlePreGameErrorAs:r}),_=!0;break;default:t.handlePreGameErrorMessages({errorName:"course.invalidLink|confirm",handlePreGameErrorAs:r,errorCode:m}),_=!0}return _&&t.resetCourse(),{success:!1,error:{type:d}}}return{checkCourse:n,refreshCourseData:a,isCourseAlreadyFetched:s}}),Yv=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"})),Kv=Pt("preCourseFlows",()=>{const e=tn(),t=ps(),s=Om();async function n({courseCode:i,startSource:r,handlePreCourseErrorAs:c="inLineMessage"}){const u=await s.checkCourse({courseIdentifier:i,type:so.CODE,startSource:r,handlePreCourseErrorAs:c});if(!u.success)return u;const l=C(u,"response.data.learningTrackSession._id");return e.requestToChangePage({to:P.get(P.List.COURSE.DETAILS),metaData:{params:{courseSessionId:l}}}),$e.logEvent(as.COURSE_JOIN_VIA_CODE_SUCCESS),u}async function a({courseCode:i,startSource:r}){return t.togglePreGameErrorMessage(),n({courseCode:i,startSource:r})}async function o({courseCode:i,startSource:r}){const c=await s.checkCourse({courseIdentifier:i,startSource:r,type:so.CODE});return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,La(window.location.href,"lt"))},100),c.success?{redirectToCourse:!0,courseCode:i,courseSessionId:C(c,"response.data.learningTrackSession._id")}:{redirectToCourse:!1,courseCode:i}}return{courseCodeSubmittedPipeline:a,courseCodeQueryParamPipeline:o}}),CO=[{key:"skin",logo:"icon-fas-face-smile text-2xl"},{key:"hair",logo:"icon-fas-comb text-2xl"},{key:"headgear",logo:"icon-fas-headgear text-2xl"},{key:"topwear",logo:"icon-fas-topwear text-2xl"},{key:"bottomwear",logo:"icon-fas-bottomwear text-2xl"},{key:"footwear",logo:"icon-fas-footwear text-2xl"},{key:"accessory",logo:"icon-fas-accessories text-lg"},{key:"backpack",logo:"icon-fas-backpack text-2xl"}],Su={value:"#E6E6E6",_id:"661a377caa3a6925d838853b",name:"Skintone_1",url:""},wO="https://cf.quizizz.com/Avatar/mysterybox_rewards.riv",OO="https://cf.quizizz.com/Avatar/mysterybox_handoff-mobile.riv";function Qa(e,t,s){return{url:`${Zs.AVATAR_BUCKET}/avatar-assets/${e}/${t}`,subType:s,name:t}}const Jv={accessory:Qa("accessory","none.svg","head"),backpack:Qa("backpack","none.svg"),bottomwear:Qa("bottomwear","bl_jeans.svg"),footwear:Qa("footwear","r_converse.svg"),headgear:Qa("headgear","bl_bucket_hat.svg"),hair:Qa("hair","none.svg"),topwear:Qa("topwear","b_tee.svg"),skin:Su},Xv=8,Zv=7,kO={_id:"",price:0,category:"common",url:"https://cf.quizizz.com/gif/hair-category.gif",enabled:!0,type:"hair",name:"",value:""},PO={topwear:{t_lightening:"sakura",w_pokemon:"sakura",w_animetop:"sakura",p_tscrop:"taylor",pi_tswift:"taylor",r_suittop:"sigma-bois",r_lightening:"sigma-bois",y_starhoodie:"sigma-bois"},headgear:{luffyhat:"sakura",ninjaband:"sigma-bois"},bottomwear:{p_tskirt:"taylor",pi_tskirt:"taylor",r_suitpant:"sigma-bois"},backpack:{tsguitar:"taylor"},accessory:{tshearteye:"taylor",b_dogtag:"sigma-bois"},footwear:{},skin:{},hair:{}},bO=["topwear-bl_usa","topwear-bl_india","topwear-w_uk","topwear-bl_australia","topwear-y_brazil","topwear-r_canada","topwear-g_sweater","topwear-o_flowercrop","topwear-t_akatsuki","topwear-bl_polo","topwear-pi_crop","topwear-p_tscrop","topwear-pi_tswift","topwear-y_starhoodie","topwear-w_pokemon","topwear-w_heartshirt","topwear-w_animetop","topwear-t_lightening","topwear-r_suittop","bottomwear-g_shorts","bottomwear-lb_baggy","bottomwear-pi_tskirt","bottomwear-r_suitpant","bottomwear-p_tskirt","headgear-ninjaband","headgear-r_fisherman","headgear-luffyhat","headgear-catears","headgear-w_smilebucket","headgear-mu_flowerband","headgear-bl_turban","headgear-r_sikhboi","headgear-gr_skullcap","headgear-bl_durag","accessory-bl_glasses","accessory-mobile","accessory-t_facemask","accessory-b_moustache","accessory-lb_tinypurse","accessory-b_dogtag","accessory-tshearteye","headgear-b_hijab","footwear-p_crocs","footwear-w_samba","footwear-b_hightops","backpack-tsguitar"],{avatarServiceUrl:io}=Ua;async function eA(){const e=await ke.get(`${io}v4/avatar-inventory`,{retryCount:3,requestName:"fetchInventory"}),t=e.response.data;return t.backpack=[t.backpack.find(s=>s.name==="none"),...t.backpack.filter(s=>s.name!=="none")],t.accessory=[t.accessory.find(s=>s.name==="none"),...t.accessory.filter(s=>s.name!=="none")],t.headgear=[t.headgear.find(s=>s.name==="none"),...t.headgear.filter(s=>s.name!=="none")],t.hair?t.hair=[t.hair.find(s=>s.name==="none"),...t.hair.filter(s=>s.name!=="none")]:t.hair=[],e.response.data}async function tA(){const t=(await ke.post(`${io}v1/user-avatar/user`,{payload:{},headers:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},requestName:"fetchUserAvatar"})).response.data;return t.userAvatar.avatarItemsMap.skin||(t.userAvatar.avatarItemsMap.skin=Su),t}async function Nl(e,t,s){return(await ke.post(`${io}v0/user-avatar/update-avatar`,{payload:{playerId:t,roomHash:s,avatarItemsMap:e},requestName:"updateUserAvatar"})).response}async function sA(){try{return await ke.post(`${io}v0/user-avatar/claim-login-reward`,{payload:{},headers:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},requestName:"updateDailyBonusClaim"}),{success:!0}}catch(e){return N.log("Error at AvatarService.updateDailyBonusClaim",e),{success:!1,error:e}}}async function nA(e,t,s){return(await ke.post(`${io}v0/user-avatar/broadcast-avatar`,{payload:{playerId:t,roomHash:s,avatarItemsMap:e},requestName:"broadcastAndUpdateUserAvatar"})).response}async function aA(e){try{const{response:t}=await ke.post(`${io}v0/user-avatar/buy-item`,{payload:{itemId:e},requestName:"updateItemPurchase"});return{success:t.success,time:t.time}}catch(t){return N.log("Error at AvatarService.updateItemPurchase",t),{success:!1,error:t}}}async function oA(){try{const{response:e}=await ke.post(`${io}v0/user-avatar/unlock-hair`,{requestName:"unlockHairCategory"});return{success:e.success,time:e.time}}catch(e){return N.log("Error at AvatarService.updateItemPurchase",e),{success:!1,error:e}}}const km=Pt("toasts",()=>{const e=p([]);function t(n){e.value.push(n)}function s(){e.value.shift()}return{toasts:e,shiftToast:s,pushToast:t}});class bo{static add(t){const s=km(),n=Je(t.time)?t.time:3e3;xt(s.toasts,a=>a.title===t.title)||(s.pushToast(t),setTimeout(()=>{s.shiftToast()},n))}}const iA=Zs.AVATAR_BUCKET;function Zi(e){return e&&e.replace(/https:\/\/quizizz-static(-dev)?\.s3\.amazonaws\.com\//g,`${iA}/`)}const Dl=Zs.AVATAR_BUCKET,pi="user-avatars",rA="quizizz_uid",Ll="async-avatar-shop-time",cA={footwear:[],bottomwear:[],topwear:[],headgear:[],backpack:[],accessory:[],skin:[],hair:[]};function uA(e){return e=e!=null&&e.skin?e:{...e,skin:Su},e&&Object.entries(e).reduce((t,[s,n])=>({...t,[s]:typeof n=="string"?s==="accessory"?{url:n}:{url:n,subtype:"head"}:n}),{...e})}const Xa=Pt("avatar",()=>{const{gameMode:e}=Nt(mt()),{isLoggedIn:t,isCorporateUser:s}=Nt(rs()),n=Ts.getCookie(rA),a=Ss.getItem(pi),o=a&&JSON.parse(Zi(a))&&JSON.parse(Zi(a))[n];o&&Object.values(o).some(Y=>!Y._id)||Ss.removeItem(pi);const i=p(cA),r=p(uA(o)),c=p(!1),u=p(60),l=p({completion:0,accuracy:0,powerups:0}),d=p(!1),m=p(0),_=p(0),f=p(0),g=p(!1),v=p(!1),R=pd(new Map),E=p(!1),h=p(!1),k=p(!1),L=p(0),q=p(!0),D=T(()=>h.value?Xv:Zv),ee=T(()=>{const Y=t.value&&!s.value;return e.value?!em(e.value)&&Y:Y}),ie=T(()=>{if(r.value){const Y=wn();return Object.entries(i.value).reduce((ce,[we,Se])=>({...ce,[we]:Se.map(Re=>{var ct;const Qe=R.has(Re._id);return{...Re,isPurchased:Qe,isRecentlyPurchased:Qe?Y.diff(wn(R.get(Re._id).unlockedAt),"day")<=7:!1,purchasedPrice:Qe?R.get(Re._id).price:0,unlockedAt:(ct=R.get(Re._id))==null?void 0:ct.unlockedAt}})}),{...i.value})}return i.value});async function M(){try{if(ie.value.headgear.length!==0)return;let Y=await eA();Y=Object.entries(Y).reduce((ce,[we,Se])=>({...ce,[we]:Se.map(Re=>({...Re,url:Zi(Re==null?void 0:Re.url)||`${Dl}/avatar-assets/${Re.type}/${Re.name}.svg`,name:Re.name}))}),{...Y}),i.value=Y}catch{bo.add({type:En.ERROR,title:X("Something went wrong while fetching qbit store")})}}function oe(Y){return Y?Object.entries(Y).reduce((we,[Se,Re])=>(we[Se]={url:Re.url||`${Dl}/avatar-assets/${Re.type}/${Re.name}.svg`,name:Re.name,value:Re.value,_id:Re._id},Re.subtype&&(we[Se].subtype=Re.subtype),Se==="accessory"&&!Re.subtype&&(we[Se].subtype="head"),we),{}):Jv}async function ye(){const{isLoggedIn:Y}=Nt(rs());try{if(!Y.value&&o&&Object.values(o).every(ht=>!!ht._id)&&Object.values(o).length===D.value)return;q.value=!0;const{userAvatar:ce,coins:we=0,unlockedItems:Se=[],dailyReward:Re,calculatedStreak:Qe,hairUnlocked:ct,hairCost:_t,isNewUser:yt}=await tA();let pt=ce.avatarItemsMap;pt=Object.entries(pt).reduce((ht,[Lt,Gt])=>({...ht,[Lt]:{...Gt,url:Zi(Gt.url),name:Gt.name}}),{...pt});const Ze=oe(pt);r.value=Ze,m.value=we,_.value=Re,f.value=Qe,h.value=ct,k.value=yt,L.value=_t,Re>0&&(g.value=!1),Se&&Se.length&&Se.forEach(ht=>{R.set(ht.itemId,ht)}),Y.value||Ss.setItem(pi,JSON.stringify({[n]:Ze}))}catch{bo.add({type:En.ERROR,title:X("Something went wrong while fetching user qbit")})}finally{q.value=!1}}async function F(Y){const ce={...Y||r.value};if(Object.keys(ce).length===D.value)if(!t.value)Ss.setItem(pi,JSON.stringify({[n]:ce}));else{const we=Object.entries(ce).reduce((Se,[Re,Qe])=>({...Se,[Re]:Qe._id}),{});Fu(we)?N.logOnSentry(["Avatar - updateUserAvatar payload is empty",JSON.stringify(ce)],"message","info"):await Nl(we),r.value=ce}}async function U(Y,ce,we){const Se=Y||r.value;try{if(Object.keys(Se).length!==D.value)return;Y&&(r.value={...Y});const{roomHash:Re}=Nt(mt());if(!Re.value||!we)return;const Qe=Object.entries(Se).reduce((ct,[_t,yt])=>({...ct,[_t]:yt._id}),{});Fu(Qe)||(ce?await nA(Qe,we,Re.value):await Nl(Qe,we,Re.value),t.value||Ss.setItem(pi,JSON.stringify({[n]:Se})))}catch{bo.add({type:En.ERROR,title:X("Something went wrong while updating qbit")})}}function H(Y,ce){return{...Object.entries(ie.value).reduce((Se,Re)=>{var yt,pt,Ze,ht,Lt,Gt;if(((yt=Re[1][0])==null?void 0:yt.type)==="skin"||!ce&&((pt=Re[1][0])==null?void 0:pt.type)==="hair")return Se;const Qe=Re[1].filter(It=>!It.price||It.isPurchased),ct=Math.floor(Math.random()*Qe.length),_t={url:"",name:""};return ct!==-1&&(_t.url=(Ze=Qe[ct])==null?void 0:Ze.url,_t.name=(ht=Qe[ct])==null?void 0:ht.name,_t._id=(Lt=Qe[ct])==null?void 0:Lt._id,(Gt=Qe[ct])!=null&&Gt.subtype&&(_t.subtype=Qe[ct].subtype)),Se[Re[0]]=_t,Se},{}),skin:Y.skin||r.value.skin}}function S(Y,ce){const{gameType:we,roomHash:Se}=Nt(mt());if(we.value===Be.ASYNC&&!Y&&ce){const Re=Ss.getItem(Ll,{parseFromJSON:!0,removeItemOnError:!0});Ss.setItem(Ll,{...Re,[`${Se.value}-${ce}`]:u.value})}c.value=Y}function G(){g.value=!0}function K(){v.value=!0}function ne(){v.value=!1}async function ue(){await sA(),g.value=!0,m.value+=_.value}async function de(Y,ce){const{success:we,time:Se}=await aA(Y);return we&&(m.value-=ce,R.set(Y,{unlockedAt:Se,price:ce})),we}async function pe(Y,ce){if(Y==="hair"){const{success:we}=await oA();return we&&(h.value=!0,m.value-=ce),we}}function Ae(Y){l.value=Y}function ge(Y){m.value=Y}function Te(Y){d.value=Y}function b(){E.value=!0}function te(Y){u.value=Y}return{baseInventory:i,inventory:ie,userConfig:r,showAvatarShop:c,showedAvatarAwardAnimation:d,coinBalance:m,rewardClaimed:g,showRewardBonusModal:v,gameCoinsCollected:l,unlockedItemsMap:R,isEconomyEnabled:ee,teacherEndedGame:E,asyncGameShopTimer:u,rewardValue:_,streak:f,isHairUnlocked:h,isNewUser:k,hairUnlockPrice:L,isUserAvatarFetching:q,isCorporateUser:s,getInventory:M,getUserAvatar:ye,setUserConfig:F,setShowAvatarShop:S,getRandomAvatar:H,setUserGameConfig:U,transformServerAvatarToClient:oe,setRewardAsClaimed:G,showBonusModal:K,hideBonusModal:ne,claimDailyBonus:ue,setGameCoinsCollected:Ae,purchase:de,purchaseFullCategory:pe,setCoinBalance:ge,setShowedAvatarAwardAnimation:Te,setAvatarTeacherEndedGame:b,setAsyncGameShopTimer:te}});async function Dc(e){const t=es(),s=ro(),n=Kv(),a=hs(),o=ln();if(t.isApplicationLoaded)return!0;await t.loadApplication({openingRoute:e}),await o.hydrateLocale();const i=av(e);if(i.shouldStartAppAuthFlow&&await Cf(),A(i.initialGameMetadata)||a.setInitialGameMetadata(i.initialGameMetadata),i.shouldStartGCParamFlow){const{redirectToPreGame:m,preGameRunningComposite:_}=await s.gameCodeQueryParamPipeline(i.gcParamPipelineActionPayload);if(m)return{name:P.get(P.List.PRE_GAME_DETAIL.RUNNING),params:{preGameRunningComposite:_}}}if(i.shouldStartGoogleClassroomFlow){const{redirectToPreGame:m,preGameRunningComposite:_}=await s.googleClassroomParamPipeline({encodedGCLParam:i.gclParamPiplineActionPayload}),f=new URLSearchParams(window.location.search),g=f.has("fromGCAddon")&&f.get("fromGCAddon")==="true";if(m)return{name:P.get(P.List.PRE_GAME_DETAIL.RUNNING),params:{preGameRunningComposite:_},...g&&{query:{fromGCAddon:"true"}}}}if(i.shouldStartCoursesFlow){const{redirectToCourse:m,courseSessionId:_}=await n.courseCodeQueryParamPipeline(i.coursesPiplineActionPayload);if(m)return{name:P.get(P.List.COURSE.DETAILS),params:{courseSessionId:_}}}if(!e.query.class&&!e.query.showGroupJoin)return!0;const r=rs(),c=Xo(),u=e.query.showGroupJoin?e.query.t:e.query.class;if(r.isLoggedIn)return c.handleGroupInvite({token:u,type:Za.FROM_LINK}),!0;const l=window.location.href.includes("/pro")?"/pro/join":"/join",d=new URL(`${window.location.href.split(l)[0]}/signup`);if(e.query.class){const m=await c.fetchGroupInfo({token:u,inviteType:Za.FROM_LINK});m&&!m.invalidInvite&&(d.searchParams.append("redirectUrl",l),d.searchParams.append("classCode",e.query.class.toString()))}else d.searchParams.append("redirectUrl",`${l}/class`);return window.location.href=d.toString(),!0}async function lA(){return rs().isLoggedIn?!0:{name:P.get(P.List.LANDING.HOME)}}async function dA(){if(!rs().isLoggedIn){const t=window.location.href.includes("/pro")?"/pro/join":"/join",s=new URL(`${window.location.href.split(t)[0]}/signup`);s.searchParams.append("redirectUrl",`${t}/class`),window.location.href=s.toString()}return!0}async function mA(e){var a,o,i,r;const t=(a=e.params)==null?void 0:a.contestId,n=(r=(i=(o=(await Bv(t)).response)==null?void 0:o.data)==null?void 0:i.game)==null?void 0:r.quizId;n&&window.location.assign(`/join/contest/${t}/${n}/start?autostart=true`)}async function pA(e,t){const s=ro(),n=C(e,"params.quizId"),a=C(e,"name","")===P.get(P.List.QUIZ.CHALLENGE),o=C(e,"params.roomHash","");if(a&&!o)return{name:P.get(P.List.LANDING.HOME)};try{if(a)return(await s.challengeGamePipeline({roomHash:o,quizId:C(e,"params.quizId")})||{success:!1}).success?!0:{name:P.get(P.List.LANDING.HOME)};const i=e.path.startsWith("/embed"),{redirectToQuizPage:r}=await s.startSoloFromPreGamePipeline({quizId:n,toRoute:e,embedMode:i});return!r||A(n)?EA({name:P.get(P.List.LANDING.HOME)},t):!0}catch(i){return N.error("Error at RouteResolver quizStartBeforeEnterResolver",i),{name:P.get(P.List.LANDING.HOME)}}}async function zl(e,t){return e.href.match(/^\/join\/contest\/([0-9a-f]{24})$/)?mA(e):pA(e,t)}async function gA(e){var _,f;const t=es(),s=ro(),n=Aa(),a=ps(),o=rs(),i=mt(),r=C(e,"params.preGameRunningComposite",""),c=_f(r),u={roomHash:c.roomHash,playerId:c.playerId,gameState:c.gameState};if(!!!um(u.roomHash))return{name:P.get(P.List.LANDING.HOME)};if(u.roomHash){const{redirectToPreGame:g}=await s.runningGamePipeline({roomHash:u.roomHash,playerId:u.playerId,gameState:u.gameState});if(g)await Mr(t);else return{name:P.get(P.List.LANDING.HOME)}}const d=n.currentGameData;if((o.isCorporateUser||((_=i==null?void 0:i.hostOccupation)==null?void 0:_.includes("corporate"))||t.isAppInProMode)&&d.roomHash&&await Zn().getQuizInfoFromServer({gameId:d.roomHash,gameState:(d==null?void 0:d.gameState)||"",gameType:d.gameType||"",quizId:"",fetchQuizName:!0}),(d.gameState===Et.RUNNING||d.gameState===Et.WAITING||d.gameState===Et.SCHEDULED)&&d.isLMSGame){const{response:g}=await TE(d.roomHash),{data:v}=g;if(v.authRequired){const R=(f=d.lmsInfo)==null?void 0:f.lmsName,E=v.joinLink;return a.toggleModal({type:on.LMS_AUTH,options:{title:X("Permissions Required"),subtitle:X(`We require some permissions from your ${vA(R)} account in order for you to take the quiz`),continueText:X("Continue"),lmsName:R,gameJoinLink:E}}),{name:P.get(P.List.LANDING.HOME)}}}return!0}async function fA(e){const t=es(),s=mt(),n=Dt(),a=Jn(),o=ff(C(e,"params.gameComposite","")),i=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,r=i(),c={roomHash:o.roomHash,playerId:o.playerId,gameType:C(e,"query.gameType","")};await Mr(t);const u=!!(um(c.roomHash)&&c.playerId);if(n.hasJoinedTheGame){if(!u){const m=c.roomHash||s.roomHash,_=c.playerId||n.playerId,f={gameComposite:vr(m,_)},g={gameType:c.gameType||s.gameType};return{name:e.name,params:f,query:g}}return!0}u&&c.roomHash===C(n,"lastGamePlayed.roomHash","")&&(c.gameType=c.gameType||C(n,"lastGamePlayed.gameType",""));let l=!1,d=null;if(c){const m=Fe.get(Fe.List.REJOIN.PARAM.ROUTE_DATA),_=await r.rejoinOnPageLoad({gameData:c,startSource:m});l=_.didRejoin,d=_.meta&&_.meta.redirectTo}return l?(a.toggleOverlay(),!0):A(d)?{name:P.get(P.List.LANDING.HOME)}:d}async function _A(e){var n;const t=C(e,"query.languages",[]),{selectedLanguage:s}=ln();if(A(t)&&s==="en"){const a=(n=xt(of,{code:"en"}))==null?void 0:n.name;return{...e,query:{...e.query,languages:a}}}return!0}async function hA(e){const t=rs(),s=ps();if(!t.isLoggedIn)return s.toggleModal({type:on.AUTH,options:{source:hr.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE,authView:"signup",title:X("You’ll need a free account to join a Class"),redirect:window.location}}),{name:P.get(P.List.LANDING.HOME)};const n=(await Ue(()=>Promise.resolve().then(()=>Yv),void 0)).default,a=n(),o=C(e,"params.courseSessionId","");return!a.isCourseAlreadyFetched(o)&&!(await a.checkCourse({courseIdentifier:o,startSource:Fe.get(Fe.List.GAME_CODE.PARAM),type:so.TRACK_SESSION_ID})).success?{name:P.get(P.List.LANDING.HOME)}:!0}function EA(e,t){return e&&e.name?!1:t}function vA(e){const t={gcl:"Google Classroom",canvas:"Canvas",schoology:"Schoology"};return t[e]||t.gcl}const Ru=e=>(Ho("data-v-f11dcc7d"),e=e(),jo(),e),AA={class:"flex min-w-full min-h-screen items-center justify-center pt-6 container"},TA={class:"m-auto flex-view flex-col content"},yA=Ru(()=>Ee("div",{class:"my-0 mx-auto image-container"},[Ee("img",{class:"w-full max-w-4xl",src:"https://cf.quizizz.com/img/misc/404/locker_optim_900.gif",alt:"OOPS"})],-1)),IA={class:"text-center text"},SA={class:"text-xl mt-11"},RA={class:"flex justify-center w-full"},CA={class:"w-4/5 sm:w-2/6"},wA={class:"text-sm mt-5"},OA=Ru(()=>Ee("div",{role:"link",alt:"Back to Home",class:"h-12 w-12 p-1 rounded my-3 mx-auto cursor-pointer text-ds-light-500 text-3xl text-center btn"},[Ee("i",{class:"icon-far-home"})],-1)),kA={class:"w-4/5 sm:w-2/6"},PA={class:"text-sm mt-5"},bA=Ru(()=>Ee("a",{href:"https://quizizz.zendesk.com/hc/en-us/articles/213118929-How-can-I-contact-Quizizz-"},[Ee("div",{role:"link",alt:"Contact Us",class:"h-12 w-12 p-1 rounded my-3 mx-auto cursor-pointer text-ds-light-500 text-3xl text-center btn"},[Ee("i",{class:"icon-far-envelope"})])],-1)),NA={__name:"Page404",setup(e){const t=Ac("getTranslatedText");return(s,n)=>{const a=Bo("RouterLink");return Le(),Ke("div",AA,[Ee("div",TA,[yA,Ee("div",IA,[Ee("h2",SA,At(ze(t)("Sorry, we can't find the page you're looking for"))+". ¯\\_(ツ)_/¯ ",1),Ee("div",RA,[Ee("div",CA,[Ee("h3",wA,At(ze(t)("Back to Home")),1),Is(a,{to:"/join"},{default:Vs(()=>[OA]),_:1})]),Ee("div",kA,[Ee("h3",PA,At(ze(t)("Contact Us")),1),bA])])])])])}}},DA=sn(NA,[["__scopeId","data-v-f11dcc7d"]]),LA={name:"DialogComponent",inject:["getTranslatedText"],props:{title:{type:String,default:""},message:{type:String,default:""},buttons:{type:Array,default:()=>[]},type:{type:String,default:"confirm",validator:e=>["confirm","success","danger","default"].includes(e)},areBtnUppercase:{type:Boolean,default:!0},centerText:{type:Boolean,default:!1},traceId:{type:String,required:!1}},emits:["onButtonClick"],methods:{getBtnClass(e){return e==="confirm"?"confirm":e==="success"?"success":e==="danger"?"danger":"default"},buttonClicked(e,t){e.stopPropagation(),this.$emit("onButtonClick",t)}}},zA=["innerHTML"],MA=["innerHTML"],GA=["data-cy","onClick"];function qA(e,t,s,n,a,o){return Le(),Ke("div",null,[Ee("p",{class:_s(["title",{"text-center":s.centerText}]),innerHTML:s.title},null,10,zA),Ee("p",{class:_s(["message",{"text-center":s.centerText}]),innerHTML:s.message},null,10,MA),s.traceId?(Le(),Ke("div",{key:0,class:_s(["message break-all",{"text-center":s.centerText}])}," TraceId - "+At(s.traceId),3)):ft("",!0),Ee("div",{class:_s(["action-btn-wrapper flex justify-end uppercase mt-6 py-0 px-4",{"justify-center":s.centerText}]),"data-cy":"action-btn-wrapper"},[(Le(!0),Ke(Da,null,mr(s.buttons,(i,r)=>(Le(),Ke("button",{key:r,type:"button","data-cy":o.getBtnClass(i.type),class:_s(["button",[s.areBtnUppercase?"uppercase":"",o.getBtnClass(i.type)]]),onClick:c=>o.buttonClicked(c,r)},At(i.text),11,GA))),128))],2)])}const UA=sn(LA,[["render",qA],["__scopeId","data-v-d1aa0464"]]),xA={name:"DialogWrapper",components:{DialogComponent:UA},inject:["getTranslatedText"],props:{email:String},setup(){const e=Dt(),t=hs(),{isCorporateUser:s,email:n}=rs();return{playerName:e.playerId,actionErrorTrace:t.actionErrorTrace,isCorporateUser:s,email:n,emptyActionErrorTrace:t.emptyActionErrorTrace}},data:()=>({title:"",message:"",buttons:[],areBtnUppercase:!0,centerText:!1}),computed:{...ua(ps,["dialog"]),dialogType(){const e=C(this.dialog,"name","");return A(e)?"confirm":e.split("|")[1]},completeMessage(){const{errorCode:e}=this.dialog.options;return A(e)?this.message:`${this.message} 

 ${this.getTranslatedText("If the issue persists please share a screenshot at")} student-support@quizizz.com 
 Error code - ${e}`}},mounted(){this.init()},methods:{...Tc(ps,["toggleDialog"]),init(){this.$refs.dialogComponent.focus(),this.buttons=[{text:this.getTranslatedText("OKAY"),type:"confirm"}],this.areBtnUppercase=!0;const e=this.actionErrorTrace.join(", "),t=this.getNetworkDownlink()?this.getNetworkDownlink():"",s=C(this.dialog,"options.showLoggedInMessaging",!1);switch(this.dialog.name){case"resumeClassroomGame|confirm":this.title="Resume Game?",this.message=`${this.getTranslatedText("You are currently logged in as ")} ${this.email}. Resume this game?`,this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"addedToClass|confirm":this.title=this.getTranslatedText("You're in!"),this.message=this.dialog.options.message,this.buttons=[{text:this.getTranslatedText("Okay"),type:"confirm"}];break;case"notAddedToClass|confirm":this.message=this.dialog.options.message,this.buttons=[{text:this.getTranslatedText("Okay"),type:"confirm"}];break;case"exitGame|danger":this.title=this.getTranslatedText("Exit this game?"),this.message=this.getTranslatedText("You can rejoin this game again from this device and you won't lose any progress."),P.isExactly(this.currentPage,P.List.IN_GAME.SUMMARY)&&(this.message=this.getTranslatedText("Would you like to exit the game?")),this.buttons=[{text:this.getTranslatedText("Cancel"),type:"default"},{text:this.getTranslatedText("Exit"),type:"danger"}];break;case"playAgainWithADifferentName|confirm":this.title=`${this.getTranslatedText("Play again as")} ${this.playerName}`,this.message=this.getTranslatedText("A game has already been completed using this name."),this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"resumeIncompleteGame|confirm":this.title=`${this.getTranslatedText("Resume game as")} ${this.playerName}`,this.message=this.getTranslatedText("An incomplete game already exists with this name."),this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"groupInvite.linkExpired|confirm":this.title=this.getTranslatedText("Invite Expired"),this.message=this.getTranslatedText("Sorry, this invite has expired. Please ask your teacher to share a new link."),this.centerText=!0;break;case"groupInvite.linkInvalid|confirm":this.title=this.getTranslatedText("Sorry this class invite link is invalid"),this.message=this.getTranslatedText("Please ask your teacher to send a new link."),this.centerText=!0;break;case"groupInvite.alreadyInGroup|confirm":this.title=this.getTranslatedText("Already joined!"),this.message=this.dialog.options.message,this.centerText=!0;break;case"groupGame.notAMemberOfGamesGroup|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.isCorporateUser?`${this.getTranslatedText("To access this game, ")}<span class='text-[#f4b33d]'>${this.email||""}</span>
              ${this.getTranslatedText(" needs to be part of the right group. If you believe this is an error, please check you are logged in with the correct account or request your trainer for access.")}`:this.getTranslatedText("Please ask your teacher to add you to the correct class.");break;case"groupGame.deletedFromAllGameGroups|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("You were removed from this class.");break;case"groupGame.notAllowedInGameGroups|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("You are not part of the classes this game has been assigned to.");break;case"groupGame.shouldJoinViaLink|confirm":this.title=this.getTranslatedText("Join using the Google Classroom link"),this.message=this.getTranslatedText("You should have received a link to join on Google Classroom. Since this is an assigned game, you will need to use that link to join.");break;case"endChallengeGame|danger":this.title=this.getTranslatedText("End this challenge game?"),this.message=this.getTranslatedText("Not all players have finished their game. Are you sure want to end this game?"),this.buttons=[{text:this.getTranslatedText("NO"),type:"default"},{text:this.getTranslatedText("YES"),type:"danger"}];break;case"game.expired|confirm":this.title="",this.message=`${this.getTranslatedText("You ran out of time")}! ${this.getTranslatedText("This game has expired")}.`;break;case"game.expiredLink|confirm":this.title=this.getTranslatedText("This game link has expired"),this.message="";break;case"game.invalidLink|confirm":this.title=this.getTranslatedText("Invalid game link"),this.message="";break;case"game.invalidCode|confirm":case"user.typedInvalidGameCode|confirm":this.title=this.getTranslatedText("Invalid game code"),this.message=this.getTranslatedText("Recheck the provided game code '{$1}', as it is not valid.",[this.dialog.options.invalidGameCode||""]);break;case"game.inTestModeCannotBeReplayed|confirm":this.title="",this.message=this.getTranslatedText("This game cannot be replayed since it was conducted in test mode.");break;case"game.limitAttemptedGameCannotBeReplayed|confirm":this.title="",this.message=this.getTranslatedText("This game cannot be replayed since maximum attempts were limited by the host");break;case"game.noLongerValid|confirm":this.title="",this.message=this.getTranslatedText("Sorry, this game is no longer valid");break;case"game.maxPlayersLimitExceeded|confirm":this.title="",this.message=this.getTranslatedText("This game has exceeded the {$1} player limit.",[this.dialog.options.playerLimit||500]);break;case"game.quizModified|confirm":this.title=this.getTranslatedText("A question was edited"),this.message=this.getTranslatedText("Please refresh to view the updated question. Your previous responses have been saved"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"game.settingsOutOfSync|confirm":this.title=this.getTranslatedText("A Game Setting was changed by the host"),this.message=this.getTranslatedText("Please click refresh for the new setting to be applied"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"player.attemptsLimitExceeded|confirm":this.title=this.getTranslatedText("Game's attempts limit exceeded"),this.message=this.getGameAttemptsLimitReachedMessage();break;case"player.nicknameAlreadyTaken|confirm":this.title=this.getTranslatedText("Choose another nickname"),this.message=this.getTranslatedText("Oops! Someone already picked that one. Try again.");break;case"player.nameAlreadyTaken|confirm":this.title=this.getTranslatedText("Oops! This name is already taken"),this.buttons=[{text:this.getTranslatedText("Change Name"),type:"confirm"}],s?(this.message=this.getTranslatedText("Please pick another name, or log in to resume a previous attempt."),this.buttons.unshift({text:this.getTranslatedText("Log in "),type:"default"})):this.message=this.getTranslatedText("This name is taken, please try a different name.");break;case"player.cannotJoinAfterGameStarts|confirm":this.title="",this.message=this.getTranslatedText("Participants can’t join after the game starts.");break;case"misc.gameQuestionsNotSupported|confirm":this.title=this.getTranslatedText("An error has occurred"),this.message=this.getTranslatedText("Questions of this game are not supported");break;case"misc.errorAndTryAgain|confirm":this.title="",this.message=this.getTranslatedText("An error has occurred. Please Try Again");break;case"game.notFound|confirm":this.title="",this.message=this.getTranslatedText("This game does not exist.");break;case"game.notRunning|confirm":this.title="",this.message=this.getTranslatedText("This game has finished.");break;case"game.retrieveRunningGameDefaultError|confirm":this.title=this.getTranslatedText("Unable to retrieve game"),this.message="";break;case"game.deletePlayer|confirm":this.title="Remove this player?",this.message="Are you sure want to remove this player?",this.buttons=[{text:this.getTranslatedText("NO"),type:"default"},{text:this.getTranslatedText("YES"),type:"danger"}];break;case"quiz.notFound|confirm":this.title=this.getTranslatedText("Quiz not found"),this.message=this.getTranslatedText("This quiz does not exist.");break;case"game.notAllowedToContinue|confirm":this.title="",this.message=this.getTranslatedText("You cannot access this game.");break;case"network.checkInternetConnection|confirm":this.title=this.getTranslatedText("Timed Out"),this.message=`${this.getTranslatedText("Couldn't connect to Quizizz.")} ${this.getTranslatedText("Please check your internet connection and try again.")}`;break;case"network.genericRefreshRequired|confirm":this.title=this.getTranslatedText("Uh oh! Quizizz ran into an error"),this.message=this.getTranslatedText("Please refresh to resolve"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.networkIssue|confirm":this.title=this.getTranslatedText("Couldn't connect to Quizizz."),this.message=this.getTranslatedText("We were unable to end the game. Please try again. Trace: [{$1}].",[e])+this.getTranslatedText("Network speed: {$2}",[t]),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}],this.areBtnUppercase=!1;break;case"proceedGame.timeout|confirm":this.title=this.getTranslatedText("There was a timeout issue."),this.message=this.getTranslatedText("We were unable to save your response. Please try again."),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}],this.areBtnUppercase=!1;break;case"proceedGame.defaultError|confirm":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("There was an unexpected issue. Please try reloading the page."),this.buttons=[{text:this.getTranslatedText("Exit"),type:"error"},{text:this.getTranslatedText("Try again"),type:"success"}],this.areBtnUppercase=!1;break;case"flashcard.cannotStart|confirm":this.title=this.getTranslatedText("Cannot start flashcards"),this.message=this.getTranslatedText("Flashcards currently only supports multiple choice questions and this quiz does not contain any.");break;case"game.cannotStartGameOnPrivateQuiz|confirm":this.title=this.getTranslatedText("Cannot start this game"),this.message=this.getTranslatedText("You cannot play solo games on quizzes that are private."),this.message+=this.getTranslatedText(`
 Please login if you are the creator of this quiz.`);break;case"proceedGame.outOfSync|confirm":this.title=this.dialog.options.alreadyAnswered?this.getTranslatedText("Already answered"):this.getTranslatedText("Out of sync"),this.message=this.getTranslatedText("You cannot answer as you are out of sync with the host."),this.dialog.options.canSync&&(this.buttons=[{text:this.getTranslatedText("Sync now"),type:"confirm"}],this.areBtnUppercase=!1);break;case"proceedGame.ukw":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("There was an unexpected issue. Please try reloading the page."),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.validationFail|confirm":this.title=this.getTranslatedText("Invalid request"),this.message=this.getTranslatedText("There was an unexpected issue. Please try reloading the page."),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.invalidResponse|confirm":this.title=this.getTranslatedText("Invalid response"),this.message=this.getTranslatedText("Response sent to the server was incorrect. Please try again.");break;case"player.invalidPlayerName|confirm":this.title=this.getTranslatedText("Invalid player name"),this.message=this.getTranslatedText("Name should have less than 25 characters"),this.buttons=[{text:this.getTranslatedText("Reset name"),type:"confirm"}];break;case"lms.assignmentLoginRequired|confirm":this.title=this.getTranslatedText("Invalid assignment link"),this.message=this.getTranslatedText("Please click the link in the assignment on your {$1} portal",[this.dialog.options.lmsName]);break;case"proceedGame.cantSave|confirm":this.title=this.getTranslatedText("Response not saved"),this.message=this.getTranslatedText("Unable to save the response. Please try again."),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}];break;case"course.invalidCode|confirm":this.title=this.getTranslatedText("Invalid course link"),this.message=this.getTranslatedText("Please ask your instructor to share correct join link/code");break;case"course.expired|confirm":this.title=this.getTranslatedText("Expired"),this.message=this.getTranslatedText("This course is completed/expired");break;case"course.notStarted|confirm":this.title=this.getTranslatedText("Not Started"),this.message=this.getTranslatedText("Sorry, this course has not yet started");break;case"course.notPartOfGroup|confirm":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("You are not part of the group this course is assigned to. Ask instructor to add you in the group");break;default:this.title="Exit this dialog",this.message="",this.buttons=[{text:this.getTranslatedText("Exit"),type:"danger"}];break}},onButtonClick(e){typeof this.dialog.actionCallback=="function"&&(this.dialog.name==="proceedGame.networkIssue|confirm"&&this.emptyActionErrorTrace(),this.dialog.actionCallback(e))},dismiss(){C(this.dialog,"options.isDismissible",!1)&&this.toggleDialog()},getGameAttemptsLimitReachedMessage(){const{attemptsLimit:e}=this.dialog.options;return e>1?this.getTranslatedText("You cannot re-attempt this game, {$1} attempts already used.",[e]):this.getTranslatedText("You cannot re-attempt this game, {$1} attempt already used.",[e])},getNetworkDownlink(){const e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection||null;return(e==null?void 0:e.downlink)||null}}};function QA(e,t,s,n,a,o){const i=Bo("DialogComponent");return Le(),xs(Vo,{name:"dialog-anim"},{default:Vs(()=>[Ee("div",{class:"dialog-container w-full h-full fixed overflow-auto top-0 left-0 right-0 bottom-0 transition-all flex items-center justify-center m-auto inset-0","data-cy":"alert-dialog-box",onClick:t[1]||(t[1]=(...r)=>o.dismiss&&o.dismiss(...r))},[Ee("div",{ref:"dialogComponent",class:"content w-auto h-auto bg-ds-light-500 text-ds-dark-500 transition-all mx-auto my-0 p-4 rounded-lg sm:w-120 sm:p-6 sm:max-w-[auto]",tabindex:"0",onClick:t[0]||(t[0]=pr(()=>{},["stop"]))},[Is(i,{title:e.title,message:o.completeMessage,buttons:e.buttons,type:o.dialogType,areBtnUppercase:e.areBtnUppercase,centerText:e.centerText,traceId:e.dialog.options&&e.dialog.options.traceId,onOnButtonClick:o.onButtonClick},null,8,["title","message","buttons","type","areBtnUppercase","centerText","traceId","onOnButtonClick"])],512)])]),_:1})}const FA=sn(xA,[["render",QA],["__scopeId","data-v-e6ee2759"]]);function BA(e,{isOver:t,gameState:s,slidesFlowControlType:n}){return function(o){return!e||!t&&s===Et.RUNNING&&n!==Xt.NONE&&!o}}function HA({playerId:e,remainingOrder:t,currentId:s,gameType:n,roomHash:a,areQuestionAttemptsLeft:o,isUserOnReviewScreen:i,isMasteryMode:r,hasReachedMastery:c,isOver:u,slidesFlowControlType:l,gameState:d,questionResponses:m,incorrectQuestionAttempts:_},f={},g){const v=o&&!i,R=f.gameType||n,E=Yo(R),h={...f},L=BA(g,{isOver:u,gameState:d,slidesFlowControlType:l})(v);return A(h)&&(h.roomHash=a,h.playerId=e),h.endedAt=Date.now(),{canMarkPlayerGameOverNow:L,payload:h,isAssignedGame:E}}function jA({gameMode:e,roomHash:t,teams:s,quizId:n,player:a},o,i){const r=e===re.CHALLENGE;let c=!1,u=!1,l={roomHash:t};return i?(c=o.gameOver,l.roomHash=t,u=C(a,"lastGamePlayed.roomHash")===C(o,"roomHash"),l.teams=s,o.teams&&o.teams.length>0&&(l.teams=o.teams),r&&!A(o.leaderboard)&&(l.leaderboard=o.leaderboard)):(c=!0,l={roomHash:t,gameDetails:{quizId:n,accuracy:a.accuracy},playerRank:a.playerRank,gameType:Be.SOLO},u=C(a,"lastGamePlayed.roomHash")===C(o,"data.roomHash")),{isGameOver:c,response:l,shouldClearIncompleteGameData:u,isAChallengeGame:r}}function VA(e,t,s={}){const{roomHash:n}=e.game.data,a=e.user.profile.mongoId||"",o=e.applicationContext.deviceInfo.quizizzUID||"",i={quizNumQuestions:C(s,"numQuestions","12")};return a?i.hostId=a:o&&(i.hostSessionId=o),{quizId:t,roomHash:n,hostId:a,hostSessionId:o,replayMeta:i}}let cc=null;const $A=Pt("postGameAction",()=>{const e=Ht(),t=Jn(),s=mt(),n=tn(),a=Dt(),o=hs(),i=es(),r=Fi(),c=rs(),u=ps(),l=Zn(),d=Ga(),m=ro(),_=Aa();function f(){return{team:r,data:s,player:a,flow:o}}function g(){const D=eo(e.questionResponseStatuses,[Bs.NOT_SENT,Bs.SENDING]),ee=Qs(D).length===0;if(!ee){t.toggleOverlay({type:`responseUnsynced|${Oo.PRE_GAMEOVER}`});return}if(s.gameOptions.hasRedemptionPass!==Ut.hasRedemptionPass.YES){n.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)});return}if(e.orderedRedemptionResponses.length===0)return n.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)}),ee;const ie={firstAttemptAccuracy:a.firstAttemptAccuracy,accuracy:a.accuracy};return Lh(ie)?(n.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)}),ee):(n.requestToChangePage({to:P.get(P.List.IN_GAME.AFTER_REDEMPTION_SECTION)}),cc&&clearTimeout(cc),$e.logEvent(as.COMPLETE_PASS_2,{firstPassAccuracy:a.firstAttemptAccuracy,redemptionPassAccuracy:a.accuracy}),cc=setTimeout(()=>{n.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)})},6e3),ee)}async function v({gameDetails:D={},isForCurrentGame:ee=!0,source:ie=""}={}){const M=Ht(),oe=Dt(),ye=mt(),{isOver:F,playerId:U,lastGamePlayed:H,rank:S,accuracy:G}=oe,{gameType:K,roomHash:ne,isMasteryMode:ue,gameState:de,gameMode:pe,teams:Ae,quizId:ge}=ye,{remainingOrder:Te,currentId:b,areQuestionAttemptsLeft:te,isUserOnReviewScreen:Y,hasReachedMastery:ce,slidesFlowControlType:we,questionResponses:Se,incorrectQuestionAttempts:Re}=M,ct=HA({playerId:U,remainingOrder:Te,isOver:F,gameType:K,currentId:b,roomHash:ne,areQuestionAttemptsLeft:te,isUserOnReviewScreen:Y,isMasteryMode:ue,hasReachedMastery:ce,gameState:de,slidesFlowControlType:we,questionResponses:Se,incorrectQuestionAttempts:Re},D,ee);if(!ct.canMarkPlayerGameOverNow)return{markedPlayerOver:!0};try{let _t;ct.isAssignedGame?_t=(await Hv(ct.payload)).response:_t=(await zv(ct.payload)).response;const pt=jA({gameMode:pe,roomHash:ne,teams:Ae,quizId:ge,player:{lastGamePlayed:H,playerRank:S,accuracy:G}},_t,ct.isAssignedGame);return pt.shouldClearIncompleteGameData&&oe.clearIncompleteGame(),ee&&(pt.isAChallengeGame&&o.setChallengeLiveLeaderboard(pt.response),pt.isGameOver?ye.gameCompleted(pt.response):oe.gameEnded()),{markedPlayerOver:!0}}catch(_t){return N.error("Error at action markPlayerGameOver",_t),ie==="onGameOverPipeline"&&o.setActionErrorTrace({nameList:["onGameOverPipeline","markPlayerGameOver"]}),{markedPlayerOver:!1}}}async function R(){try{const D=f(),{teamId:ee}=D.team,{response:ie}=await Sv(D.data.roomHash,D.player.playerId,ee);if(ie&&(Je(ie.rank)&&a.setCurrentPlayerRank({currentPlayerRank:ie.rank}),Array.isArray(ie.teams)&&ie.teams.length>0)){const{teams:M}=ie,oe=nu(M),ye=D.team.teamId;let F=D.team.rank,U=D.team.score;const H=xt(oe,S=>S.teamId===ye);H&&(F=H.rank,U=H.score),r.setCurrentTeamRank({currentTeamRank:F,currentTeamScore:U,teams:M}),s.setCurrentTeamRank({currentTeamRank:F,currentTeamScore:U,teams:M})}}catch(D){N.error("Error at action getPlayerRank",D)}}function E(){f().flow.hasSeenSummaryAtleastOnce===!1&&o.reachedSummaryForTheFirstTimeInGame(),i.triggerEmbedEvent({eventName:"summaryShown"})}async function h({quizId:D,quizMeta:ee={}}){try{const ie={game:{data:mt()},user:{profile:c},applicationContext:i},M=VA(ie,D,ee),{response:oe}=await w_(M.roomHash,{...M});return m.challengeReplayNotifAcceptedPipeline({roomHash:oe.data.roomHash,roomCode:oe.data.roomCode}),!0}catch(ie){const M=un(ie);let oe=X("Some error occurred while starting game!");return M==="game.ALREADY_REPLAYED"&&(oe=X("A game has already been started")),u.toggleSnackBar({isVisible:!0,options:{message:oe}}),N.error("Error at action replayChallengeGame",ie),!1}}async function k({roomHash:D}){var ee;try{const{response:ie}=await Nd(D),M=((ee=ie==null?void 0:ie.data)==null?void 0:ee.players)||[];let oe=Fs(M,["score"],["desc"]);oe=wt(oe,(ye,F)=>({...Ea(ye,["score","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]),playerId:ye.id,monsterId:ye.monster,rank:F+1,isProfane:Wo(ye.id)})),o.setChallengeLiveLeaderboard({leaderboard:oe})}catch(ie){N.error("Error at action getFinalChallengeLeaderboard: ",ie)}}function L({roomHash:D,shouldResetGame:ee=!1,redirectTo:ie=""}){const{gameState:M}=s,oe=async ye=>{if(ye===0){u.toggleDialog();return}if(ye===1){M===Et.RUNNING&&k({roomHash:D});try{const{response:F}=await Zf({roomHash:D});d.soc_gameOverAll({response:F}),u.toggleDialog(),ee&&(l.resetGame(),a.clearIncompleteGame()),A(ie)||n.requestToChangePage({to:ie})}catch(F){switch(N.error("Error at action endChallengeGameHandler: ",F),u.toggleDialog(),un(F)){case"room.NOT_FOUND":case"room.COMPLETED":case"room.STOPPED":case"room.EXPIRED":case"game.NOT_FOUND":n.requestToChangePage({to:ie||P.get(P.List.LANDING.HOME)});break;default:setTimeout(()=>{u.toggleDialog({name:"misc.errorAndTryAgain|confirm"})},1)}}}};u.toggleDialog({name:"endChallengeGame|danger",actionCallback:oe})}async function q(){var oe,ye,F,U;const{gameState:D,quizId:ee,roomHash:ie}=s,M=D===Et.COMPLETED||D===Et.STOPPED;try{const S=((ye=(oe=es().featureFlags)==null?void 0:oe["game-api-migration"])==null?void 0:ye.defaultValue)==="ENABLED";if(M){const{attemptedGames:de}=await _.retrieveSoloGameAttempts({quizId:ee,updatePreGameInfo:!1,shouldUseGameApi:S})||{};return{attempts:Fs(de,"dateJoined","asc")}}const G=[_.retrieveRunningGame({roomHash:ie,updatePreGameInfo:!1})];s.isAdaptiveLearningGame||G.push(_.retrieveSoloGameAttempts({quizId:ee,updatePreGameInfo:!1,shouldUseGameApi:S}));const[K,ne]=await Promise.all(G),ue=[...((F=K==null?void 0:K.cookedData)==null?void 0:F.currentAttempts)||[],...((U=ne==null?void 0:ne.soloGameData)==null?void 0:U.attemptedGames)||[]];return{attempts:Fs(ue,"dateJoined","asc")}}catch(H){return N.error("Error at getAttemptsToDisplayChart: ",H),{attempts:[]}}}return{getAttemptsToDisplayChart:q,moveOnAfterGameComplete:g,markPlayerGameOver:v,getRankFromServer:R,onSummayMounted:E,replayChallengeGame:h,endChallengeGameHandler:L}}),Ml=Pt("p2pActions",()=>{const e=p(!1),t=p(!1),s=Ht(),n=tn(),a=Dt(),o=p("loading"),i=T(()=>{const{duelData:m}=a;return m.currentStep===2&&m.currentLevel===0||m.currentStep===3&&m.currentLevel>0});function r(){const m=[...s.doneOrderForEvaluatedQuestions];s.currentId&&m.push(s.currentId);const _={questionId:"",doneOrder:m,remainingOrder:[...s.remainingOrder],powerupScopes:["game"]};s.setCurrentQuestion(_),n.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.STUDENT_DUEL)})}async function c(m){var E;const{roomHash:_}=mt(),{playerId:f,duelData:g,updateDuelData:v,resetUnderStrikeData:R}=a;try{const{type:h,targetPlayerId:k,currentPlayerLevel:L}=m;let q=Rd.STANDARD;m.strikeOrShieldType&&(q=m.strikeOrShieldType);const D={targetPlayerId:k,decision:h,roomHash:_,playerId:f,level:g.currentLevel,duelVersion:2.1,type:q};o.value="loading";const{response:ee}=await Vv(D);$e.logEvent("qg_sns_selected",{actionType:h,action:q,actionOutcome:ee.strikeOutcome?ee.strikeOutcome:"shielded",level:L}),R(),m.type===Oc.STRIKE||m.type===Oc.SKIP?v({...ee,playerShield:null}):(v(ee),Dt().addShieldToast({playerId:ee.playerId,type:"shield",decisionType:(E=ee.playerShield)==null?void 0:E.type})),o.value="success"}catch(h){throw o.value="error",N.info("Error on P2P student action",h),h}}function u(m){e.value=m}function l(){t.value=!1,u(!1)}function d(){i.value&&u(!1),t.value=!0}return{waitingForMobileHudAnimation:e,canShiftHUD:t,justReachedLevelUp:i,duelDecisionAPIState:o,makeRefFalse:l,makeRefTrue:d,showP2PSelection:r,P2PStudentAction:c,resetWaitingForMobileHudAnimation:u}});function WA(e={}){return e.reduceMotion!==!0}const fa={$on:(...e)=>ji.on(...e),$once:(...e)=>ji.once(...e),$off:(...e)=>ji.off(...e),$emit:(...e)=>ji.emit(...e)};var _a=(e=>(e.default="default",e.fuji="fuji",e.kilimanjaro="kilimanjaro",e))(_a||{}),Hn=(e=>(e[e.PATHFINDER=0]="PATHFINDER",e[e.CIRCLE_WARS=1]="CIRCLE_WARS",e[e.PODIUM=2]="PODIUM",e))(Hn||{});const YA={id:"default",images:{logo:"https://cf.quizizz.com/join/img/mystic_peak/default_ld_1.png",lobby:{bg:"https://cf.quizizz.com/join/img/mystic_peak/student-lobby.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mystic-peak-mobile-pregame.png"},qna:{phase1:"https://cf.quizizz.com/join/img/mystic_peak/qna-bg.png",mPhase1:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qna-gameplay.png",phase2:"https://cf.quizizz.com/join/img/mystic_peak/qna-forest-bg.png",mPhase2:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qna-gameplay.png",phase3:"https://cf.quizizz.com/join/img/mystic_peak/qna-snowy-rocky.png",mPhase3:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qna-gameplay.png",peak:"https://cf.quizizz.com/join/img/mystic_peak/qa-pathfinder.png",mPeak:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qa-pathfinder.png"},breakroom:{bg:"https://cf.quizizz.com/join/img/mystic_peak/breakroom_bg.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mobile-breakroom.png",breakRoomItemOpen:"https://cf.quizizz.com/join/img/mystic_peak/broken_rock.svg",breakRoomItemClosed:"https://cf.quizizz.com/join/img/mystic_peak/breakroom_rock.svg",cursor:"https://cf.quizizz.com/join/img/mystic_peak/pickaxe.svg"},pathfinder:{bg:"https://cf.quizizz.com/join/img/mystic_peak/qa-pathfinder.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/pathfinder-mobile-bg.png",signboard:"https://cf.quizizz.com/join/img/mystic_peak/ice_rock.svg",mSignboard:"https://cf.quizizz.com/join/img/mystic_peak/pathFinderRockMobile.svg",pioneer:"https://cf.quizizz.com/join/img/mystic_peak/pioneer.svg",leader:"https://cf.quizizz.com/join/img/mystic_peak/leader.svg",trekker:"https://cf.quizizz.com/join/img/mystic_peak/BOOTS.png"},waitingRoom:{bg:"https://cf.quizizz.com/join/img/mystic_peak/waiting-for-others.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mobile-waiting-for-others.png"},podium:{diamondTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_DIAMOND.png",goldTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_GOLD.png",silverTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_SILVER.png",bronzeTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_BRONZE.png",ironTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_IRON.png",diamondBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/diamond-balloon.png",goldBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/gold-balloon.png",silverBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/silver-balloon.png",bronzeBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/bronze-balloon.png",ironBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/iron-balloon.png",sky:"https://cf.quizizz.com/join/img/mystic_peak/Podium.png"},miniGames:{landslide:{bg:"https://cf.quizizz.com/join/img/mystic_peak/landslide.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mobile-landslide.png",rock1:"https://cf.quizizz.com/img/game_mode/Rock1.png",rock2:"https://cf.quizizz.com/img/game_mode/Rock2.png",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/LanslideEducationNew.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/lanslide-new-3.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/land_slide.png"},circleWars:{bg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg-mobile.png",leaderboardTitlePlank:"https://cf.quizizz.com/join/img/mystic_peak/title-plank-1.svg",leaderboardSelf:"https://cf.quizizz.com/join/img/mystic_peak/carving-hero-self.png",leaderboardOther:"https://cf.quizizz.com/join/img/mystic_peak/carving-hero.svg",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-main.png",rope:"https://cf.quizizz.com/join/img/mystic_peak/rope.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars.png"},swarmAttack:{bg:"https://cf.quizizz.com/join/img/mystic_peak/batcave.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/batcave.png",shooter:"https://cf.quizizz.com/join/img/mystic_peak/radar_gun.png",target:"https://cf.quizizz.com/img/game_mode/bat.png",bullet:"https://cf.quizizz.com/join/img/mystic_peak/sound_wave_ico.png",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/powerups/BatCaveEducation.svg",gameIcon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/icon.svg",roundImg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/rounded-icon.png"},matchingPairs:{bg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg-mobile.png",tile:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-tile.png",flipTile:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-tile.png",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-education.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-new-logo.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pair-new.png"}},avalanche:{bg:"https://cf.quizizz.com/game/img/powerups/snow3.png",mBg:"https://cf.quizizz.com/game/img/powerups/snow3.png",icon:"https://cf.quizizz.com/join/img/mystic_peak/avalanche-new.png"},progression:{bg:"https://cf.quizizz.com/join/img/mystic_peak/MountainCompressed.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/level-progression-mobile.png",top:"https://cf.quizizz.com/join/img/mystic_peak/MASTERY%20POINT.svg",cave:"https://cf.quizizz.com/join/img/mystic_peak/MountainCave.svg"}},colors:{pathfinder:{text:"#6D6D6D",correct:"#297227",incorrect:"#9D2727",neutral:"#B6B6B6"},podium:{diamond:"#687693",gold:"#541200",silver:"#777777",bronze:"#632F1E",iron:"#F0F0F0"},miniGames:{circleWars:{scoreToBeat:"#6AFD93",leaderboard:"#FFFFFF",title:"#FFFFFF"},swarmAttack:{barLeft:"#FFB156",barRight:"#FF8131",progressBg:"#76502B",progressBorder:"#966B49"},matchingPairs:{main:"#186455"}},waitingRoom:{text:"#222222"}},sounds:{},fonts:{novaSquare:{url:"https://fonts.googleapis.com/css2?family=Nova+Square&display=swap",name:"Nova Square"},vt323:{url:"https://fonts.googleapis.com/css2?family=VT323&display=swap",name:"VT323"},poppins:{url:"https://fonts.googleapis.com/css2?family=Poppins:wght@800&display=swap",name:"Poppins"}},text:{miniGames:{swarmAttack:{target:"bats"},circleWars:{leaderboardTitle:"Carving Heroes"}},avalanche:{title:X("Avalanche")},breakroom:{intro:"Break a rock to clear your path!",instruction:"Use your pick axe to break the rock"}}},KA={id:"fuji",images:{logo:"https://cf.quizizz.com/img/mpThemes/fuji/images/logos/fuji_ld.png",lobby:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/lobby/desktop-compressed.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/lobby/mobile.png"},qna:{phase1:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/phase1.png",mPhase1:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mphase1.png",phase2:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/phase2.png",mPhase2:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mphase2.png",phase3:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/phase3.png",mPhase3:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mphase3.png",peak:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/peak.png",mPeak:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mpeak.png"},breakroom:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/mobile.png",breakRoomItemOpen:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/open-scroll.svg",breakRoomItemClosed:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/closed-scroll.svg",cursor:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/cursor.svg"},pathfinder:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/mobile.png",signboard:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/signboard.svg",mSignboard:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/msignboard.svg",pioneer:"https://cf.quizizz.com/img/mpThemes/fuji/images/pathfinder/binoculars.svg",leader:"https://cf.quizizz.com/img/mpThemes/fuji/images/pathfinder/compass.svg",trekker:"https://cf.quizizz.com/img/mpThemes/fuji/images/pathfinder/helmet.svg"},waitingRoom:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/waitingRoom/desktop-1.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/waitingRoom/mobile.png"},podium:{diamondTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/diamond.png",goldTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/gold.png",silverTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/silver.png",bronzeTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/bronze.png",ironTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/iron.png",diamondBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/diamond-balloon.svg",goldBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/gold-balloon.svg",silverBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/silver-balloon.svg",bronzeBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/bronze-balloon.svg",ironBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/iron-balloon.svg",sky:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/podium/sky.png"},miniGames:{landslide:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/mobile.png",rock1:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/rock1.svg",rock2:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/rock2.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/tutorial.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/landslide-3.png"},circleWars:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/mobile.png",leaderboardTitlePlank:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/title-plank.svg",leaderboardSelf:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/self.svg",leaderboardOther:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/other.svg",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",rope:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/rope.svg",gameIcon:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/icon.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-new.png"},swarmAttack:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/mobile.png",shooter:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/shooter.svg",target:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/bullet.svg",bullet:"https://cf.quizizz.com/img/mpThemes/fuji/images/miniGames/dangerLand/bullet.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/fuji/images/miniGames/dangerLand/tutorial.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/swarm-attack-icon-3.png"},matchingPairs:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/mobile.png",tile:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/closed.svg",flipTile:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/open.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/fuji/images/miniGames/matchingPairs/tutorial-1.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/fye-new.png"}},avalanche:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/mobile.png",icon:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/icon.svg",bud:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/bud.svg",pinkFlower:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/pink-flower.svg",pinkPetal:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/pink-petal.svg",redFlower:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/red-flower.svg",redPetal:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/red-petal.svg",sideFlower:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/side-flower.svg"},progression:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/mobile.png",top:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/mastery-board.svg",cave:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/dojo.svg"},map:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/map/fuji-map-final.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/map/map-mobile-final.png",sherpa:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/map/sherpa.png"}},colors:{pathfinder:{text:"#FF9797",correct:"#119C73",incorrect:"#9D2727",neutral:"#9C5D61"},podium:{diamond:"#687693",gold:"#541200",silver:"#777777",bronze:"#632F1E",iron:"#F0F0F0"},miniGames:{circleWars:{scoreToBeat:"#EF2424",leaderboard:"#070000",title:"#200909",stroke:"#000000"},swarmAttack:{barLeft:"#3AB1E0",barRight:"#147094",progressBg:"#2B2B60",progressBorder:"#4644B5"},matchingPairs:{main:"#FFFFFF"}},waitingRoom:{text:"#FFFFFF"}},sounds:{judgementCorrect:{src:"https://cf.quizizz.com/img/mpThemes/fuji/sounds/fuji-correct",volume:.2},judgementIncorrect:{src:"https://cf.quizizz.com/img/mpThemes/fuji/sounds/fuji-kili-wrong",volume:.2},gameOver:{src:"https://cf.quizizz.com/img/mpThemes/fuji/sounds/fuji-podium",volume:.8}},fonts:{shojumaru:{url:"https://fonts.googleapis.com/css2?family=Shojumaru&display=swap",name:"Shojumaru"},skranji:{url:"https://fonts.googleapis.com/css2?family=Skranji:wght@400;700&display=swap",name:"Skranji"},stick:{url:"https://fonts.googleapis.com/css2?family=Stick&display=swap",name:"Stick"}},text:{miniGames:{swarmAttack:{target:"fireflies",instruction:"Save yourself from 10 bats to advance faster"},circleWars:{leaderboardTitle:"Ensō Masters"}},avalanche:{title:X("Blossom Avalanche")},breakroom:{intro:"Open a scroll to clear your path!",instruction:"Use your hands to open the scroll"},map:{facts:[X("Mt.Fuji is the 8th highest volcano in Asia."),X("Mt. Fuji is the highest mountain in Japan."),X("Mt. Fuji is encircled by the Fuji Five Lakes."),X("Mt. Fuji stands about 100 kilometers southwest of Tokyo."),X("Mt. Fuji can be seen from there on a clear day."),X("Mt. Fuji is one of Japan’s “Three Holy Mountains.”"),X("Mt. Fuji is a scenic beauty and historic site in Japan.")]}}},JA={id:"kilimanjaro",images:{logo:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/logos/kili_ld.png",lobby:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/lobby/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/lobby/mobile.png"},qna:{phase1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/phase1.png",mPhase1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mphase1.png",phase2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/phase2.png",mPhase2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mphase2.png",phase3:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/phase3.png",mPhase3:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mphase3.png",peak:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/peak.png",mPeak:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mpeak.png"},breakroom:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/breakroom/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/breakroom/mobile.png",breakRoomItemOpen:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/breakroom/open-gunny.svg",breakRoomItemClosed:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/breakroom/closed-gunny.svg",cursor:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/breakroom/cursor.svg"},pathfinder:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/mobile.png",signboard:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/signboard.svg",mSignboard:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/msignboard.svg",pioneer:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/pathfinder/binoculars.svg",leader:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/pathfinder/compass.svg",trekker:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/pathfinder/helmet.svg"},waitingRoom:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/waitingRoom/kd.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/waitingRoom/mBg.png"},podium:{diamondTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/diamond.svg",goldTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/gold-1.svg",silverTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/silver-1.svg",bronzeTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/bronze.svg",ironTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/iron.svg",diamondBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/diamond-balloon.svg",goldBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/gold-balloon.svg",silverBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/silver-balloon.svg",bronzeBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/bronze-balloon.svg",ironBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/iron-balloon.svg",sky:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/podium/sky.png"},miniGames:{landslide:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/mobile.png",rock1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/rock1.svg",rock2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/rock2.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/miniGames/landslide/tutorial.png",gameIcon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/icon-1.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/land_slide.png"},circleWars:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/mobile.png",leaderboardTitlePlank:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/title-plank.svg",leaderboardSelf:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/self.svg",leaderboardOther:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/other.svg",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",rope:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/rope.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-main.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars.png"},swarmAttack:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/mobile.png",shooter:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/shooter.svg",target:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/mosquito.svg",bullet:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/bullet.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/miniGames/swarmAttack/tutorial.svg",gameIcon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/icon.png",roundImg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/rounded-icon.png"},matchingPairs:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/mobile.png",tile:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/closed.svg",flipTile:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/open.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/miniGames/matchingPairs/tutorial.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-new-logo.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pair-new.png"}},avalanche:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/mobile.png",icon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/icon.svg",fireball1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/fireball-1.svg",fireball2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/fireball-2.svg"},progression:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/mobile.png",top:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/mastery-board-1.svg",cave:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/cave.svg"},map:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/map/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/map/mobile.png",sherpa:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/map/sherpa.png"}},colors:{pathfinder:{text:"#F6B100",correct:"#136E91",incorrect:"#94340B",neutral:"#30525D"},podium:{diamond:"#9CFFFF",gold:"#FFD344",silver:"#323130",bronze:"#360A00",iron:"#BCBCBC"},miniGames:{circleWars:{scoreToBeat:"#6AFD93",leaderboard:"#E1E1E1",title:"#FFFFFF",stroke:"#FFFFFF"},swarmAttack:{barLeft:"#00A38C",barRight:"#02755C",progressBg:"#80CFDC",progressBorder:"#F5EFE3"},matchingPairs:{main:"#FFFFFF"}},waitingRoom:{text:"#FFFFFF"}},sounds:{judgementCorrect:{src:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/sounds/kili-correct",volume:.2},judgementIncorrect:{src:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/sounds/fuji-kili-wrong",volume:.2},gameOver:{src:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/sounds/kili-podium",volume:.8}},fonts:{skranji:{url:"https://fonts.googleapis.com/css2?family=Skranji:wght@400;700&display=swap",name:"Skranji"},stick:{url:"https://fonts.googleapis.com/css2?family=Stick&display=swap",name:"Stick"},alatsi:{url:"https://fonts.googleapis.com/css2?family=Alatsi&display=swap",name:"Alatsi"}},text:{miniGames:{swarmAttack:{target:"mosquitoes",instruction:"Save yourself from 10 mosquitoes to advance faster"},circleWars:{leaderboardTitle:"Painting Pros"}},avalanche:{title:X("Lavalanche")},breakroom:{intro:"Open a bag to clear your path!",instruction:"Use your hands to open the bag"},map:{facts:[X("Mt. Kilimanjaro is the highest mountain in Africa."),X("Mt. Kilimanjaro is the highest free-standing mountain in the world."),X("Mt. Kilimanjaro is a dormant volcano."),X("Mt. Kilimanjaro is part of Kilimanjaro National Park."),X("Mt. Kilimanjaro is a major climbing destination."),X("Mt. Kilimanjaro has three volcanic cones."),X("Mt. Kilimanjaro is a UNESCO World Heritage Site.")]}}},Gl={default:YA,fuji:KA,kilimanjaro:JA},XA={STREAK_SAVER:"streak-saver"};function NO(e="",t,s=!1,n=_a.default){const a=Bt.getConfig(),o={...pv,...mv};if(e!==""){if(s){if(e==="glitch")switch(n){case _a.fuji:return"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/icon.svg";case _a.kilimanjaro:return"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/icon.svg";default:return"https://cf.quizizz.com/join/img/mystic_peak/avalanche-new.png"}return o[e].image.xs}return t===Mt.PHONE?a[e].image.sm:a[e].image.lg}return""}function DO(e=""){const t=Bt.getConfig();return!e||!t[e]?"":`linear-gradient(180deg, ${t[e].styles.backgroundGradientColor} 0%, rgba(0, 0, 0, 0) 125%), #000000`}function ZA(e,t={}){const a=[],o=Ln(t,{rewardBeforeQuestionStart:!0,beltSize:3,minimumBufferBetweenEnd:2}),i=o.beltSize+o.minimumBufferBetweenEnd+1;let r=0;const c=()=>e-r,u=()=>r===0?10:8;if(e<=0)return a;for(o.rewardBeforeQuestionStart&&a.push(0);c()>=u();){if(c()<=u()+o.minimumBufferBetweenEnd)return a;if(c()<u()+i)return r+=u()-o.minimumBufferBetweenEnd,a.push(r),a;r+=u(),a.push(r)}return a}function eT({powerups:e,currentPowerupEffects:t,currentlyAwardedPowerups:s,areAllRemainingQuestionsMSQ:n,areAllGameQuestionsWithoutCorrectAnswer:a,doesRemainingQuestionsOptionsCountEqualsTwo:o,isTimerOn:i,gameType:r,areAllRemainingQuestionsFIB:c}){const u=[],l={areAllRemainingQuestionsMSQ:n,areAllGameQuestionsWithoutCorrectAnswer:a,doesRemainingQuestionsOptionsCountEqualsTwo:o,isTimerOn:i,isGameTypeSolo:r===Be.SOLO,isGameTypeAsync:r===Be.ASYNC,areAllRemainingQuestionsFIB:c},d=Oi(t,"name"),m=Oi(s,"name");return ot(e,_=>{const{type:f}=_.probability,{weight:g}=_.probability;let v=!0;const R=d[_.name]||0,E=m[_.name]||0;f==="global"&&R===g&&(v=!1),_.validateToAward(l)&&v&&u.push({..._,numTimesAwarded:E})}),u}function tT(e,t){let s=0,n=0;const a=4;ot(e,d=>{d.probability.type==="local"?s+=d.probability.weight/a**d.numTimesAwarded:d.probability.type==="global"&&(n+=t.totalPlayers<=15&&t.beltId<=0?d.probability.weight:0)});const o=t.maxPowerupsPerPlayer*Math.max(t.totalPlayers,15),i=(o-n)/s,r=[];let c=0;ot(e,d=>{let m=0;d.probability.type==="local"?m=i*(d.probability.weight/a**d.numTimesAwarded):d.probability.type==="global"&&(m=2*d.probability.weight),c+=m/o;const _={range:c,powerUpName:d.name};r.push(_)});const u=qi(0,gr(r).range);let l="";for(let d=0;d<r.length;d++){const m=d===0?0:r[d-1].range,_=r[d].range;if(m<=u&&_>=u){l=r[d].powerUpName;break}else if(d===r.length-1)return r[d].powerUpName}return l}function ql(e,{rootState:t,getters:s}){const{game:n,powerupEffect:a,powerup:o}=t,i=s.currentQuestionCurrentAttemptResponse,r=Bt.getConfig(),c=wt(r,d=>d),u=(s.powerupsGameplay.maxInitialShufflesAllowed+s.powerupsGameplay.rewardPositions.length)*s.powerupsGameplay.normalBeltSize,l=[];for(let d=0;d<e;d++){const m=eT({powerups:Fs(c,f=>f.probability.type,"desc"),currentPowerupEffects:a.list,currentlyAwardedPowerups:o.list,areAllRemainingQuestionsMSQ:s.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:s.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:s.doesRemainingQuestionsOptionsCountEqualsTwo,isTimerOn:s.isQuestionTimerOn,gameType:n.data.gameType,areAllRemainingQuestionsFIB:s.areAllRemainingQuestionsFIB}),_=tT(m,{maxPowerupsPerPlayer:u,totalPlayers:n.data.totalPlayers,beltId:s.currentPowerupsBeltId});gd(c,f=>f.name===_),l.push({name:_,meta:{...yu({state:n,name:_,getters:s,metaProps:r[_].meta,meta:{}}),questionId:i.questionId||"",attempt:s.currentQuestionCurrentAttemptIndex,questionNum:s.currentQuestionNumber,beltPosition:d}})}return l}function Ul(e){const t=Bt.getConfig(),s=[];return ot(t,n=>{var a;((a=n.nudge)==null?void 0:a.type)===e&&s.push(n.name)}),Fs(s,n=>{var a,o;return(o=(a=t[n])==null?void 0:a.nudge)==null?void 0:o.priority},"asc")}function LO({name:e}){return!!Bt.getConfig()[e]}function zO(e){var t,s,n;return!!((n=(s=(t=e==null?void 0:e.scoreBreakup)==null?void 0:t.powerups)==null?void 0:s[0])!=null&&n.score)}function MO({name:e}){const s=Bt.getConfig()[e],a=(s.target||[]).includes("players"),o=a?s.targetting.count:0;return{shouldTarget:a,count:o}}function GO(){const e=Bt.getConfig();return Kn(e,(t,s,n)=>((s.specialEffects||{}).usesGlowEffect===!0&&t.push(n),t),[])}function sT(e,{rootState:t,getters:s}){const{game:n}=t,a=s.currentQuestionCurrentAttemptResponse,o=Bt.getConfig();return{name:e,meta:{...yu({state:n,name:e,getters:s,metaProps:o[e].meta,meta:{}}),questionId:a.questionId||"",attempt:s.currentQuestionCurrentAttemptIndex,questionNum:s.currentQuestionNumber}}}function nT(){const e=Ht(),t=hs(),s=e.currentId,n=e.currentQuestionCurrentAttemptIndex;t.pushTimerEventForQuestion({questionId:s,attempt:n,eventType:Vn.RESET}),t.pushTimerEventForQuestion({questionId:s,attempt:n,eventType:Vn.FREEZE})}const uc={resetAndFreezeTimerBar:nT};class aT{constructor(t,s,n){this.addAction=t,this.effectManager=s,this.powerupToActivate=n}activatePowerup(t){const s=On();this.addAction(s.activatePowerupFromMysteryBox,t)}getPowerupsConfig(){return Bt.getConfig()}}const Bi=Pt("powerupEffect",()=>{const e=Dt(),t=p([]),s=p([]);function n(h){t.value.push(h.powerupEffect)}function a(h){const k=xt(t.value,L=>L.id===h.powerupEffect.id);k&&(k.status=h.powerupEffect.status)}function o(h){t.value=h.powerupEffects}function i(h){s.value=h.powerupEffects}function r(h){s.value=ca(s.value,h.powerupEffects)}function c(h){t.value=h.player.powerupEffects}function u(){t.value=[],s.value=[]}const l=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?Jt(t.value,k=>h[k.name].applicationScope==="streak"&&k.status!==ia.DESTROYED):[]}),d=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?Jt(t.value,k=>h[k.name].applicationScope==="answer"&&k.status!==ia.DESTROYED):[]}),m=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?Jt(t.value,k=>h[k.name].applicationScope==="question"&&k.status!==ia.DESTROYED):[]}),_=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?Jt(t.value,k=>h[k.name].applicationScope==="game"&&k.status!==ia.DESTROYED):[]}),f=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?Jt(t.value,k=>h[k.name].applicationScope==="before-answer"&&k.status!==ia.DESTROYED):[]}),g=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?Jt(t.value,k=>h[k.name].applicationScope==="post-answer"&&k.status!==ia.DESTROYED):[]}),v=T(()=>Jt(t.value,h=>h.status==="ACTIVATED")),R=T(()=>{const h=Bt.getConfig();return Qs(h).length>0?!1:!!t.value.find(L=>h[L.name].powerupType===Er.ACTIVATOR&&L.status==="ACTIVATED")}),E=T(()=>{const h=Bt.getConfig();return k=>{const{playerId:L}=e,q=t.value.find(D=>h[D.name].powerupType===Er.ACTIVATOR&&D.id===k);return A(q)?"":q.meta.boxPowerup_0.players.includes(L)?q.meta.boxPowerup_0.name:q.meta.boxPowerup_1.name}});return{destroyList:s,list:t,streakScopePowerupEffects:l,answerScopePowerupEffects:d,questionScopePowerupEffects:m,gameScopePowerupEffects:_,beforeAnswerPowerupEffects:f,postAnswerPowerupEffects:g,activatedPowerupEffects:v,doesMysteryPowerupEffectExist:R,powerupToActivateFromMysteryBox:E,$reset:u,addPowerupEffect:n,updatePowerupEffect:a,updatePowerupEffects:o,updatePowerupEffectDestroyList:i,addPowerupEffectToDestroyList:r,rejoinGameResponded:c}});class Pm{constructor(){qe(this,"currentPlayerId");const t=Dt();this.currentPlayerId=t.playerId}getPowerupTargets(t){return t.targets||[]}getPowerupApplier(t){return t.player||{}}isCurrentPlayerTheTarget(t){const s=this.getPowerupTargets(t);return A(s)?void 0:s.map(a=>a.id).includes(this.currentPlayerId)}isCurrentPlayerTheApplier(t){return this.currentPlayerId===this.getPowerupApplier(t).playerId}}const qO={overlay:"overlay",toast:"toast"},Ri={teacher:"teacher",student:"student"},ba=Pt("powerup",()=>{const e=p([]),t=p([]),s=p({}),n=p(_o.NIL),a=p({}),o=p(!1),i=p(!1),r=Ht(),c=mt(),u=hs(),l=Dt(),d=Bi(),m=T(()=>{const w=[re.TEST,re.PRESENTATION,re.TEACHER_PACED,re.FLASHCARD,re.MYSTIC_PEAK],{gameMode:$,isPowerupsOn:W}=c;return W&&!d.doesMysteryPowerupEffectExist&&!w.includes($)}),_=T(()=>({normalBeltSize:3,maxInitialShufflesAllowed:3,nudges:{ratioOfQuestionTimeLeftToShowNudge:50/100,maxSecondsToWaitForWhileAnsweNudge:25},rewardPositions:pt(r.totalInteractiveSlidesInGame)})),f=T(()=>(e.value||[]).filter(w=>w.status===Nn.AWARDED)),g=T(()=>{const{rewardPositions:w}=_.value,$=xt(yc([...w]),W=>r.hasCurrentQuestionBeenAnswered?r.currentQuestionNumber>=W:r.currentQuestionNumber>W);return Je($)?$:-1}),v=T(()=>g.value),R=T(()=>{const{rewardPositions:w}=_.value,$=xt(w,W=>r.hasCurrentQuestionBeenAnswered?r.currentQuestionNumber<W:r.currentQuestionNumber<=W);return Je($)?$:-1}),E=T(()=>R.value>-1?R.value:r.totalQuestionsInGame),h=T(()=>{const w=Jt(e.value,fe=>{if(fe.isTeacherPowerup)return!1;const Ne=fe.meta.questionNum;return Je(Ne)?Op(g.value,E.value+1).includes(Ne):!0}),$=md(w,fe=>fe.meta.beltPosition),W=Do(Object.keys($),Number.parseInt);for(let fe=0,Ne=W.length;fe<Ne;fe++)$[W[fe]]=Fs($[W[fe]],[Ye=>Ye.questionNum,Ye=>Ye.status===Nn.AWARDED],["asc","asc"]);return W.map(fe=>gr($[fe])||{})}),k=T(()=>{if(!m.value)return{};const w=r.currentQuestion.type||"";return{scopes:t.value||[],isQuestionTypeMCQ:w===se.MCQ,isQuestionTypeOpen:w===se.MCQ,isQuestionTypeBlank:w===se.MCQ,doesQuestionHaveCorrectAnswer:Qi(r.currentQuestion),options:r.currentQuestion.options||[],activePlayersList:c.activePlayersList}}),L=T(()=>!!xt(d.list,$=>$.meta.questionId===r.currentId&&$.meta.attempt===r.currentQuestionCurrentAttemptIndex)),q=T(()=>{const w=Bt.getConfig();return h.value.map($=>{const W=w[$.name],fe=g.value,Ne=E.value-fe,Ye=100-Math.floor((r.currentQuestionNumber-fe)/Ne*100);if($.status===Nn.ACTIVATED)return{...$,isUsed:!0,isDisabled:!0,powerupAvailablityPerc:Ye};if(A(W))return{...$,powerupAvailablityPerc:Ye};let Me=W.validateToActivate(k.value)&&!L.value&&!Ze($.name);const{gameOptions:_e,gameType:Oe,gameMode:je}=c;return r.totalQuestionsRemaining===0&&Po.isPass1Completed(Oe,je,_e,r.answerLaterQuestions.length,r.remainingOrder.length)&&(Me=Me&&!["streak-booster","streak-saver","time-freeze"].includes($.name)),{...$,isDisabled:!Me,powerupAvailablityPerc:Ye}})}),D=T(()=>{const{isCurrentQuestionForRedemptionAttempt:w,previousQuestionAddedToAnswerLater:$,currentQuestionNumber:W}=r,fe=_.value.normalBeltSize;return w||!m.value||$?!1:h.value.length===0?E.value-W>=fe:R.value===W}),ee=T(()=>{const w=s.value[v.value]||[];return Jt(w,{questionNumber:r.currentQuestionNumber})}),ie=T(()=>!A(ee.value)),M=T(()=>{const w=r.currentQuestionNumber-g.value;if(w<3)return!1;const $=66/100,W=_.value.normalBeltSize*_.value.rewardPositions.length,fe=Math.floor($*W);if((s.value[v.value]||[]).length>=fe)return!1;const Ye=E.value-g.value,Me=Jt(q.value,gt=>!gt.isDisabled).length,_e=Me>=_.value.normalBeltSize;let Oe=0;return w===3&&_e?Oe=Me/(2*_.value.normalBeltSize-Me):Oe=$*(Me/(2*_.value.normalBeltSize-Me))*(w/Ye),a.value[r.currentQuestion.id]<=Oe&&!ie.value&&!r.hasCurrentQuestionBeenAnswered&&!r.previousQuestionAddedToAnswerLater}),oe=T(()=>n.value>=_o.START),ye=T(()=>{if(!oe.value)return-1;const w=n.value;for(let $=0,W=_o.Powerups.length;$<W;$++){const fe=kp(_o.Powerups[$]),Ne=gr(_o.Powerups[$]);if(w>=fe&&w<=Ne)return $+1}return-1}),F=T(()=>w=>{const $=q.value,W=Ul(w);return $.filter(fe=>!fe.isDisabled&&W.includes(fe.name))}),U=T(()=>w=>{const $=q.value,W=Ul(w),fe=$.filter(Me=>!Me.isDisabled&&W.includes(Me.name));if(fe.length<=0)return{};const Ne=Do(fe,Me=>Os(fe,_e=>_e===Me.name));let Ye=Ne[0];if(Ye.name===XA.STREAK_SAVER&&l.currentStreak<1){if(Ne.length===1)return{shouldShow:!1,powerup:""};[,Ye]=Ne}return{shouldShow:!A(Ye),powerup:Ye}}),H=T(()=>{const w=qi(1,10);return!M.value||w<=5?{shouldShow:!1,powerup:""}:U.value(lf.PRE_QUESTION)}),S=T(()=>e.value.filter($=>$.isTeacherPowerup&&$.status===Nn.AWARDED)[0]||{}),G=T(()=>{var w;return r.remainingOrder.length===0&&i.value?!1:o.value&&((w=S.value)==null?void 0:w.name)}),K=w=>{const $={isVisible:!1};u.changeOptionAppearance({optionIndex:w,appearanceChanges:$})},ne=w=>{const $={isVisible:!0};u.changeOptionAppearance({optionIndex:w,appearanceChanges:$})},ue=w=>{const $=As(u.currentOptionsAppearance);ot(w,W=>{$[W]={...$[W],wasPreviouslySelected:!0}}),u.changeCurrentOptionsAppearance({currentOptionsAppearance:$})},de=()=>{fa.$emit("question:clearTypedAnswer")},pe=()=>{fa.$emit("question:resetOptions")},Ae=w=>{Array.isArray(s.value[w.beltId])&&(s.value[w.beltId]=[]),s.value[w.beltId].push(w.nudge)},ge=({type:w,questionNumber:$,forPowerup:W})=>{Ae({beltId:v.value,nudge:{type:w,questionNumber:$,forPowerup:W}})},Te=w=>{var $;e.value=($=e.value)==null?void 0:$.concat(w.powerups)},b=w=>{e.value=e.value.map($=>{const W=w.powerups.find(fe=>fe.id===$.id);return W?{...$,...W}:$})},te=w=>{t.value=w.powerupScopes},Y=w=>{t.value=A(w.powerupScopes)?t.value:w.powerupScopes,jt(!1)},ce=w=>{const $=pt(w.room.questionIds.length),W={};ot($,Me=>{W[Me]=[]});const{powerups:fe}=w.player,Ne=fe.filter(Me=>Me.meta.source===Ri.teacher).map(Me=>({...Me,isTeacherPowerup:!0})),Ye=fe.filter(Me=>Me.meta.source!==Ri.teacher);e.value=[...Ye,...Ne],bt(Ne),s.value=W,a.value=Kn(w.room.questionIds,(Me,_e)=>{const Oe=Me;return Oe[_e]=Math.random(),Me},{})},we=ce,Se=ce,Re=ce,Qe=_t,ct=_t;function _t(){e.value=[],t.value=[],s.value={},n.value=_o.NIL,a.value={}}const yt=w=>{n.value=w.progress};function pt(w){return ZA(w,{rewardBeforeQuestionStart:!0,beltSize:3,minimumBufferBetweenEnd:0})}function Ze(w){const $=xt(d.activatedPowerupEffects,Ne=>Ne.name===w);return!$?!1:!new Pm().isCurrentPlayerTheTarget($.meta)}function ht(w){Te({powerups:{...w.powerup,isTeacherPowerup:!0}})}function Lt(w){o.value=!0,ht(w)}function Gt(){S.value.name&&On().activatePowerup({...S.value,meta:{source:Ri.teacher}}),It()}function It(){o.value=!1}function jt(w){i.value=w}function bt(w){if(w.length>0){const $=w.filter(W=>W.status===Nn.AWARDED);if($.length){const W={powerup:$[0],isTeacherPowerup:!0};Lt(W)}}}return{list:e,currentScopes:t,nudgesInteracted:s,powerupBoxAwardProgress:n,nudgesQuestionProbabilityMap:a,powerupWaitingToBeApplied:i,canPowerupsBeAwardedInThisGame:m,powerupsGameplay:_,availablePowerups:f,currentPowerupsBeltId:v,powerupsInBelt:h,payloadForActivateValidation:k,isPowerupActivatedForCurrentQuestionAndAttempt:L,usablePowerupsBelt:q,questionNumForNextPowerupReplace:R,beltLastRewardedOnQuestion:g,willNewPowerupsBeltBeAwardedThisQuestion:D,questionNumberForAwardOrGameEnd:E,nudgesInteractedOnCurrentQuestion:ee,canShowNudgeOnThisQuestion:M,isPowerupBoxAwardInProgress:oe,powerupNumberAnimatingInBoxAward:ye,getPowerupsToShowNudgeFor:F,evaluateNudgeForPowerup:U,canShowPreQuestionNudgeOnThisQuestion:H,canShowTeacherPowerupIntro:G,teacherPowerupToApply:S,hideOption:K,showOption:ne,setOptionsAsPreviouslySelected:ue,clearTypedAnswer:de,resetOptions:pe,powerupNudgeInteracted:ge,setBoxAwardProgress:yt,awardPowerups:Te,updatePowerups:b,answerCurrentQuestion:te,rejoinGameResponded:we,setCurrentQuestion:Y,joinRoomResponded:Se,joinSoloGameResponded:Re,exitGame:Qe,resetGame:ct,addPowerupNudgeInteraction:Ae,setTeacherPowerup:ht,processTeacherPowerup:Lt,applyTeacherPowerup:Gt,hidePowerupIntro:It,setPowerupWaitingToBeApplied:jt}});class oT{constructor(t){qe(this,"addAction");this.addAction=t}hideOption(t=0){const s=ba();this.addAction(s.hideOption,t)}showOption(t=0){const s=ba();this.addAction(s.showOption,t)}setOptionsAsPreviouslySelected(t=[]){const s=ba();this.addAction(s.setOptionsAsPreviouslySelected,t)}clearTypedAnswer(){const t=ba();this.addAction(t.clearTypedAnswer)}resetOptions(){const t=ba();this.addAction(t.resetOptions)}}class iT{constructor({answer:t,options:s,id:n,type:a}){qe(this,"answer");qe(this,"options");qe(this,"id");qe(this,"type");this.answer=t,this.options=s,this.id=n,this.type=a}getAnswer(){return this.answer}getOptions(){return wt(this.options,(t,s)=>({...t,isCorrect:this.answer.includes(s)}))}getId(){return this.id}getType(){return this.type}}class rT{constructor({isCorrect:t,actualSelectedIndices:s}){qe(this,"isCorrect");qe(this,"moveAhead");qe(this,"actualSelectedIndices");this.isCorrect=t,this.moveAhead=!0,this.actualSelectedIndices=s}getCorrectness(){return this.isCorrect}setMoveAhead(t){this.moveAhead=t}canMoveAhead(){return this.moveAhead}getActualSelectedIndices(){return this.actualSelectedIndices}}function bm(e){return Or(e,{powerupEffectId:"",powerupId:"",name:"",score:0})}function Cu(e){const t=Or({...e,powerups:ko(e,"powerups")?wt(e.powerups,bm):[]},{base:0,timer:0,streak:0,powerups:[],total:0});return t.total=Pp(t.base+t.timer+t.streak+jc(t.powerups,"score")),t}class cT{constructor(t,{base:s,timer:n,streak:a,total:o}){this.base=s,this.timer=n,this.streak=a,this.total=o,this.powerups=[],this.effectManager=t}getBase(){return this.base}getDefaultBase(){return ra.BASE}getTimer(){return this.timer}getDefaultTimer(){return ra.TIMER}getStreak(){return this.streak}getTotal(){return this.total}pushScore(t){const s=this.effectManager.getEffect();this.total+=t,this.powerups.push(bm({powerupEffectId:s.id,powerupId:s.powerupId,name:s.name,score:t}))}getTransformed(){return Cu({base:this.getBase(),timer:this.getTimer(),streak:this.getStreak(),total:this.getTotal(),powerups:this.powerups})}}const Mi={ROOT:"qg_ui_overlay_root",GAME:"qg_ui_overlay_game"},Lc={POWERUP_STEAL_POINTS:"powerupStealPoints",POWERUP_OPEN_BOX:"powerupOpenBox"},uT={name:"",id:bp(6),targetId:Mi.ROOT,createdAt:new Date,data:{},options:{theme:"dark",isDissmissable:!0,transition:"fade"}};function lT(e){return Or(e,uT)}const dT=Pt("ui",()=>{const e=p([]),t=p([]),s=T(()=>t.value.length>0);function n({name:i,targetId:r,data:c,options:u={}}){N.invariant(Object.values(Lc).includes(i),`showOverlay: Given 'name'- ${i} of the overlay needs to be in the list of 'OverlayNames'`),N.invariant(Object.values(Mi).includes(r),`showOverlay: Given 'name'- ${r} of the overlay needs to be in the list of 'OverlayTargetIds'`);const l=lT({name:i,targetId:r,data:c,options:u});return t.value.push(l),l}function a({id:i="",name:r="",targetId:c=""}){const u=t.value.filter(l=>!(l.id===i||l.name===r||l.targetId===c));t.value=u}function o(){t.value=[]}return{visibleIds:e,overlays:t,isAnyOverlayVisible:s,showOverlay:n,hideOverlay:a,hideAllOverlays:o}});class mT{constructor(t){this.addAction=t,this.gameAppearance={},this.activatedPowerupEffects=[]}changeGameAppearance(t){const s=hs();this.addAction(s.changeGameAppearance,t)}updatePowerupGameFlow(t){const s=hs();this.addAction(s.updatePowerupGameFlow,t)}setGameAppearance(t){this.gameAppearance=t}getGameAppearance(){return this.gameAppearance}setActivatedPowerupEffects(t){this.activatedPowerupEffects=As(t)}getParticularActivatedPowerupEffects(t){return Jt(this.activatedPowerupEffects,n=>n.name===t)}getGameAppearanceStatus(t){return this.getGameAppearance()[t]}showOverlay({name:t,data:s}){const n=dT();switch(t){case Lc.POWERUP_STEAL_POINTS:n.showOverlay({name:t,data:s,targetId:Mi.GAME});break;case Lc.POWERUP_OPEN_BOX:n.showOverlay({name:t,data:s,targetId:Mi.GAME,options:{isDissmissable:!1}});break;default:N.error("Targetting.showOverlay: the given overlay name by the powerup is not present")}}}class pT{constructor(t,{currentStreak:s,previousStreak:n}){this.addAction=t,this.currentStreak=s,this.previousStreak=n}getPreviousStreak(){return this.previousStreak}setPreviousStreak(t){this.previousStreak=t}getCurrentStreak(){return this.currentStreak}setCurrentStreak(t){this.currentStreak=t;const s=Dt();this.addAction(s.updateStreak,{currentStreak:t})}getTransformed(){return{previousStreak:this.getPreviousStreak(),currentStreak:this.getCurrentStreak()}}}class gT{constructor(){this.effect=null}getEffect(){return this.effect}setEffect(t){this.effect=t}}class fT{constructor(t){this.actions=[],this.effectManager=t}addAPI(t,s){this[t]=s}setEffect(t){this.effectManager.setEffect(t)}addAction(t,s){this.actions.push({action:t,payload:s})}dispatchActions(t=!0){this.actions.forEach(s=>{const{action:n,payload:a}=s;typeof n=="function"&&n(a)}),t&&(this.actions=[])}}class _T{constructor(){this.effectManager=null}init(){this.effectManager=new gT}createAPI({base:t=0,timer:s=0,streak:n=0,total:a=0,currentStreak:o=0,previousStreak:i=0,isCorrect:r=!1,actualSelectedIndices:c=[],powerupToActivate:u={},gameAppearance:l={},activatedPowerupEffects:d=[]}){const m=new fT(this.effectManager),_=m.addAction.bind(m),f=new mT(_);return f.setGameAppearance(l),f.setActivatedPowerupEffects(d),m.addAPI("score",new cT(this.effectManager,{base:t,timer:s,streak:n,total:a})),m.addAPI("streak",new pT(_,{currentStreak:o,previousStreak:i})),m.addAPI("question",this.getQuestionAPI()),m.addAPI("response",new rT({isCorrect:r,actualSelectedIndices:c})),m.addAPI("activate",new aT(_,m.effectManager,u)),m.addAPI("options",new oT(_)),m.addAPI("specialEffects",f),m.addAPI("targetting",new Pm({powerupToActivate:u})),m}getQuestionAPI(){const t=Ht(),{currentQuestion:s}=t;let n=[],a=[],o="",i="";return s&&(n=Array.isArray(s.answer)?s.answer:[s.answer],a=s.options,o=s.id,i=s.type),new iT({answer:n,options:a,id:o,type:i})}}const $a=new _T;class hT{validate(t,s,n=!1){const a=Ht(),o=Dt(),i=mt(),r=Bt.getConfig(),c=r[t.name],u=a.currentId,l=a.currentQuestionCurrentAttemptIndex,d=o.playerId,{gameMode:m,gameType:_}=i,f={};return c.meta.includes("questionId")&&(f.questionId=u),c.meta.includes("attempt")&&(f.attempt=l),c.meta.includes("currentPlayerId")&&(f.currentPlayerId=d),t.name==="glitch"&&ga(m,_)&&(f.warningTime=Pc[re.MYSTIC_PEAK].powerups.avalanche.warningTime),r[t.name].validateToApply(t.meta,f,s)||n}apply(t,s,n){const a=On(),o=Bi();try{const i=Bt.getConfig();this.validate(t,s,n)&&(s.setEffect(t),i[t.name].onApply(s,t.meta),s.dispatchActions(),i[t.name].destroyOn==="response"?o.addPowerupEffectToDestroyList({powerupEffects:[t]}):i[t.name].destroyOn==="immediate"&&a.destroyPowerupEffect(t))}catch(i){N.error("Error at PowerupEffects.apply, destroying effect:- ",i),a.destroyPowerupEffect(t)}}applyPurely(t,s,n){try{const a=Bt.getConfig();return this.validate(t,s,n)?(s.setEffect(t),a[t.name].onApply(s,t.meta),{applied:!0,destroyOn:a[t.name].destroyOn}):{applied:!1}}catch(a){return N.error("Error at PowerupEffects.apply :- ",a),{destroyOn:null}}}applyEffects(t=[],s,n=!1){ot(t,a=>{this.apply(a,s,n)})}applyEffectsPurely(t=[],s,n=!1){const a={};return ot(t,o=>{const i=this.applyPurely(o,s,n);i.applied===!0&&(A(a[i.destroyOn])&&(a[i.destroyOn]=[]),a[i.destroyOn].push(o))}),{powerupEffectsToDestroy:a}}destroy(t,s){const n=Bt.getConfig();s.setEffect(t),Ms(n[t.name].onDestroy)&&n[t.name].onDestroy(s)}destroyEffects(t=[],s){ot(t,n=>{this.destroy(n,s)}),s.dispatchActions()}applySpecialEffects(t=[],s,n){const a=Bt.getConfig();ot(t,o=>{A(a[o.name].specialEffects)||!Ms(a[o.name].specialEffects[s])||(a[o.name].specialEffects[s].apply(a[o.name],[n,o.meta]),!(A(a[o.name].timedActions)||A(a[o.name].timedActions[s]))&&a[o.name].timedActions[s].forEach(i=>{setTimeout(()=>{i.do.apply(a[o.name],[n,o.meta]),n.dispatchActions()},i.time)}))}),n.dispatchActions()}}const jn=new hT,Nm=Pt("controlCenter",()=>{const e=p(!1),t=p();function s({showTryAgainIndicator:f}){e.value=f,t.value=setTimeout(()=>{e.value=!1},rr.ResponseIndicatorTimer.BASE)}const n=p(),a=p(!1),o=p(!1),i=p(!1),r=p(!1),c=p(!1),u=p(!1),l=p(-1),d=p(null);function m(f){const g=mt(),{gameMode:v}=g;n.value&&clearTimeout(n.value);const{movedToAnswerLater:R=!1}=f;R&&(a.value=R),yo(f.showQuestionCorrectIndicator)&&(o.value=f.showQuestionCorrectIndicator),yo(f.showQuestionIncorrectIndicator)&&(i.value=f.showQuestionIncorrectIndicator),yo(f.showSlideInteractionDoneIndicator)&&(r.value=f.showSlideInteractionDoneIndicator&&v!==re.TEST),yo(f.showQuestionSkippedIndicator)&&(c.value=f.showQuestionSkippedIndicator),yo(f.showPartiallyCorrectIndicator)&&(u.value=f.showPartiallyCorrectIndicator),Je(f.numberOfCorrectOptions)&&(l.value=f.numberOfCorrectOptions),Je(f.totalNumberOfOptions)&&(d.value=f.totalNumberOfOptions),o.value||i.value||r.value||c.value?(c.value&&(n.value=setTimeout(()=>{c.value=!1},1500)),n.value=setTimeout(()=>{o.value=!1,i.value=!1,r.value=!1,c.value=!1},rr.ResponseIndicatorTimer.BASE+rr.ResponseIndicatorTimer.WHEN_BONUS_POINTS)):a.value&&(n.value=setTimeout(()=>{a.value=!1},2e3))}function _(f){Nm().$patch(f)}return{showTryAgainIndicator:e,showTryAgainIndicatorTimer:t,toggleShowingTryAgainIndicator:s,showIndicatorTimer:n,showAnswerLaterIndicator:a,showQuestionCorrectIndicator:o,showQuestionIncorrectIndicator:i,showSlideInteractionDoneIndicator:r,showPartiallyCorrectIndicator:u,showQuestionSkippedIndicator:c,numberOfCorrectOptions:l,totalNumberOfOptions:d,onEvaluationComplete:m,setState:_}}),Ls={IDLE:-1,PAUSED:0,RUNNING:1,CLEARED:-2,STOPPED:-1};class UO{constructor(t=()=>{},s,n=!0){qe(this,"_cycleStartTime");qe(this,"_remainingTime");qe(this,"status");qe(this,"callback",()=>{});qe(this,"timeoutTime");qe(this,"_resumeTimeout");qe(this,"currentTimeout");this._cycleStartTime=0,this._remainingTime=0,this.status=Ls.IDLE,this.callback=t,this.timeoutTime=s,n&&this.start()}start(){(this.status===Ls.IDLE||this.status===Ls.CLEARED)&&(this.status=Ls.RUNNING,this._setTimeout())}reStart(){this.clear(),this.start()}pause(){this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status===Ls.RUNNING&&(this.currentTimeout&&clearTimeout(this.currentTimeout),this._remainingTime===0?this._remainingTime=this.timeoutTime-(Date.now()-this._cycleStartTime):this._remainingTime-=Date.now()-this._cycleStartTime,this.status=Ls.PAUSED)}resume(t=this._remainingTime){if(this.status===Ls.PAUSED){const s=Je(t)?t:this._remainingTime;this.status=Ls.RUNNING,this._cycleStartTime=Date.now(),this._resumeTimeout=setTimeout(()=>{this._remainingTime=0,this._cycleStartTime=Date.now(),this.callback&&this.callback(),this._setTimeout()},s)}}flush(){this.clear(),this.callback&&this.callback()}clear(){this.currentTimeout&&clearTimeout(this.currentTimeout),this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status=Ls.CLEARED}changeTimer(t){this.timeoutTime=t,this.status===Ls.RUNNING&&(this.pause(),this.resume())}_setTimeout(){this._cycleStartTime=Date.now(),this.currentTimeout=setTimeout(()=>{this.callback&&this.callback()},this.timeoutTime)}}class xO{constructor(t=()=>{},s,n,a=!1,o=!1){qe(this,"_cycleStartTime");qe(this,"_remainingTime");qe(this,"status");qe(this,"callback",()=>{});qe(this,"timeoutTime");qe(this,"intervalTime");qe(this,"_resumeTime");qe(this,"execOnLeading");qe(this,"_resumeTimeout");qe(this,"currentInterval");this._init(),this.callback=t,this.intervalTime=s,this.execOnLeading=a,Je(n)&&(this._resumeTime=n),o&&this.start()}_init(){this.status=Ls.IDLE,this._remainingTime=0,this._cycleStartTime=0}start(){this.status=Ls.RUNNING,this._cycleStartTime=Date.now(),this.execOnLeading&&this.callback&&this.callback(),this._setInterval()}pause(){this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status===Ls.RUNNING&&(this.currentInterval&&clearInterval(this.currentInterval),this._remainingTime===0?this._remainingTime=this.intervalTime-(Date.now()-this._cycleStartTime):this._remainingTime-=Date.now()-this._cycleStartTime,this.status=Ls.PAUSED)}resume(t=this._remainingTime){const s=t||this._resumeTime||this._remainingTime;this.status===Ls.PAUSED&&(this.status=Ls.RUNNING,this._cycleStartTime=Date.now(),this._resumeTimeout=setTimeout(()=>{this._remainingTime=0,this._cycleStartTime=Date.now(),this.callback&&this.callback(),this._setInterval()},s))}stop(){this.clear(),this._init(),this.status=Ls.STOPPED}changeInterval(t){this.intervalTime=t,this.status===Ls.RUNNING&&(this.pause(),this.resume())}flush(){this.stop(),this.callback&&this.callback()}clear(){this.currentInterval&&clearInterval(this.currentInterval),this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status=Ls.CLEARED}_setInterval(){this.currentInterval=setInterval(()=>{this._cycleStartTime=Date.now(),this.callback&&this.callback()},this.intervalTime)}}function zc(e=0){return new Promise(t=>{setTimeout(()=>{t({})},e)})}async function QO(e,t){const s=Date.now(),n=await e,a=t-(Date.now()-s);return a>0&&await zc(a),n}const ET=Pt("updateSubmitState",()=>{const e=p(),t=p(!1),s=p(!1),n=p(!1),a=p(!1),o=p(!1),i=p(!1),r=p(!1),c=p(!1),u=p(!1),l=p(!1),d=p(!1),m=p(!1),_=Ht(),{slidesFlowControlType:f}=Nt(_),g=T(()=>f.value===Xt.NONE);function v(R){R.isSubmitBtnProgressing&&!a.value?e.value=setTimeout(()=>{o.value=!0},3e3):!R.isSubmitBtnProgressing&&a&&(e.value&&clearTimeout(e.value),o.value=!1),u.value=us(R.isAnswerLaterBtnProcessing)?R.isAnswerLaterBtnProcessing:u.value,t.value=us(R.isAllowedToSubmitAnswer)?R.isAllowedToSubmitAnswer:t.value,n.value=us(R.isSubmitBtnRequired)?R.isSubmitBtnRequired:n.value,s.value=us(R.isSubmitBtnVisible)?R.isSubmitBtnVisible:s.value,a.value=us(R.isSubmitBtnProgressing)?R.isSubmitBtnProgressing:a.value,l.value=us(R.isReEditingAnswerAllowed)?R.isReEditingAnswerAllowed:l.value,i.value=us(R.isResetBtnRequired)?R.isResetBtnRequired:i.value,r.value=us(R.isAllowedToResetOptions)?R.isAllowedToResetOptions:r.value,c.value=us(R.isAnswerLaterBtnVisible)?R.isAnswerLaterBtnVisible:c.value,d.value=us(R.skipAnimationInProgress)?R.skipAnimationInProgress:d.value,g.value||(m.value=us(R.isSkipButtonRequired)?R.isSkipButtonRequired:m.value)}return{submitTooltipTimer:e,isAllowedToSubmitAnswer:t,isSubmitBtnVisible:s,isSubmitBtnRequired:n,isSubmitBtnProgressing:a,isSubmitButtonTooltipVisible:o,isResetBtnRequired:i,isAllowedToResetOptions:r,isAnswerLaterBtnVisible:c,isAnswerLaterBtnProcessing:u,isReEditingAnswerAllowed:l,skipAnimationInProgress:d,isSkipButtonRequired:m,updateSubmitState:v}}),Ft={QUES_TEXT:"ques_text",QUES_IMAGE:"ques_image",QUES_VIDEO:"ques_video",QUES_AUDIO:"ques_audio",QUES_HINT:"ques_hint",OPTION_1_TEXT:"op_1_text",OPTION_2_TEXT:"op_2_text",OPTION_3_TEXT:"op_3_text",OPTION_4_TEXT:"op_4_text",OPTION_5_TEXT:"op_5_text",OPTION_6_TEXT:"op_6_text",OPTION_7_TEXT:"op_7_text",OPTION_8_TEXT:"op_8_text",OPTION_9_TEXT:"op_9_text",OPTION_10_TEXT:"op_10_text",OPTION_11_TEXT:"op_11_text",OPTION_12_TEXT:"op_12_text",OPTION_13_TEXT:"op_13_text",OPTION_14_TEXT:"op_14_text",OPTION_15_TEXT:"op_15_text",OPTION_16_TEXT:"op_16_text",OPTION_17_TEXT:"op_17_text",OPTION_18_TEXT:"op_18_text",OPTION_19_TEXT:"op_19_text",OPTION_20_TEXT:"op_20_text",POSITION_1_TEXT:"pos_1_text",POSITION_2_TEXT:"pos_2_text",POSITION_3_TEXT:"pos_3_text",POSITION_4_TEXT:"pos_4_text",POSITION_5_TEXT:"pos_5_text",SLIDE_TITLE_TEXT:"slide_title_text",SLIDE_SUBTITLE_TEXT:"slide_subtitle_text",SLIDE_PARA_TEXT:"slide_para_text",SLIDE_BULLET_TEXT:"slide_bullet_text",SLIDE_IMAGE_TEXT:"slide_image_text",SLIDE_EMBEDED_WEBPAGE:"slide_embeded_webpage"},xl=[Ft.QUES_IMAGE,Ft.QUES_VIDEO,Ft.QUES_AUDIO,Ft.QUES_TEXT,Ft.OPTION_1_TEXT,Ft.OPTION_2_TEXT,Ft.OPTION_3_TEXT,Ft.OPTION_4_TEXT,Ft.OPTION_5_TEXT,Ft.OPTION_6_TEXT,Ft.OPTION_7_TEXT,Ft.OPTION_8_TEXT,Ft.OPTION_8_TEXT,Ft.OPTION_10_TEXT,Ft.POSITION_1_TEXT,Ft.POSITION_2_TEXT,Ft.POSITION_3_TEXT,Ft.POSITION_4_TEXT,Ft.POSITION_5_TEXT,Ft.SLIDE_TITLE_TEXT,Ft.SLIDE_SUBTITLE_TEXT,Ft.SLIDE_PARA_TEXT,Ft.SLIDE_IMAGE_TEXT,Ft.SLIDE_EMBEDED_WEBPAGE,Ft.SLIDE_BULLET_TEXT],wu=Pt("readAloud",()=>{const e=p({}),t=p(xl),s=p(!1),n=p(!0),a=p(!0),o=p(1),i=p(""),r=p(""),c=p(0),u=p({});function l(E){wu().$patch(E)}function d({raId:E,text:h}){if(!E.includes(Ft.SLIDE_BULLET_TEXT)&&!Object.values(Ft).includes(E)){N.invariant(Object.values(Ft).includes(E),`addReadAloudIds: raId '${E}' does not exist in registered ReadAloudIds`);return}e.value[E]=h}function m({raId:E,data:h}){if(!E.includes(Ft.SLIDE_BULLET_TEXT)&&!Object.values(Ft).includes(E)){N.invariant(Object.values(Ft).includes(E),`addTTSIds: raId '${E}' does not exist in registered TTSIds`);return}u.value[E]=h}function _({raId:E}){E in e.value&&(e.value[E]="")}function f(E){const{order:h}=E;if(h.length===Object.values(Ft).length){for(let k=0;k<h.length;k++)if(!Object.values(Ft).includes(h[k])){N.invariant(Object.values(Ft).includes(h[k]),`setReadAloudinputOrder: '${h[k]}' does not exist in registered ReadAloudIds`);return}t.value=h}else N.invariant(!1,"setReadAloudOrder: order should contains all values from registered ReadAloudIds")}function g(){e.value={}}function v(){u.value={}}function R(){e.value={},t.value=xl,s.value=!1,n.value=!0,a.value=!0,o.value=1,i.value="",r.value="",c.value=0,u.value={}}return{activeRAIds:e,order:t,isPlaying:s,isDisabled:n,willAutoReadAloudQuestion:a,rate:o,currentIdBeingRead:i,highlightedWord:r,highlightedWordIndex:c,activeTTSIds:u,updateReadAloudV2:l,addReadAloudIds:d,addTTSIds:m,removeReadAloudIds:_,setReadAloudOrder:f,flushActiveRAIds:g,flushTTSIds:v,$reset:R}});function vT(e,t,s,n,a,o){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:3901578,hjsv:6},a=t.getElementsByTagName("head")[0],o=t.createElement("script"),o.async=1,o.src=s+e._hjSettings.hjid+n+e._hjSettings.hjsv,a.appendChild(o)}function AT(e){return e!=null&&e.microsoft?"microsoft":e!=null&&e.google?"google":e!=null&&e.phoneNumber?"mobile":e!=null&&e.email?"email":""}class Ir{static setUserAttributes(t){var s;if(!(!t.mongoId||!window.hj)&&t.mongoId&&window.hj){const n=AT(t);window.hj("identify",t==null?void 0:t.id,{user_id:t==null?void 0:t.mongoId,occupation:t==null?void 0:t.occupation,country:t==null?void 0:t.country,plan:(s=t==null?void 0:t.currentPlanStatus)==null?void 0:s.status,createdAt:t==null?void 0:t.createdAt,organizationId:t==null?void 0:t.organization,studentUnderage:t==null?void 0:t.isUnderAge,paidOrganization:t==null?void 0:t.paidOrganization,organizationRole:t==null?void 0:t.organizationRole,experiment:Ts.getCookie("QUIZIZZ_EXP_NAME"),signupType:n})}}static triggerEvent(t){window.hj&&window.hj("event",t)}}function dn(e){return`${String(e)}_${Ts.getCookie("QUIZIZZ_EXP_NAME")}`}const Dm={GAME_LOAD:dn("game_load"),HOTJAR_MATCH_QUESTION_ACTIVE:dn("match_question_active"),HOTJAR_REORDER_QUESTION_ACTIVE:dn("reorder_question_active"),HOTJAR_DRAGDROP_QUESTION_ACTIVE:dn("dragdrop_question_active"),HOTJAR_DROPDOWN_QUESTION_ACTIVE:dn("dropdown_question_active"),HOTJAR_MATH_RESPONSE_QUESTION_ACTIVE:dn("math_response_question_active"),HOTSPOT_QUESTION_ACTIVE:dn("hotspot_question_active"),CLASSIFICATION_QUESTION_ACTIVE:dn("classification_question_active"),HOTJAR_DND_IMAGE_QUESTION_ACTIVE:dn("dnd_image_question_active"),HOTJAR_STUDENT_RAISED_HAND:"student_raised_hand",READ_ALOUD_ENABLED:dn("read_aloud_enabled"),HOTJAR_START_SKIP_ENABLED_GAME:dn("start_skip_enabled_game"),HOTJAR_SKIP_QUESTION_CLICKED:dn("skip_question_clicked"),HOTJAR_GRAPHING_QUESTION_ACTIVE:dn("graphing_question_active"),HOTJAR_MYSTIC_PEAK:"mystic_peak_active",HOTJAR_PARTICIPANT_REPORTING_ISSUE:"participating_reporting_issue",HOTJAR_FIBV2_QUESTION_ACTIVE:dn("fibv2_question_active"),HOTJAR_P2P_GAME_ACTIVE:"p2p_game_active",STUDENT_ATTEMPTING_QUESTIONS:"student_attempting_questions",EARLY_FINISHERS_SUMMARY:"early_finishers_summary",FLASHCARD_V1_ACTIVE:"student_flashcard_V1"};function Lm(){const{currentQuestion:e,isCurrentQuestionForRedemptionAttempt:t,isUserOnReviewScreen:s,currentId:n,totalAnswerLaterQuestions:a,questionResponses:o,currentQuestionNumber:i,totalQuestionsInGame:r,selectedRCTabIndex:c}=Nt(Ht()),{answerLaterFlow:u,currentQuestionStartTime:l}=Nt(hs()),{isMasteryMode:d,roomHash:m,gameOptions:_}=Nt(mt()),{readAloud:f}=Nt(es()),{selectedTheme:g}=Nt(ln()),{accuracy:v}=Nt(Dt()),{isDisabled:R}=Nt(wu()),E=T(()=>new Date(l.value).getTime()),h=T(()=>_.value.jumbleAnswers),k=T(()=>_.value.showAnswers),L=T(()=>_.value.reviewAndSubmit),q=T(()=>_.value.timer),D=T(()=>u.value.inProgress),ee=T(()=>f.value.highlight||{}),ie=T(()=>{const ye=Object.keys(o.value),F=new Set;return ye.forEach(U=>{o.value[U].forEach(S=>{S.result==="CORRECT"&&F.add(U)})}),F.size}),M=T(()=>d.value?ie.value:D.value?a.value.indexOf(n.value)+1:i.value),oe=T(()=>D.value?a.value.length:r.value);return{...Nt(Ht()),...Nt(hs()),...Nt(mt()),...Nt(es()),...Nt(ln()),...Nt(Dt()),...Nt(ps()),currentQuestionId:n,currentTheme:g,currentAccuracy:v,isReadAloudOn:R,gameId:m,rawQuestion:e,isRedemptionAttempt:t,isReviewScreenGame:s,totalQuestions:oe,currentQuestionNumber:M,correctQuestionsCount:ie,questionStartTime:E,shouldShuffleOptions:h,showAnswers:k,isReviewAndSubmitEnabled:L,timerGameOption:q,isSkipQueueInProgess:D,highlightReadAloud:ee,selectedRCTabIndex:c}}function Na(){const{currentQuestionId:e,comprehensionQuestionId:t,hasComprehensionQuestion:s,comprehensionQuestion:n,comprehensionQuestions:a,comprehensionQuestionListDisplayState:o,comprehensionQuestionIndexStart:i,comprehensionQuestionIndexEnd:r,currentQuestionIndexInComprehension:c,currentQuestionNumber:u,areAllComprehensionQuestionsAttempted:l,isComprehensionQuestionVisited:d,isInComprehensionView:m,comprehensionQuestionCurrentAttempt:_,numberOfComprehensionQuestionsAttempted:f,numberOfComprehensionQuestions:g,nextComprehensionQuestionId:v,previousComprehensionQuestionId:R,isComprehensionQuestionNavigationEnabled:E,selectedRCTabIndex:h}=Lm(),{setComprehensionQuestionListVisibility:k,setIsComprehensionQuestionNavigationEnabled:L,onSelectQuestion:q}=On(),D=T(()=>i.value+c.value),ee=T(()=>i.value===D.value),ie=T(()=>r.value===D.value),M=T(()=>o.value[t.value]===vn.VISIBLE),oe=T(()=>!m.value||o.value[t.value]===vn.HIDDEN),ye=T(()=>!oe.value&&o.value[t.value]===vn.COLLAPSED),F=T(()=>{var Te;return((Te=n.value)==null?void 0:Te.type)===se.COMPREHENSION_VIDEO}),U=T(()=>h.value===1);function H(Te){h.value=Te}function S(){fa.$emit("question:onAnswerLater")}function G(){k({key:t.value,value:vn.HIDDEN})}function K(Te){const{dontSave:b=!1}=Te||{};b||S(),k({key:t.value,value:vn.VISIBLE}),H(1)}function ne(){k({key:t.value,value:vn.COLLAPSED}),H(0)}function ue(){L({value:!0})}function de(){L({value:!1})}async function pe(Te){H(1),G(),ue(),e.value!==Te&&await q({selectedQuestionId:Te})}async function Ae(){S(),v.value&&await pe(v.value)}async function ge(){S(),R.value&&await pe(R.value)}return{areAllComprehensionQuestionsAttempted:l,comprehensionQuestionId:t,hasComprehensionQuestion:s,comprehensionQuestion:n,comprehensionQuestions:a,comprehensionQuestionIndexStart:i,comprehensionQuestionIndexEnd:r,currentQuestionIndexInComprehension:c,currentQuestionNumber:u,currentQuestionNumberInComprehension:D,comprehensionQuestionCurrentAttempt:_,numberOfComprehensionQuestionsAttempted:f,numberOfComprehensionQuestions:g,selectedTabIndex:h,isComprehensionQuestionVisited:d,isComprehensionQuestionNavigationEnabled:E,isInComprehensionView:m,isFirstQuestion:ee,isLastQuestion:ie,isQuestionListVisible:M,isQuestionListCollapsed:ye,isQuestionListHidden:oe,isQuestionListTabVisible:U,isVideoComprehension:F,hideQuestionsList:G,showQuestionsList:K,collapseQuestionsList:ne,handleSelectQuestion:pe,handleNextQuestion:Ae,handlePreviousQuestion:ge,setSelectedTabIndex:H,enableNavigation:ue,disableNavigation:de}}const Mc=Pt("videoComprehension",()=>{const{gameMode:e}=Lm(),{gameOptions:t}=mt(),{isCurrentQuestionForRedemptionAttempt:s}=Ht(),n=p(0),a=p(0),o=p(!1),i=p(0),r=p(""),c=T(()=>e.value===re.TEACHER_PACED||n.value<a.value||s?!0:!d(n.value));function u(k){n.value=k,a.value=Math.max(a.value,k)}function l(){var D,ee;const{comprehensionQuestion:k}=Na(),{isQuestionAttempted:L}=Ht();if(!k.value)return;const q=(ee=(D=k.value)==null?void 0:D.comprehensionTimestamps)==null?void 0:ee[Math.round(a.value)];return q==null?void 0:q.find(ie=>!L(ie))}function d(k){var ee,ie;const{comprehensionQuestion:L}=Na(),{isQuestionAttempted:q}=Ht();if(!L.value)return!1;const D=(ie=(ee=L.value)==null?void 0:ee.comprehensionTimestamps)==null?void 0:ie[Math.round(k)];return D?D==null?void 0:D.some(M=>!q(M)):!1}function m(k){var oe,ye;const{comprehensionQuestion:L,comprehensionQuestions:q}=Na(),{isQuestionAttempted:D,isAnswerCorrect:ee}=Ht();if(!L.value)return"bg-ds-light-500";const ie=(oe=L.value)==null?void 0:oe.comprehensionTimestamps[Math.round(k)];if(!ie||t.reviewAndSubmit||t.showAnswers===Ut.ShowAnswers.NEVER)return"bg-ds-light-500";let M=!1;for(const F of ie)if(D(F)){M=!0;const U=(ye=q.value)==null?void 0:ye.find(H=>H.id===F);if(!ee(F)&&Qi(U))return"bg-red"}return M?"bg-green":"bg-ds-light-500"}function _(k,L){var ie;const{isQuestionAttempted:q}=Ht(),D=Object.keys(k);if(s||!q((ie=k==null?void 0:k[D[0]])==null?void 0:ie[0]))return 0;const ee=D.find(M=>k[M].find(oe=>!q(oe)));return ee||(a.value=L),ee&&Number(ee)}function f(){var q;const{comprehensionQuestion:k}=Na(),{isQuestionAttempted:L}=Ht();return(q=k.value)==null?void 0:q.comprehensionQuestionIds.some(D=>!L(D))}function g(k){o.value=k}function v(k){i.value=k}function R(k){a.value=k}function E(){n.value=0,a.value=0,o.value=!1,i.value=0,r.value=""}function h(){return n.value>=i.value}return{videoCurrentTime:n,maxPlayedTime:a,isPlaying:o,duration:i,allowPlayAhead:c,currentComprehensionQuestionId:r,setIsPlaying:g,setVideoCurrentTime:u,reset:E,setDuration:v,isVideoEnded:h,unAttemptedQuestionsLeftInTimestamp:d,getTimestampDiamondColor:m,getPreviousStoppedAttemptTimestamp:_,getNextUnattemptedQuestion:l,areQuestionsRemainingToAttempt:f,setMaxTime:R}});class TT{async loadQuicksand(){try{const t="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;700&display=swap";await fetch(t),setTimeout(()=>{const s=document.createElement("link");s.href=t,s.rel="stylesheet",document.head.appendChild(s)})}catch{if(window&&window.FontFace&&Ms(window.FontFace)){const t=[new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff") format("woff")',{weight:"400"}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff") format("woff")',{weight:"500"}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff") format("woff")',{weight:"700"})],s=t.map(n=>n.load());try{await Promise.all(s),t.forEach(n=>document.fonts.add(n))}catch{this.loadQuicksandManually()}return}this.loadQuicksandManually()}}loadQuicksandManually(){const t=document.createElement("style");document.head.appendChild(t);const s=t.sheet;s&&(s.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff") format("woff");
        font-weight: 400;
        font-display: swap;
      }
    `,0),s.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff") format("woff");
        font-weight: 500;
        font-display: swap;
      }
    `,1),s.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff") format("woff");
        font-weight: 700;
        font-display: swap;
      }
    `,2))}loadFonts(){try{const t=Object.values(rm.fontFamily);for(let s=0;s<t.length;s++){const n=t[s].url;if(!A(n)&&!!A(document.querySelectorAll(`link[href="${n}"]`))){const o=document.createElement("link");o.href=n,o.rel="stylesheet",document.head.appendChild(o)}}}catch{N.log("Error loading fonts")}}async loadOpenDyslexic(){if(window&&window.FontFace&&Ms(window.FontFace)){const t=[new FontFace("OpenDyslexic3",'url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff") format("woff")',{weight:"400"})],s=t.map(n=>n.load());try{await Promise.all(s),t.forEach(n=>document.fonts.add(n))}catch(n){N.log("Error loading OpenDyslexic3",n),this.loadOpenDyslexicManually()}}else this.loadOpenDyslexicManually()}loadOpenDyslexicManually(){try{const t=document.createElement("style");document.head.appendChild(t);const s=t.sheet;s&&s.insertRule(`
      @font-face {
        font-family: "OpenDyslexic3";
        src: url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff") format("woff");
        font-weight: 400;
        font-display: swap;
      }
    `,0)}catch(t){N.log("Error loading OpenDyslexic3 manually",t)}}loadFontsByUrls(t){N.log(`Loading fonts ${JSON.stringify(t)}`);try{for(let s=0;s<t.length;s++){const n=document.createElement("link");n.href=t[s],n.rel="stylesheet",document.head.appendChild(n)}}catch{N.log(`Error loading fonts ${JSON.stringify(t)}`)}}}const zm=new TT;function Mm(){const e=mt(),{masteryPeakTheme:t}=Nt(e),s=T(()=>t.value),n=T(()=>s.value&&Gl[s.value]?s.value:_a.default),a=T(()=>Gl[n.value]),o=p({pathfinder:{category:"QuickSand",text:"QuickSand"},circleWars:{score:"QuickSand",leaderboard:"QuickSand"},podium:{rank:"Poppins"}}),i=T(()=>a.value.sounds);return{activeThemeId:n,theme:a,customFonts:o,inGameSoundsToLoad:i,loadThemeFonts:c=>{const u=[],l={};switch(a.value.id){case _a.fuji:switch(c){case Hn.PATHFINDER:u.push(a.value.fonts.shojumaru.url),u.push(a.value.fonts.skranji.url),Object.assign(l,{pathfinder:{category:a.value.fonts.shojumaru.name,text:a.value.fonts.skranji.name}});break;case Hn.CIRCLE_WARS:u.push(a.value.fonts.shojumaru.url),u.push(a.value.fonts.stick.url),Object.assign(l,{circleWars:{score:a.value.fonts.stick.name,leaderboard:a.value.fonts.shojumaru.name}});break;case Hn.PODIUM:u.push(a.value.fonts.shojumaru.url),Object.assign(l,{podium:{rank:a.value.fonts.shojumaru.name}});break}break;case _a.kilimanjaro:switch(c){case Hn.PATHFINDER:u.push(a.value.fonts.skranji.url),u.push(a.value.fonts.alatsi.url),Object.assign(l,{pathfinder:{category:a.value.fonts.skranji.name,text:a.value.fonts.alatsi.name}});break;case Hn.CIRCLE_WARS:u.push(a.value.fonts.skranji.url),Object.assign(l,{circleWars:{score:a.value.fonts.skranji.name,leaderboard:a.value.fonts.skranji.name}});break;case Hn.PODIUM:u.push(a.value.fonts.skranji.url),Object.assign(l,{podium:{rank:a.value.fonts.skranji.name}});break}break;default:switch(c){case Hn.PATHFINDER:u.push(a.value.fonts.novaSquare.url),Object.assign(l,{pathfinder:{category:a.value.fonts.novaSquare.name,text:"QuickSand"}});break;case Hn.CIRCLE_WARS:u.push(a.value.fonts.vt323.url),Object.assign(l,{circleWars:{score:a.value.fonts.vt323.name,leaderboard:"QuickSand"}});break;case Hn.PODIUM:u.push(a.value.fonts.poppins.url),Object.assign(l,{podium:{rank:a.value.fonts.poppins.name}});break}break}return zm.loadFontsByUrls(u),o.value=l,l}}}function Qo(){const{media:e}=ps(),t=T(()=>Object.values(e).join("")),s=T(()=>()=>t.value),n=T(()=>e.type===Mt.DESKTOP),a=T(()=>e.type===Mt.PHONE),o=T(()=>e.type===Mt.TABLET),i=T(()=>e.orientation===la.PORTRAIT),r=T(()=>e.orientation===la.LANDSCAPE),c=T(()=>(e.width||0)<=896),u=T(()=>c.value&&e.orientation===la.LANDSCAPE);return{getDeviceDiscriminatorWrapper:s,isDesktop:n,isMobile:a,isTablet:o,isPortrait:i,isLandscape:r,isMobileWidth:c,isMobileLandscape:u}}var Gm=(e=>(e.Front="front",e.Back="back",e))(Gm||{}),Ou=(e=>(e.Study="study",e.Practice="practice",e))(Ou||{});const Sr=Pt("flashcardv2",()=>{const e=p(Gm.Front),t=p(Ou.Practice),s=p([]),n=p([]),a=p([]),o=p(!1),i=p(!1);function r(g){e.value=g}function c(g){t.value=g}function u(g){s.value=g}function l(g){n.value=g}function d(g){a.value=g}function m(g){const v=g.filter(E=>E.isCorrect).map(E=>E.questionId),R=g.filter(E=>!E.isCorrect).map(E=>E.questionId);l(v),d(R)}function _(g){o.value=g}function f(g){i.value=g}return{flashcardSide:e,flashcardMode:t,bookmarkedFlashcardIds:s,correctFlashcardIds:n,incorrectFlashcardIds:a,isReplayFlow:o,openSoloFlashcardFlow:i,setFlashcardSide:r,setFlashCardMode:c,setBookmarkedFlashcardIds:u,setCorrectFlashcardIds:l,setIncorrectFlashcardIds:d,setCorrectIncorrectFlashcardIdsFromAPI:m,setIsReplayFlow:_,setOpenSoloFlashcardFlow:f}});var Gr=(e=>(e.STUDENT_PACED="student",e.TEACHER_PACED="teacher",e.QUESTIONS_DONE="questions_done",e))(Gr||{});const gi=Cn.MASTERY_MODE_ANIMATION_PRESETS,yT={PLAYER:"player",HOST:"host"};let lc=null,dc=null;const IT=Pt("inGameActions",()=>{const e=mt(),t=tn(),s=Dt(),n=hs(),a=es(),o=Fi(),i=ps(),r=Jn(),c=ba(),u=Au(),l=Bi(),d=Zn(),m=$A(),_=ET(),{isVideoComprehension:f}=Na(),{theme:g}=Mm(),{getRootState:v}=Ga();function R(){return{...v(),powerup:c,powerupEffect:l}}function E(){return R().game}async function h(y){const O=E();try{const{response:x}=await Ov(y),ae=O.questions.slidesFlowControlType===Xt.NONE;if(x.skipped){if(O.questions.updateSkippedQuestions(y.questionId),n.isMysticPeak&&xh(),O.questions.isAnswerLaterQuestion&&O.questions.attemptedAnswerLaterQuestion(),ae){const me={...(O.questions.list||[])[y.questionId],id:y.questionId,state:mn.REVEAL};Re(me)}else{const B={doneOrderForEvaluatedQuestions:O.questions.doneOrderForEvaluatedQuestions,isCurrentQuestionSkipped:O.questions.isCurrentQuestionSkipped,isMasteryMode:O.data.isMasteryMode,numberOfComprehensionQuestionsUnattempted:O.questions.numberOfComprehensionQuestionsUnattempted};O.questions.remainingOrder=yr({getters:B,remainingQuestionsOrder:O.questions.remainingOrder,isProceed:!1});const me=[...O.questions.remainingOrder],{shouldShowRedemptionQuestion:J,mutationPayload:De,shouldShowAnswerLaterQuestions:He,shouldShowReviewQuestions:le,answerLaterMutationPayload:he}=Ol(O,B,!1);if(le){bs(De),O.flow.showingAnswerLaterQuestions({inProgress:!1});return}if(J){fe(De);return}if(He){ve(he);return}if(me.length<1)return t.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)}),{success:!0};const Pe=me[0];me.shift(),ce({nextQuestion:{questionId:Pe},remainingOrder:me})}return{success:!0}}}catch(x){return N.error(["Error at action skipQuestion",x]),{success:!1}}}async function k(y){const O=E(),{playerId:x}=O.player,{roomHash:ae,gameType:B,quizVersionId:me}=O.data,J={playerId:x,roomHash:ae,gameType:B,quizVersionId:me,responses:y},{response:De}=await wv(J);for(const He of De.responses)await Gs({responseOfLastAttempt:He.response,isCorrect:He.response.isCorrect});return De}async function L(){const y=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,O=y();try{const x=R(),ae=[{kind:yT.PLAYER,id:x.game.player.playerId}],{response:B}=await Jf(x.game.data.roomHash,ae),me=gv(B,x);a.socketConnectedSuccess(),r.socketConnected(),me.shouldRejoinRoom&&O.rejoinAnyGame(me.rejoinParams)}catch(x){N.error("Error at action reconnectToGame",x)}}function q({metaData:y={}}){const O=E(),x=eo(O.questions.questionResponseStatuses,[Bs.NOT_SENT,Bs.SENDING]);if(!(Qs(x).length===0)){r.toggleOverlay({type:`responseUnsynced|${Oo.ON_EXIT}`});return}a.hideMenu(),t.requestToChangePage({to:P.get(P.List.LANDING.HOME),metaData:y})}function D({wasAttempCorrect:y,prevMemeTypeShown:O}){const x=E(),{flow:{meme:ae}}=x,B=wt(x.questions.allOrderedResponses,J=>J.isCorrect);B.push(y);const me=Fd(B,{...ae.list},x.questions.totalQuestionsInGame,ae.nextPossible,O);n.setNextPossibleMeme({next:me})}function ee(y={}){e.gameCompleted(y),s.gameCompleted(y),o.gameCompleted(y)}function ie(y={}){e.gameStopped(y),s.gameStopped(y),o.gameStopped(y)}function M(){return n.breakRoomArr}function oe(y,...O){return y.list.length>0?bl(...O):Pl(...O)}async function ye({powerupName:y,powerupIndex:O}){var ds;const x=R(),{game:ae}=x,{gameMode:B,gameType:me,roomHash:J,mysticPeakLevelMap:De}=e,{totalCorrect:He}=s,le=De.findIndex($t=>$t===He),he={currentQuestionCurrentAttemptResponse:x.game.questions.currentQuestionCurrentAttemptResponse,currentQuestionCurrentAttemptIndex:x.game.questions.currentQuestionCurrentAttemptIndex,currentQuestionNumber:x.game.questions.currentQuestionNumber},Pe=[sT(y,{rootState:x,getters:he})],We=wa(e.isMasteryMode);let at={roomHash:J,playerId:ae.player.playerId,gameType:We(me,B),powerups:Pe,breakoutRoom:{powerUpIndex:O,level:le}};((ds=c.list)==null?void 0:ds.length)>0&&(at={...at,archive:c.availablePowerups,award:Pe});try{let $t;if(c.list.length>0){at={...at,archive:c.availablePowerups,award:Pe},$t=await oe(c,at);const{response:os}=$t,gs=Xi(os.powerups),Qt=gs.filter(Ds=>Ds.status===Nn.ARCHIVED),Wt=gs.filter(Ds=>Ds.status===Nn.AWARDED);return c.updatePowerups({powerups:Qt}),c.awardPowerups({powerups:Wt}),Q(),{success:!0,archivedPowerups:Qt,newPowerups:Wt}}$t=await oe(c,at);const{response:Ns}=$t,Ot=Xi(Ns.powerups);return c.awardPowerups({powerups:Ot}),Q(),{success:!0,powerups:Ot}}catch($t){switch(N.error("Error at awardSinglePowerup:",$t),un($t)){case"powerup.MAX_ATTEMPT_EXHAUSTED":i.toggleSnackBar({isVisible:!0,options:{message:`Maximun attempts for ${g.value.text.avalanche.title} exhausted.`}});break;case"powerup.COOLDOWN_PERIOD":i.toggleSnackBar({isVisible:!0,options:{message:"Avalanache in Cooldown period."}});break}return Q(),{success:!1,powerups:[]}}}async function F(){const y=R(),{game:O}=y,{gameMode:x,gameType:ae,roomHash:B}=e;if(!c.canPowerupsBeAwardedInThisGame)return{success:!1,powerups:[]};const me={currentQuestionCurrentAttemptIndex:O.questions.currentQuestionCurrentAttemptIndex,currentQuestionCurrentAttemptResponse:O.questions.currentQuestionCurrentAttemptResponse,powerupsGameplay:c.powerupsGameplay,areAllRemainingQuestionsMSQ:O.questions.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:O.data.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:O.questions.doesRemainingQuestionsOptionsCountEqualsTwo,isQuestionTimerOn:O.data.isQuestionTimerOn,areAllRemainingQuestionsFIB:O.questions.areAllRemainingQuestionsFIB,currentQuestionNumber:O.questions.currentQuestionNumber},J=wa(O.data.isMasteryMode),De=c.powerupsGameplay.normalBeltSize,He={roomHash:B,playerId:O.player.playerId,gameType:J(ae,x),powerups:ql(De,{rootState:y,getters:me})};try{const{response:le}=await Pl(He),he=Xi(le.powerups);return c.awardPowerups({powerups:he}),{success:!0,powerups:he}}catch(le){return N.error("Error at awardMultiplePowerups:-",le),{success:!1,powerups:[]}}}async function U(){u.resetDroppedState()}async function H({playerId:y,questionId:O,roomHash:x,hostId:ae,issueIndex:B,triggerType:me}){try{const J={playerId:y,questionId:O,roomHash:x,hostId:ae,issueIndex:B,triggerType:me},{response:De}=await Dv(J);return{success:!0,studentQueueNo:De.studentQueueNo}}catch(J){return N.error("Error at action raiseHandForPlayer",J),{success:!1,studentQueueNo:0}}}async function S(){const y=R(),O=c.powerupsGameplay.normalBeltSize,x=wa(e.isMasteryMode),ae={currentQuestionCurrentAttemptIndex:y.game.questions.currentQuestionCurrentAttemptIndex,currentQuestionCurrentAttemptResponse:y.game.questions.currentQuestionCurrentAttemptResponse,powerupsGameplay:c.powerupsGameplay,areAllRemainingQuestionsMSQ:y.game.questions.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:e.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:y.game.questions.doesRemainingQuestionsOptionsCountEqualsTwo,isQuestionTimerOn:e.isQuestionTimerOn,areAllRemainingQuestionsFIB:y.game.questions.areAllRemainingQuestionsFIB,currentQuestionNumber:y.game.questions.currentQuestionNumber},B={roomHash:y.game.data.roomHash,playerId:y.game.player.playerId,gameType:x(y.game.data.gameType,y.game.data.gameMode),archive:c.availablePowerups,award:ql(O,{rootState:y,getters:ae})};try{const{response:me}=await bl(B),J=Xi(me.powerups),De=J.filter(le=>le.status===Nn.ARCHIVED),He=J.filter(le=>le.status===Nn.AWARDED);return c.updatePowerups({powerups:De}),c.awardPowerups({powerups:He}),{success:!0,archivedPowerups:De,newPowerups:He}}catch(me){return N.error("Error at replacePowerups:-",me),{success:!1,powerups:[]}}}async function G(y){const O=E(),x={currentQuestionCurrentAttemptIndex:O.questions.currentQuestionCurrentAttemptIndex},ae=rc({state:O,getters:x,id:y.id,name:y.name}),{gameAppearance:B}=O.flow,{activatedPowerupEffects:me}=y,J=Bt.getConfig(),De={...ae,powerupId:y.powerupId,status:Nn.ACTIVATED};A(y.activationSource)||(De.activationSource=y.activationSource),Ms(J[y.name].onActivate)&&J[y.name].onActivate(uc),l.addPowerupEffect({powerupEffect:{...De}});let{previousStreak:He}=O.player,{currentStreak:le}=O.player;const he=$a.createAPI({previousStreak:He,currentStreak:le,gameAppearance:B,activatedPowerupEffects:me});jn.applySpecialEffects([De],"onActivate",he),jn.applyEffects([De],he,!0);const Pe=he.score.getTransformed();He=he.streak.getPreviousStreak(),le=he.streak.getCurrentStreak(),O.questions.powerupActivatedFromMysteryBox({score:Pe.total,questionId:O.questions.currentId,attempt:x.currentQuestionCurrentAttemptIndex,scoreBreakup:Pe,previousStreak:He,currentStreak:le}),s.powerupActivatedFromMysteryBox({score:Pe.total,questionId:O.questions.currentId,attempt:x.currentQuestionCurrentAttemptIndex,scoreBreakup:Pe,previousStreak:He,currentStreak:le})}async function K({id:y,name:O,meta:x={}}){var le;const ae=Bt.getConfig(),B=E(),{gameAppearance:me}=B.flow,{activatedPowerupEffects:J}=l,De={currentQuestionCurrentAttemptIndex:B.questions.currentQuestionCurrentAttemptIndex},He=rc({state:B,getters:De,id:y,name:O,meta:x});try{const he=await bv(He),{response:Pe}=he;c.updatePowerups({powerups:[{id:y,status:Nn.ACTIVATED}]});const We={};let at=ae[O].notification.onActivate||`${ae[O].title} activated successfully`;((le=B==null?void 0:B.data)==null?void 0:le.gameMode)===re.MYSTIC_PEAK&&O==="glitch"&&(at=X("{$1} is applied",[g.value.text.avalanche.title])),We.title=ae[O].title,We.message=X("{$1}",[at]),We.type="powerup-effect",We.styles=ae[O].styles,We.name=O,We.appliedByTeacher=!1,x.source===Ri.teacher&&(We.appliedByTeacher=!0),i.togglePowerupToast({isVisible:!0,options:We}),Ms(ae[O].onActivate)&&ae[O].onActivate(uc);const $t={name:Pe.powerupEffect.name,meta:Pe.powerupEffect.meta,powerupId:Pe.powerupEffect.powerupId,status:Pe.powerupEffect.status,id:Pe.powerupEffect._id},{previousStreak:Ns}=B.player,{currentStreak:Ot}=B.player;l.addPowerupEffect({powerupEffect:{...$t}});const os=$a.createAPI({previousStreak:Ns,currentStreak:Ot,gameAppearance:me,activatedPowerupEffects:J});jn.applySpecialEffects([$t],"onActivate",os),Pe.powerupEffect&&["question","game"].includes(ae[Pe.powerupEffect.name].applicationScope)&&setTimeout(()=>{const{questionScopePowerupEffects:gs,gameScopePowerupEffects:Qt}=l,Wt=ca(gs,Qt);jn.applyEffects(Wt,os)})}catch(he){N.error("Error at activatePowerup: ",he),i.toggleSnackBar({isVisible:!0,options:{message:"Powerup already activated."}})}}async function ne(y){var he,Pe;const O=E(),{playerId:x}=O.player,{roomHash:ae}=O.data,B={},{gameAppearance:me}=O.flow,{activatedPowerupEffects:J}=l,He=Bt.getConfig()[y.name].powerupType,le={playerId:x,roomHash:ae,powerupEffectId:y.id,gameType:O.data.gameType,meta:{}};if(He===Er.ACTIVATOR&&(le.shouldDiscardActivatorPowerup=y.shouldDiscardActivatorPowerup,le.meta.isActivatorPowerupEffect=!0,!y.shouldDiscardActivatorPowerup)){B.name=l.powerupToActivateFromMysteryBox(y.id);const We={currentQuestionCurrentAttemptIndex:O.questions.currentQuestionCurrentAttemptIndex},at=rc({state:O,getters:We,name:B.name});le.meta={...le.meta,...at.meta}}try{const{response:We}=await xv(le,He);$e.logEvent(as.GLITCH_DESTROY,{playerId:le==null?void 0:le.playerId,roomHash:le==null?void 0:le.roomHash,powerupEffectId:le==null?void 0:le.powerupEffectId,gameType:le==null?void 0:le.gameType,status:(he=We==null?void 0:We.powerupEffect)==null?void 0:he.status,name:(Pe=We==null?void 0:We.powerupEffect)==null?void 0:Pe.name});const at={gameAppearance:me,activatedPowerupEffects:J},ds=He===Er.ACTIVATOR;if(!ds||ds&&y.shouldDiscardActivatorPowerup){ue({powerupEffect:y,createAPIValues:at});return}const $t=C(We,"activatedPowerups",[]);B.id=$t[0]._id,B.powerupId=$t[0].powerupId,at.powerupToActivate=B,setTimeout(()=>{ue({powerupEffect:y,createAPIValues:at})},2e3)}catch(We){N.error("Error at destroyPowerupEffect",We),ue({powerupEffect:y})}}function ue({powerupEffect:y,createAPIValues:O={}}){const x={...As(y),status:ia.DESTROYED},ae=$a.createAPI(O);jn.destroyEffects([x],ae),jn.applySpecialEffects([x],"onDestroy",ae),l.updatePowerupEffect({powerupEffect:x})}async function de({responseOfLastAttempt:y,gameType:O,powerupsToDestroy:x=[]}){var Ns;const ae=R(),B=E(),me=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,J=me();let De=O;O||(De=B.data.gameType);const He=ca(l.destroyList,x),le=fv(B.questions.questionResponseStatuses,B.questions.currentQuestionCurrentAttemptResponse,y);if(!le.isCallRequired)return;B.questions.proceedGameInProgress(le);const he=De===Be.SOLO?Lv:Cv,Pe={allOrderedResponses:B.questions.allOrderedResponses,areQuestionAttemptsLeft:B.questions.areQuestionAttemptsLeft,isAdaptiveLearningGame:B.data.isAdaptiveLearningGame,totalQuestionAttempted:B.questions.totalQuestionAttempted,currentQuestionCurrentAttemptIndex:B.questions.currentQuestionCurrentAttemptIndex},{gameMode:We,gameOptions:at,roomHash:ds,quizVersionId:$t}=B.data;c.setPowerupWaitingToBeApplied(!0);try{const Ot={gameMode:We,gameType:O,gameOptions:at,roomHash:ds,quizVersionId:$t,player:B.player,questions:B.questions,playerResponse:le.responseToBeSent,powerupEffectsToDestroy:He},os=hv(Ot),{response:gs}=await he(os),Qt=_v(ae,Pe,gs),{powerupEffects:Wt}=Qt,{powerupEffectsDestroyed:Ds}=Qt;if(A(Ds)||l.addPowerupEffectToDestroyList({powerupEffects:Ds}),(Wt==null?void 0:Wt.length)>0){const ns=As(l.list),ms=ud(Bu(ns,"id"),Bu(Wt,"id")),pn={powerupEffects:Object.values(ms)};l.updatePowerupEffects(pn)}B.questions.removeQuestionFromIncorrectAttempt(),A(Qt.updatedSlide)||Re(Qt.updatedSlide),B.questions.proceedGameResponded(Qt),B.data.proceedGameResponded(Qt),o.proceedGameResponded(Qt),B.player.proceedGameResponded(Qt),B.flow.proceedGameResponded(Qt),l.updatePowerupEffectDestroyList({powerupEffects:[]}),Yt(["proceedGame.timeout|confirm","proceedGame.defaultError|confirm"],i.dialog.name)&&i.toggleDialog(),await Gs({responseOfLastAttempt:y,isCorrect:Qt.updatedResponse.isCorrect});const Xs=e.gameOptions.hasRedemptionPass===Ut.hasRedemptionPass.YES,cs=le.responseToBeSent.attempt>0;return Xs&&cs&&$e.logEvent(as.SUMBIT_PASS_2_RESPONSE,{questionId:B.questions.currentId,isCorrect:Qt.updatedResponse.isCorrect}),{didAnswer:!0}}catch(Ot){const os=(Ns=((Ot==null?void 0:Ot.traceId)||"").split(";")[0])==null?void 0:Ns.replace("Root=","");N.logForSession(["Error at handleProceedingGame",Ot],"error");const gs=un(Ot);let Qt,Wt=!1;const Ds=`ROOM_${gs.split(".")[1]}`,Xs=`pg-${gs}`,cs=gs==="response.ALREADY_ANSWERED",ns=B.questions.slidesFlowControlType===Xt.NONE,ms=`#pg-${gs}`,{currentPage:pn}=t,kn={cookedPayload:JSON.stringify(le,Object.getOwnPropertyNames(le)),error:JSON.stringify(Ot),errorMessage:JSON.stringify(Ot==null?void 0:Ot.message),clientError:JSON.stringify(Ot,Object.getOwnPropertyNames(Ot)),errorType:Math.round(Number.parseInt(Ot.statusCode)/100)===5?Ot.statusCode:un(Ot,"default_fallback"),isNetworkAvailable:window.navigator.onLine};switch(kn.errorType!=="powerups.IMMUNITY_ACTIVATED"&&$e.logEvent(as.PROCEED_GAME_FAILURE,kn),gs){case"response.NOT_PRESENT":case"ERROR.UKW":{const qs=Tn=>{Tn===0&&window.location.reload()};ae.rootReducer.toggleDialog({name:"proceedGame.ukw|confirm",options:{traceId:os},actionCallback:qs});break}case"room.NOT_FOUND":case"room.NOT_STARTED":case"room.NO_ASSIGNMENTS":J.handleRejoinRelatedNetworkErrors({reason:Ds,errorCode:Xs});break;case"game.NOT_FOUND":J.handleRejoinRelatedNetworkErrors({reason:"game.NOT_FOUND",errorCode:Xs});break;case"room.EXPIRED":Wt=!0,d.handleGameExpiry();break;case"room.COMPLETED":Wt=!0,ee();break;case"room.STOPPED":Wt=!0,ie();break;case"room.PAUSED":ut(Ot.response.pauseFor),d.handleGameLockFails(),Wt=!0;break;case"player.NOT_FOUND":J.handleRejoinRelatedNetworkErrors({reason:"PLAYER_NOT_FOUND",errorCode:Xs});break;case"player.DELETED":Wt=!0,d.handleCurrentPlayerDeleted();break;case"player.GAME_OVER":Wt=!0,P.matches(pn,P.List.IN_GAME.QUIZ,2)&&ae.routing.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)});break;case"room.FORCE_REJOIN":case"lock_fail.GAME":case"lock_fail.REPOPULATE":d.handleGameLockFails();break;case"room.QUIZ_MODIFIED":d.handleGameLockFails({name:"game.quizModified|confirm"});break;case"room.SETTINGS_OUT_OF_SYNC":d.handleGameLockFails({name:"game.settingsOutOfSync|confirm"});break;case"powerups.IMMUNITY_ACTIVATED":pe({responseOfLastAttempt:y});break;case"validate.Validation":case"validator.Validation":case"request.VALIDATION_ERROR":{const qs=Tn=>{Tn===0&&window.location.reload()};ae.rootReducer.toggleDialog({name:"proceedGame.validationFail|confirm",options:{traceId:os},actionCallback:qs});break}case"response.INVALID_RESPONSE":ae.rootReducer.toggleDialog({name:"proceedGame.invalidResponse|confirm",options:{traceId:os}});break;case"response.CANT_SAVE":Qt=()=>{de({responseOfLastAttempt:y,gameType:O,powerupsToDestroy:x}),i.toggleDialog()},ae.rootReducer.toggleDialog({name:"proceedGame.cantSave|confirm",options:{traceId:os},actionCallback:Qt});break;case"response.ALREADY_ANSWERED":case"question.NON_ANWERABLE":Qt=async()=>{if(ns){const{roomHash:qs,gameType:Tn}=B.data;await Te({roomHash:qs,gameType:Tn})}i.toggleDialog()},ae.rootReducer.toggleDialog({name:"proceedGame.outOfSync|confirm",options:{canSync:ns,alreadyAnswered:cs,traceId:os},actionCallback:Qt});break;case"timeout":Qt=()=>{de({responseOfLastAttempt:y,gameType:O,powerupsToDestroy:x}),i.toggleDialog()},ae.rootReducer.toggleDialog({name:"proceedGame.timeout|confirm",actionCallback:Qt,options:{traceId:os}});break;default:Qt=qs=>{qs===0?t.requestToChangePage({to:P.get(P.List.LANDING.HOME)}):de({responseOfLastAttempt:y,gameType:O,powerupsToDestroy:x}),i.toggleDialog()},ae.rootReducer.toggleDialog({name:"proceedGame.defaultError|confirm",options:{errorCode:ms,traceId:os},actionCallback:Qt})}return B.questions.proceedGameRespondedWithError({response:le.responseToBeSent,requestSucceeded:Wt}),{didAnswer:!1}}}function pe({responseOfLastAttempt:y}){const O=E(),{activatedPowerupEffects:x}=l,ae=xt(x,{name:"immunity",status:ia.ACTIVATED});fa.$emit("question:clearAnswers"),O.questions.clearQuestionResponse(y),i.togglePowerupToast({isVisible:!0,options:{title:X("Incorrect answer,"),message:X("you get one more chance"),type:"immunity-feedback"}});const B=y.response,me=$a.createAPI({isCorrect:!1,actualSelectedIndices:Array.isArray(B)?B:[B],gameAppearance:O.flow.gameAppearance}),{beforeAnswerPowerupEffects:J}=l;ue({powerupEffect:ae}),jn.applyEffects(J,me)}function Ae({isAtGamePlayStart:y=!1,forcePushPageChange:O=!1}={}){const x=R(),ae=E();if(ae.player.duelData.decisionOptions&&ae.questions.remainingOrder.length>0){Ml().showP2PSelection();return}const{doneOrderForEvaluatedQuestions:B,isInComprehensionView:me,comprehensionQuestion:J,comprehensionQuestionIds:De,currentQuestion:He,currentId:le,numberOfComprehensionQuestionsUnattempted:he,nextUnAttemptedComprehensionQuestionId:Pe}=ae.questions,{isMasteryMode:We}=e,at=ic({rootState:x,isAtGamePlayStart:y,getters:{doneOrderForEvaluatedQuestions:B,isMasteryMode:We,isInComprehensionView:me,comprehensionQuestion:J,comprehensionQuestionIds:De,nextUnAttemptedComprehensionQuestionId:Pe,currentQuestion:He,currentId:le,numberOfComprehensionQuestionsUnattempted:he}});if(at.showingAnswerLaterQuestions&&n.showingAnswerLaterQuestions({inProgress:!0}),!at.areThereQuestionsLeftToShow){W();return}if(!at.isQuestionToShowValid)return;if(y&&setTimeout(()=>{let{previousStreak:Ot,currentStreak:os}=ae.player;const{gameAppearance:gs}=ae.flow,{activatedPowerupEffects:Qt,questionScopePowerupEffects:Wt,gameScopePowerupEffects:Ds,answerScopePowerupEffects:Xs,postAnswerPowerupEffects:cs}=l,ns=$a.createAPI({previousStreak:Ot,currentStreak:os,gameAppearance:gs,activatedPowerupEffects:Qt}),ms=ca(Wt,Ds,cs),pn=ca(ms,Xs),kn=Bt.getConfig();ot(pn,qs=>{Ms(kn[qs.name].onActivate)&&kn[qs.name].onActivate(uc),jn.applySpecialEffects([qs],"onActivate",ns)}),jn.applyEffects(ms,ns),Ot=ns==null?void 0:ns.streak.getPreviousStreak(),os=ns==null?void 0:ns.streak.getCurrentStreak(),ae.player.updateStreak({previousStreak:Ot,currentStreak:os})}),at.shouldShowRedemptionQuestion){fe(at.mutationPayload);return}at.shouldUpdateSlide&&Re(at.updatedSlide),at.shouldReplayQuestionForAE&&Ht().setReshowQuestionIds({questionIds:[at.mutationPayload.questionId]});const{collapseQuestionsList:ds,showQuestionsList:$t}=Na(),{isMobileWidth:Ns}=Qo();if(f.value&&e.gameMode!==re.TEACHER_PACED){const{setIsPlaying:Ot,getNextUnattemptedQuestion:os}=Mc();os()||(ds(),Ot(!0))}else Ns.value&&J&&!me&&$t();Y(at.mutationPayload),x.routing.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ),metaData:{forcePush:O},gameData:at.gameData})}async function ge(){const y=E(),{playerId:O}=y.player,{roomHash:x,gameMode:ae}=y.data;try{if(ae===re.MYSTIC_PEAK){const B={playerId:O,roomHash:x},{response:me}=await qv(B),{mysticPeakBoard:J}=me;n.updateWaitingMysticLeaderboard({mysticPeakBoard:J})}}catch(B){return N.error("Error at Updating leaderboard while student wait for others",B),!1}}async function Te({roomHash:y,gameType:O}){const x=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,ae=x(),B=E();try{const{cookedResponse:me}=await ae.getGameQuestions({roomHash:y,gameType:O})||{};Object.keys(B.questions.list).forEach(He=>{me.questions[He].answer=B.questions.list[He].answer}),B.questions.setQuestions(me),B.data.setQuestions(me);const De=Av(B,me);if(De.shouldEndGame&&(De.areAllPlayerSlidesDone&&B.questions.playerQuestionsOver(),ie()),De.shouldUpdateSlide&&ce(De.updateSlidePayload),!A(me.canvas)){const He=me.canvas.annotations===!0,le=me.canvas.host===!0,he=!He&&me.canvas.player===!0;te({states:{host:{isVisible:le},player:{isVisible:le,canDraw:he},isAnnotationsEnabled:He}})}return!0}catch(me){return N.error("Error at action syncGameQuestions: ",me),!1}}async function b({playerId:y,roomHash:O,hostId:x,questionId:ae,triggerType:B,reactionDetail:me}){try{const J={playerId:y,roomHash:O,hostId:x,questionId:ae,triggerType:B,reactionDetail:me},{response:De}=await Rv(J);return De}catch(J){return N.error("Error at action updateReactionForPlayer",J),!1}}function te({states:{host:y={},player:O={},isAnnotationsEnabled:x=n.liveWhiteboardState.isAnnotationsEnabled}={},shouldUpdate:ae=!0,updateDelay:B=0}={}){const me=As(n.liveWhiteboardState),J={host:{...me.host,...y},player:{...me.player,...O},isAnnotationsEnabled:x};if(Bc(me,J)||n.setLiveWhiteboardState(J),!(!ae||J.host.isVisible===!1)){if(J.player.canDraw){setTimeout(()=>{fa.$emit("liveWhiteboard:action",{type:ja.REFRESH_PLAYER_CANVAS})},B);return}setTimeout(()=>{fa.$emit("liveWhiteboard:action",{type:ja.REFRESH_HOST_CANVAS})},B)}}function Y({questionId:y,doneOrder:O,remainingOrder:x,currentOptionsAppearance:ae,powerupScopes:B,doneQuestionsFrequency:me}){const J=E();J.questions.setCurrentQuestion({questionId:y,doneOrder:O,remainingOrder:x,currentOptionsAppearance:ae,powerupScopes:B,doneQuestionsFrequency:me}),J.flow.setCurrentQuestion({currentOptionsAppearance:ae,doneOrder:O}),c.setCurrentQuestion({powerupScopes:B}),!(J.questions.slidesFlowControlType!==Xt.FULL||!J.questions.isCurrentSlideInteractable)&&J.questions.currentQuestion.state===mn.ACTIVE&&J.questions.isCurrentQuestionCurrentAttemptEvaluated&&Re({id:y,state:mn.REVEAL})}function ce({nextQuestion:y,remainingOrder:O}){const x=E(),ae=Array.isArray(O)?O:x.questions.remainingOrder,B=[y.questionId,...ae];x.questions.changeRemainingQuestionsOrder({remainingOrder:B}),Ae()}function we({remainingOrder:y}){const O=E(),{slidesFlowControlType:x}=O.questions;x===Xt.FULL&&!e.isLessonRunningInStudentPacedMode()&&_e({questionId:y[0]}),O.questions.changeRemainingQuestionsOrder({remainingOrder:y}),Ae()}function Se({questionId:y}){E().questions.addQuestionToDoneOrder({questionId:y})}function Re(y){var J,De,He,le,he,Pe;const O=E(),x={id:y.id||y.questionId||""},ae=!A(x.id)&&Yt(O.questions.initSequence,x.id);N.invariant(ae,["Slide id provided to `updateSlide` is not valid or does not exist in current slides. Found in -",y]);const B=y.options||C(y,"structure.options"),me=y.answer||C(y,"structure.answer");if(Yt(Object.values(mn),y.state)&&(x.state=y.state),Array.isArray(B)&&(x.options=B),(No(me)||Je(me)||Array.isArray(me))&&(x.answer=me),en(y.metadata)&&(x.metadata=y.metadata),(J=y==null?void 0:y.structure)!=null&&J.graphs&&((De=y==null?void 0:y.structure)!=null&&De.answer)){const We=((le=(He=y==null?void 0:y.structure)==null?void 0:He.answer)==null?void 0:le[0])||((he=y==null?void 0:y.structure)==null?void 0:he.answer);x.answerGraph=(((Pe=y==null?void 0:y.structure)==null?void 0:Pe.graphs)||[]).find(at=>(at==null?void 0:at.plotId)===We)}O.questions.updateQuestionSlide({slide:x})}async function Qe(){const y=R(),O=E(),{data:{roomHash:x,gameType:ae,gameState:B},player:{playerId:me}}=y.game,J={roomHash:x,gameType:ae,gameState:B,playerId:me,gameId:x},De=[...O.questions.doneOrderForEvaluatedQuestions];O.questions.currentId&&De.push(O.questions.currentId);const He=[...O.questions.remainingOrder],le=O.questions.incorrectQuestionAttempts,he={questionId:"",doneOrder:De,remainingOrder:He,currentOptionsAppearance:[],powerupScopes:["game"]},Pe=[];return He.forEach(We=>{le.has(We)||Pe.push(We)}),Pe.length===0&&O.questions.currentId?(await O.questions.setCurrentQuestion(he),t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:{currentAnimationPreset:gi.ACHIEVED_WITH_SEEN},gameData:J})):(he.remainingOrder=Pe,await O.questions.setCurrentQuestion(he),t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:{currentAnimationPreset:gi.ACHIEVED_WITH_UNSEEN},gameData:J}))}async function ct(){const y=E(),{hasReachedMasteryAtLeastOnce:O}=y.flow,x=y.questions.hasReachedMastery;if(!O&&x)return await Qe()}async function _t({hasReachedMasteryAtLeastOnce:y}){n.hasReachedMasteryOnce({hasReachedMasteryAtLeastOnce:y})}async function yt(){Ae()}async function pt(){const{roomHash:y,gameType:O,gameState:x}=e,{playerId:ae,accuracy:B,previousAccuracy:me}=s,J={roomHash:y,gameType:O,gameState:x,playerId:ae,gameId:y},De={currentAnimationPreset:gi.IN_GAME};return B>me?De.currentAnimationPreset=gi.INCREASED:B<=me&&(De.currentAnimationPreset=gi.DECREASED),t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:De,gameData:J})}async function Ze(){return t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ)})}async function ht(){const y=E(),{questions:{doneQuestionsFrequency:O,currentId:x}}=y,ae={...O};x in ae?ae[x]+=1:ae[x]=0,y.questions.updateDoneQuestionsFrequency({doneQuestionsFrequency:ae})}async function Lt({selectedQuestionId:y}){const{mutationPayload:O}=Ev(y);Y(O)}async function Gt(y={value:!0}){E().questions.setIsComprehensionQuestionNavigationEnabled(y)}async function It(y={}){E().questions.setComprehensionQuestionListDisplay(y)}async function jt(y={comprehensionQuestionId:""}){E().questions.setVisitedComprehensionQuestion(y)}async function bt(y={}){E().questions.updateComprehensionQuestionAttempts(y)}async function w(){E().questions.resetComprehensionQuestionAttempts()}async function $({isProceed:y=!1,currentId:O="",repeatFlow:x=!1,answerLaterFlow:ae=!1}={}){var Ds,Xs;const B=wu();B.flushActiveRAIds(),B.flushTTSIds();const me=R(),J=E(),De=J.questions.slidesFlowControlType===Xt.PARTIAL,{hasReachedMasteryInMysticPeakAtleastOnce:He}=J.flow;if(!(y||x||J.questions.isAnswerLaterQuestion||J.questions.hasCurrentQuestionBeenAnswered||J.questions.hasIncorrectAttemptForQuestion)||!De&&((Ds=J.questions.comprehensionQuestion)==null?void 0:Ds.type)!==se.COMPREHENSION_VIDEO)return;J.questions.remainingOrder=yr({getters:{numberOfComprehensionQuestionsUnattempted:J.questions.numberOfComprehensionQuestionsUnattempted,currentId:O||J.questions.currentId,comprehensionQuestionIds:J.questions.comprehensionQuestionIds},remainingQuestionsOrder:J.questions.remainingOrder,isProceed:y});const le=J.questions.totalAnswerLaterQuestions.includes(J.questions.currentId);if(J.questions.isQuestionEligibleForAnswerExplanation&&!le){const cs=J.questions.isCurrentQuestionCurrentAttemptResponseCorrect,ns=J.questions.reshowQuestionIds.indexOf(J.questions.currentId);if(cs){const ms=J.questions.reshowQuestionIds;ms.splice(ns,1),J.questions.reshowQuestionIds=[...ms]}else if(ns===-1){const ms=J.questions.reshowQuestionIds;ms.push(J.questions.currentId),J.questions.reshowQuestionIds=[...ms]}else{const ms=J.questions.reshowQuestionIds;ms.splice(ns,1),J.questions.reshowQuestionIds=[...ms]}if(J.questions.reshowQuestionIds.includes(J.questions.currentId)){const ms=E().questions.remainingOrder;ms.unshift(J.questions.currentId),J.questions.remainingOrder=[...ms]}}J.questions.remainingOrder.length||n.showingAnswerLaterQuestions({inProgress:!1});const he={doneOrderForEvaluatedQuestions:J.questions.doneOrderForEvaluatedQuestions,isMasteryMode:e.isMasteryMode,isCurrentQuestionSkipped:J.questions.isCurrentQuestionSkipped,isInComprehensionView:J.questions.isInComprehensionView,comprehensionQuestion:J.questions.comprehensionQuestion,comprehensionQuestionIds:J.questions.comprehensionQuestionIds,areAllComprehensionQuestionsAttempted:J.questions.areAllComprehensionQuestionsAttempted,nextUnAttemptedComprehensionQuestionId:J.questions.nextUnAttemptedComprehensionQuestionId,currentQuestion:O?J.questions.list[O]:J.questions.currentQuestion,currentId:O||J.questions.currentId,numberOfComprehensionQuestionsRemaining:J.questions.numberOfComprehensionQuestionsRemaining,isSkipQueueInProgress:n.answerLaterFlow.inProgress,numberOfComprehensionQuestionsUnattempted:J.questions.numberOfComprehensionQuestionsUnattempted},{shouldShowRedemptionQuestion:Pe,mutationPayload:We,shouldShowAnswerLaterQuestions:at,shouldShowReviewQuestions:ds,answerLaterMutationPayload:$t,shouldShowBreakRoom:Ns,hasReachedMasteryForMysticPeak:Ot,shouldShowMasteryCountdown:os}=Ol(J,he,y);if(ds){(Xs=he.currentQuestion)!=null&&Xs.comprehensionQuestionId&&jt({comprehensionQuestionId:he.currentQuestion.comprehensionQuestionId}),bs(We),n.showingAnswerLaterQuestions({inProgress:!1});return}if(y||await ht(),J.player.duelData.decisionOptions&&J.questions.remainingOrder.length>0){Ml().showP2PSelection(),s.duelData.currentLevel===0&&Ir.triggerEvent(Dm.HOTJAR_P2P_GAME_ACTIVE);return}if(Pe){fe(We),n.showingAnswerLaterQuestions({inProgress:!1});return}if(at){ve($t);return}if(!J.questions.isCurrentQuestionSkipped&&!y){const{questionResponses:cs,currentId:ns}=J.questions;await ls({response:Zd(cs,O||ns),gameType:e.gameType,gameMode:e.gameMode})}if(Ns){const cs={};if(Ot&&!He){cs.breakoutRoomType=So.PATH_FINDER,n.updateHasReachedMasteryInMysticPeakAtleastOnce({reached:!0}),St(cs);return}if(!He){cs.breakoutRoomType=So.LEVEL_UP,St(cs);return}}const{isMasteryMode:gs}=J.data;if(gs){const{hasReachedMastery:cs}=J.questions;if(cs&&!me.game.flow.hasReachedMasteryAtLeastOnce){await Qe();return}if(os&&!me.game.flow.hasReachedMasteryAtLeastOnce){await pt();return}}const Wt=ic({rootState:me,isAtGamePlayStart:!1,getters:he,isProceed:y,answerLaterFlow:ae});if(Wt.canEnd){if(e.gameOptions.reviewAndSubmit){bs(Wt.mutationPayload),n.showingAnswerLaterQuestions({inProgress:!1});return}W();return}if(Wt.showingAnswerLaterQuestions){ve(Wt.mutationPayload);return}if(!Wt.isQuestionToShowValid){gs&&(J.questions.remainingOrder.length===1&&J.questions.currentId===""||J.questions.remainingOrder.length===0&&J.questions.currentId!=="")&&(Y({...Wt.mutationPayload,questionId:""}),Ae());return}if(x){Ae();return}if(f.value&&e.gameMode!==re.TEACHER_PACED){const{setIsPlaying:cs,getNextUnattemptedQuestion:ns}=Mc();if(!ns()){const{collapseQuestionsList:pn}=Na();pn(),cs(!0)}}Y(Wt.mutationPayload)}function W(){const y=m.moveOnAfterGameComplete();return y&&setTimeout(()=>{E().questions.playerQuestionsOver()},0),y}function fe({questionId:y,doneOrder:O,remainingOrder:x,powerupScopes:ae}){const B=R(),{showQuestionsList:me}=Na();if(me({dontSave:!0}),B.game.questions.setCurrentQuestion({questionId:y,doneOrder:O,remainingOrder:x,powerupScopes:ae}),B.game.data.gameOptions.hasRedemptionPass!==Ut.hasRedemptionPass.YES){t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.REDEMPTION_QUESTION_SELECTOR),gameData:{roomHash:B.game.data.roomHash,playerId:B.game.player.playerId,gameType:B.game.data.gameType}});return}if(B.game.questions.orderedRedemptionResponses.length===0)$e.logEvent(as.COMPLETE_PASS_1,{total:Object.keys(B.game.questions.list).length,incorrect:Po.getTotalOriginallyIncorrectQuestionIds(B.game.questions.orderedOriginalResponses).length}),t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.BEFORE_REDEMPTION_SECTION),gameData:{roomHash:B.game.data.roomHash,playerId:B.game.player.playerId,gameType:B.game.data.gameType}}),dc&&clearTimeout(dc),dc=setTimeout(()=>{const J={doneOrderForEvaluatedQuestions:B.game.questions.doneOrderForEvaluatedQuestions,isMasteryMode:e.isMasteryMode,numberOfComprehensionQuestionsUnattempted:B.game.questions.numberOfComprehensionQuestionsUnattempted},De=ic({rootState:B,isAtGamePlayStart:!1,getters:J});t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ),metaData:{},gameData:De.gameData});const He=Po.selectQuestionsForRedemption(B.game.questions.orderedOriginalResponses,B.game.questions.orderedRedemptionResponses)[0];Ne({questionId:He}),n.setRedemptionCurrentQuestionNumber({count:1})},7750);else{const J=B.game.questions.orderedRedemptionResponses.length+1,De=Po.selectQuestionsForRedemption(B.game.questions.orderedOriginalResponses,B.game.questions.orderedRedemptionResponses)[0];Ne({questionId:De}),n.setRedemptionCurrentQuestionNumber({count:J})}}function Ne({questionId:y}){const O=E();N.invariant(!A(y),`Redemption question's id cannot be blank - ${y}`),A(y)||O.questions.changeRemainingQuestionsOrder({remainingOrder:[y,...O.questions.remainingOrder]}),Re({id:y,state:mn.ACTIVE}),Ae()}async function Ye({direction:y="forward"}){var J;const O=R(),x=E(),ae=(((J=e.lessonMetaData)==null?void 0:J.studentPacedEndQuestionIndex)??0)+1,B={currentQuestion:O.game.questions.currentQuestion,isCurrentSlideInteractable:O.game.questions.isCurrentSlideInteractable,currentQuestionNumber:O.game.questions.currentQuestionNumber,isCurrentSlideForContent:O.game.questions.isCurrentSlideForContent,studentPacedEndQuestionNumber:ae,isLessonInStudentPacedMode:e.isLessonRunningInStudentPacedMode()},me=vv(O,B,y);if(fd(()=>{e.isLessonRunningInStudentPacedMode()&&ae===O.game.questions.currentQuestionNumber&&!A(x.questions.currentQuestionCurrentAttemptResponse)&&t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.STUDENT_TEACHER_PACED),metaData:{currentState:Gr.QUESTIONS_DONE}})}),!me.isNotAllowedToProceed){if(me.areQuestionsOver){const{gameMode:De,gameType:He}=e,le=Ht(),he=Sr(),{flashcardMode:Pe,incorrectFlashcardIds:We}=he;if(De===re.FLASHCARD&&Pe===Ou.Practice&&[Be.ASYNC,Be.SOLO].includes(He)&&We.length){const at={},ds={...le.list};We.forEach($t=>{at[$t]=ds[$t]}),he.setIsReplayFlow(!0),le.setCurrentQuestion({questionId:Object.keys(at)[0],doneOrder:[],remainingOrder:Object.keys(at).slice(1)})}else W()}me.shouldUpdateSlideState&&Re(me.updateSlidePayload),me.shouldUpdateCurrentSlide&&Y(me.setCurrentQuestionMutationPayload),me.shouldUpdatePlayerMetadata&&!e.isLessonRunningInStudentPacedMode()&&_e(me.updateMetadataPayload)}}const Me=Np(async(y,O)=>{try{const{roomHash:x,gameType:ae,gameMode:B}=e,{playerId:me}=s,De=wa(e.isMasteryMode)(ae,B),{response:He}=await Pv(x,me,De,{qId:y,qIdIndex:O});return He}catch(x){return N.error("Error at updatePlayerMetadata",x),null}},1500);async function _e({questionId:y=""}={}){const O=y||E().questions.currentId,x=Os(E().questions.initSequence,ae=>ae===O);A(O)||Me(O,x)}async function Oe({answer:y}){const O=E(),x=Tv(O,{currentQuestion:O.questions.currentQuestion,currentQuestionCurrentAttemptResponse:O.questions.currentQuestionCurrentAttemptResponse},y);if(N.invariant(x.hasCurrentQuestionBeenAnswered,`Not Allowed: Trying to ReEdit answer to a question with no response. Found ${O.questions.currentQuestionCurrentAttemptResponse}`,{logOnSentry:!0}),!!x.hasCurrentQuestionBeenAnswered){O.questions.answeredCurrentQuestion(x.mutationPayload),c.answerCurrentQuestion(x.mutationPayload);try{await Nv(x.updateResponsePayload)}catch(ae){N.error("Error at currentQuestionReEdited",ae)}}}function je(y){const O=y>=0?y:0;e.setTestTimerCounter(O)}function lt(y){e.setIsTestTimerEnabled(y)}const gt=()=>{e.pauseGame(0)};async function st(){let y=3;const O=setInterval(()=>{if(y===0){clearInterval(O),e.countdownPause321(0),gt();return}e.countdownPause321(y--)},1e3)}async function ut(y){var De;const{currentPage:O}=t,x=E();if(P.matches(O,P.List.IN_GAME.SUMMARY,2))return;const ae=x.questions.currentId,B=x.questions.currentQuestionCurrentAttemptIndex,me=new Date,J=new Date(me.getTime()+(y+3)*1e3);if(n.updateQuestionTimer({forQuestion:{id:ae,attempt:B},events:[{type:"start",on:J,for:((De=x.questions.currentQuestion)==null?void 0:De.time)||-1}]}),lc&&clearTimeout(lc),y===0){st();return}y!==0&&e.pauseGame(y),lc=setTimeout(()=>{ut(0),st()},y*1e3)}function Rt({attemptsPerQuestion:y,doneQuestionsFrequency:O,questionId:x}){return y===Cn.MASTERY_MODE_REATTEMPTS.unlimited?!0:x in O?O[x]<y:!0}async function ts(){E().questions.updateIncorrectAttempt()}async function ls({response:y,gameType:O,gameMode:x}){const ae=E();ae.data.isMasteryMode?Ps({response:y,gameType:O,gameMode:x,hasReachedMastery:ae.questions.hasReachedMastery}):ks({response:y,gameType:O,gameMode:x})}async function ks({response:y,gameMode:O,gameType:x}){const ae=E();!Di(y)&&qo({gameType:x,gameMode:O,isMasteryMode:ae.data.isMasteryMode})?(await ts(),await ae.questions.addQuestionToIncorrectAttempt()):await ae.questions.addQuestionToCorrectAttempt()}async function Ps({response:y,gameType:O,gameMode:x,hasReachedMastery:ae}){var De;const B=E(),me=Cn.MASTERY_MODE_REATTEMPTS[(De=e.gameOptions.masteryMode)==null?void 0:De.reattempts],J=Rt({attemptsPerQuestion:me,doneQuestionsFrequency:B.questions.doneQuestionsFrequency,questionId:B.questions.currentId});!Di(y)&&qo({gameType:O,gameMode:x,isMasteryMode:e.isMasteryMode})&&!ae&&J?(await ts(),await B.questions.addQuestionToIncorrectAttempt()):await B.questions.addQuestionToCorrectAttempt()}async function Gs({responseOfLastAttempt:y,isCorrect:O}){try{const x=E(),{state:ae,questionType:B,timeTaken:me}=y,{gameMode:J,gameType:De,gameOptions:He}=x.data,le=Cn.ANSWER_LATER_RESPONSE_STATES.includes(ae);let he;const{answerLaterQuestions:Pe,currentId:We}=x.questions;y.questionId?he=y.questionId:he=We;const{onEvaluationComplete:at}=Nm();if(Pe.includes(he)&&(x.questions.attemptedAnswerLaterQuestion(),$e.logEvent(as.ANSWER_LATER_QUESTION_ATTEMPTED,{isCorrect:O,questionId:he,state:ae,questionType:B,timeTaken:me,gameMode:J,gameType:De})),le&&!Pe.includes(he)){await x.questions.updateAnswetLaterQuestions({id:he}),$e.logEvent(as.ANSWER_LATER_CLICKED,{questionId:he,state:ae,questionType:B,timeTaken:me,gameMode:J,gameType:De}),x.questions.isComprehensionChildQuestion(he)&&x.questions.setCurrentQuestion({questionId:he,doneOrder:x.questions.doneOrder,remainingOrder:x.questions.remainingOrder}),await $({currentId:he,answerLaterFlow:!0});let ds=!0;x.questions.isComprehensionChildQuestion(he)&&x.questions.unAnsweredComprehensionQuestionIds.length&&(ds=!1),ds&&WA(He.reduceMotion)&&(_.updateSubmitState({skipAnimationInProgress:!0}),await zc(1500),at({movedToAnswerLater:!0}),await zc(1500),_.updateSubmitState({skipAnimationInProgress:!1}))}return!0}catch(x){return N.error("Error at action handleAnswerLaterQuestion: ",x),!1}}function bs({questionId:y,doneOrder:O,remainingOrder:x,powerupScopes:ae}){const B=R();B.game.questions.setCurrentQuestion({questionId:y,doneOrder:O,remainingOrder:x,powerupScopes:ae}),t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.REVIEW_QUESTIONS_SCREEN),gameData:{roomHash:B.game.data.roomHash,playerId:B.game.player.playerId,gameType:B.game.data.gameType}}),B.game.questions.showingReviewScreen()}function ve({questionId:y,doneOrder:O,remainingOrder:x,powerupScopes:ae}){const B=R();Y({questionId:y,doneOrder:O,remainingOrder:x,powerupScopes:ae}),t.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.ANSWER_LATER_QUESTIONS_SCREEN),gameData:{roomHash:B.game.data.roomHash,playerId:B.game.player.playerId,gameType:B.game.data.gameType}}),$e.logEvent(as.ANSWER_LATER_RESURFACED,{skippedQuestionsCount:B.game.questions.totalAnswerLaterQuestions,totalQuestionsInGame:B.game.questions.totalQuestionsInGame}),n.showingAnswerLaterQuestions({inProgress:!0})}function dt(){const y=E(),O=[...y.questions.answerLaterQuestions];O.length>0&&y.questions.changeRemainingQuestionsOrder({remainingOrder:O}),Ae()}function it(y){const{updates:O}=y;e.updateGameOptions({updatedGameOptions:O})}function St(y){const O=R(),{flow:{breakRoomArr:x},data:{roomHash:ae,gameType:B},player:{playerId:me}}=O.game,{breakoutRoomType:J=So.POWERUP_SELECTION,powerupIndex:De=null,powerupName:He="",type:le="",breakRoomArr:he=x}=y,Pe=[...O.game.questions.doneOrderForEvaluatedQuestions];O.game.questions.currentId&&Pe.push(O.game.questions.currentId);const We={questionId:"",doneOrder:Pe,remainingOrder:[...O.game.questions.remainingOrder],currentOptionsAppearance:[],powerupScopes:["game"]};O.game.flow.updateBreakRoomType({breakoutRoomType:J,powerupIndex:De,powerupName:He,type:le,breakRoomArr:he}),Y(We),O.routing.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.BREAK_ROOM_SCREEN),gameData:{roomHash:ae,playerId:me,gameType:B}})}function Q(){Ae()}function et({powerupIndex:y,powerupName:O,type:x}){St({breakoutRoomType:So.LEVEL_UP,powerupIndex:y,powerupName:O,type:x})}async function zt({powerupIndex:y}){const O=E(),{gameMode:x,gameType:ae,roomHash:B,mysticPeakLevelMap:me,isMasteryMode:J}=O.data,{playerId:De,totalCorrect:He}=O.player,le=me.findIndex(We=>We===He),he=wa(J),Pe={roomHash:B,playerId:De,gameType:he(ae,x),breakoutRoom:{powerUpIndex:y,level:le}};try{return await Mv(Pe),{success:!0}}catch(We){return N.error("Error at updateBreakRoom:-",We),{success:!1}}}async function qt({pathFinder:y}){const O=R(),{game:x}=O,{gameMode:ae,gameType:B,roomHash:me}=x.data,{playerId:J}=x.player,De=wa(x.data.isMasteryMode),He={roomHash:me,playerId:J,gameType:De(B,ae),pathFinder:y.toUpperCase()};try{return await Uv(He),{success:!0}}catch(le){return N.error("Error at updatePathFinder:-",le),{success:!1}}}async function Vt(){const y=R(),{gameMode:O,gameType:x,roomHash:ae,isMasteryMode:B}=y.game.data,{playerId:me}=y.game.player,J=wa(B),De={roomHash:ae,playerId:me,gameType:J(x,O)};try{return await Gv(De),{success:!0}}catch(He){return N.error("Error at updatePlayerObstacle:-",He),{success:!1}}}async function ss({breakRoomItem:y,powerupIndex:O=0}){const{name:x,type:ae}=y;n.showPowerupOnBreakroom({powerupIndex:O}),ae===Ji.powerup&&await ye({powerupIndex:O,powerupName:x}),(ae===Ji.obstacle||ae===Ji.safeSpot)&&(await zt({powerupIndex:O}),ae===Ji.obstacle?St({breakoutRoomType:So.OBSTACLES,powerupIndex:O}):Q())}function Kt(){const y=R(),{player:{currentDifficulty:O},data:{gameMode:x,gameType:ae}}=y.game;ga(x,ae)&&(y.game.data.disableAnswerFeedback(),O==="easy"&&y.game.data.enableAnswerFeedback())}function Cs(y){const O=[];O.push(y),A(O)||(E().questions.changeRemainingQuestionsOrder({remainingOrder:O}),Ae())}function Hs(y){E().data.gameIssuesUpdate(y)}return{triggerSkipQuestion:h,startQuestions:Ae,gameIssuesUpdate:Hs,reviewCurrentQuestion:Cs,handleShowingAnswerFeedback:Kt,breakRoomItemSelected:ss,updatePlayerObstacle:Vt,updatePathFinder:qt,levelUp:et,onBreakRoomInteraction:Q,handleShowingBreakRoom:St,updateGameOptions:it,onLoadAnswerLaterQuestions:dt,handleShowingAnswerLaterQuestions:ve,handleShowingReviewSection:bs,handleAnswerLaterQuestion:Gs,handleIncorrectAttemptForMastery:Ps,handleIncorrectAttemptForRest:ks,handleIncorrectAttempt:ls,updateIncorrectAttempt:ts,checkIfQuestionCanBeAddedToIncorrectAttempt:Rt,pauseGame:ut,countdownPause321:st,updateIsTestTimerEnabled:lt,setTestTimerCounter:je,currentQuestionReEdited:Oe,reconnectToGame:L,exitFromSummaryPage:q,setNextPossibleMemeSet:D,gameCompleted:ee,gameStopped:ie,getPowerups:M,awardSinglePowerup:ye,awardMultiplePowerups:F,resetDroppedStates:U,raiseHandForPlayer:H,setCurrentQuestion:Y,setNextQuestion:ce,resetRemainingQuestionsOrder:we,addQuestionToDoneOrder:Se,updateSlide:Re,handleMasteryMode:ct,handleMasteryReached:Qe,setHasReachedMasteryAtLeastOnce:_t,onStartAnsweringUnseenQuestions:yt,showMasteryCountdown:pt,afterMasteryCountdownOver:Ze,updateDoneQuestionsFrequency:ht,handleSyncingLiveWhiteboardState:te,replacePowerups:S,updateReactionForPlayer:b,syncGameQuestions:Te,updateMysticLeaderboard:ge,onCurrentQuestionOver:$,onRedemptionQuestionSelection:Ne,proceedFullPlayerControlledGames:Ye,handleImmunityActivation:pe,handleProceedingGame:de,doPlayerMetadataUpdation:_e,activatePowerupFromMysteryBox:G,activatePowerup:K,destroyPowerupEffect:ne,endQuestionsAndMoveOn:W,handleSkipManyQuestions:k,onSelectQuestion:Lt,setComprehensionQuestionListVisibility:It,setVisitedComprehensionQuestion:jt,updateComprehensionQuestionAttempts:bt,resetComprehensionQuestionAttempts:w,setIsComprehensionQuestionNavigationEnabled:Gt}}),On=IT,Js=e=>(Ho("data-v-cd223d64"),e=e(),jo(),e),ST={class:"overlay-wrapper"},RT={key:0,class:"overlay overlay-rejoin-in-progress"},CT=Js(()=>Ee("div",{class:"image-container animated pulse infinite"},[Ee("img",{src:"https://cf.quizizz.com/game/img/ui/rejoin_game.png",alt:"ufo"})],-1)),wT={class:"text-container"},OT={key:1,class:"overlay overlay-rejoin-in-progress"},kT=Js(()=>Ee("div",{class:"image-container animated pulse infinite"},[Ee("img",{src:"https://cf.quizizz.com/game/img/ui/rejoin_game.png",alt:"ufo"})],-1)),PT=Js(()=>Ee("div",{class:"text-container"}," Starting your game… ",-1)),bT=Js(()=>Ee("div",{class:"text-container"}," Get your friends ready! ",-1)),NT=[kT,PT,bT],DT={key:2,class:"overlay overlay-socket-disconnect"},LT={class:"text-container"},zT=Js(()=>Ee("br",null,null,-1)),MT={key:0,class:"text-container"},GT=Js(()=>Ee("br",null,null,-1)),qT=Js(()=>Ee("br",null,null,-1)),UT=Js(()=>Ee("br",null,null,-1)),xT={key:1,class:"btn-wrapper"},QT={key:3,class:"overlay overlay-socket-connect-error"},FT={class:"title-container"},BT=Js(()=>Ee("div",{class:"image-container"},[Ee("img",{src:"https://cf.quizizz.com/game/img/ui/disconnect.png",loading:"lazy",alt:"gamepad"})],-1)),HT={class:"text-container"},jT={key:0,href:"https://www.quizizz.com/check",target:"_blank",rel:"noopener noreferrer",class:"link"},VT={class:"btn-wrapper"},$T={key:4,class:"overlay overlay-rejoin-error"},WT=Js(()=>Ee("div",{class:"image-container"},[Ee("img",{src:"https://cf.quizizz.com/game/img/ui/invalid_game.png",alt:"avocado"})],-1)),YT={class:"text-container"},KT={key:0},JT={key:1},XT={key:2},ZT={key:3},ey={key:4},ty={key:5},sy={key:6},ny={key:7},ay={key:8,class:"error-code"},oy=Js(()=>Ee("br",null,null,-1)),iy=Js(()=>Ee("br",null,null,-1)),ry=Js(()=>Ee("br",null,null,-1)),cy=Js(()=>Ee("br",null,null,-1)),uy={class:"btn-wrapper"},ly={key:0,class:"overlay overlay-orientation-unsupported"},dy=Js(()=>Ee("div",{class:"image-container"},[Ee("img",{alt:"Rotate device",src:"https://quizizz.com/_media/questions/ab733438-90a4-4a9e-838b-bc35fe4c3b6e"})],-1)),my=Js(()=>Ee("div",{class:"text-large"}," Please rotate your device ",-1)),py=Js(()=>Ee("div",{class:"text-small"}," We don't support landscape mode. Please go back to portrait mode for best experience ",-1)),gy={__name:"Overlay",setup(e){const t=Ac(["getTranslatedText"]),s=Ac(["exitHandler"]),n=p(!1),a=p(!1),o=p(),i=p(),r=es(),c=Ht(),u=Jn(),l=ps(),d=On(),{hasDisconnected:m}=Nt(r),{questionResponseStatuses:_}=Nt(c),{type:f,options:g}=Nt(u),v=T(()=>f.value.split("|")[0]),R=T(()=>f.value.split("|")[1]),E=T(()=>{const G=eo(_,[Bs.NOT_SENT,Bs.SENDING]);return Qs(G).length===0}),h=T(()=>{const G=eo(_,[Bs.SENDING]);return Qs(G).length>0});T(()=>!m);const k=T(()=>!!(v.value==="responseUnsynced"&&!h.value&&E.value)),L=T(()=>{const{errorCode:G}=g;return G?`#${G}`:""}),q=T(()=>!g.hideContactUsMessage),{toggleDialog:D}=l,{toggleOverlay:ee}=u,{handleProceedingGame:ie,endQuestionsAndMoveOn:M}=d;Ka(v,(G,K)=>{G==="socketDisconnect"&&K!=="socketDisconnect"&&(o.value=setTimeout(()=>{a.value=!0},4e3))}),Ka(k,(G,K)=>{if(G&&!K){const ne=ue=>{ue===0?(ee(),D()):ue===1&&(ee(),s())};switch(R.value){case Oo.PRE_GAMEOVER:H(4e3,()=>{M()});break;case Oo.ON_EXIT:D({name:"exitGame|danger",actionCallback:ne});break;case Oo.ON_UNLOAD:ee();break}}}),Ui(()=>{v.value==="responseUnsynced"&&U()}),kr(()=>{o.value&&clearTimeout(o),i.value&&clearTimeout(i)});const{reloadFromNetworkIssue:oe}=r;function ye(G=!1){G?setTimeout(()=>s(),0):s(),ee()}function F(){n.value||(n.value=!0,oe())}function U(){ie({})}function H(G=2e3,K=()=>{}){i.value=setTimeout(()=>{ee(),K()},G)}function S(){ee()}return(G,K)=>(Le(),Ke("div",ST,[v.value==="rejoinProgress"?(Le(),Ke("div",RT,[CT,Ee("div",wT,At(ze(t)("Joining"))+"... ",1)])):ft("",!0),v.value==="createGroupGameProgress"?(Le(),Ke("div",OT,NT)):ft("",!0),v.value==="socketDisconnect"?(Le(),Ke("div",DT,[Ee("div",LT,[Ee("div",null,[Ee("span",null,At(ze(t)("Trying to reconnect...")),1),zT,Ee("span",null,"( "+At(ze(t)("Please check your internet connection"))+" )",1),L.value?(Le(),Ke("div",MT,[GT,q.value?(Le(),Ke(Da,{key:0},[qT,hi(" "+At(ze(t)("If the issue persists please share a screenshot at"))+" student-support@quizizz.com ",1)],64)):ft("",!0),UT,hi(" Error code - "+At(L.value),1)])):ft("",!0),a.value?(Le(),Ke("div",xT,[Ee("div",{class:"reload-btn",onClick:F},At(ze(t)("Reload")),1)])):ft("",!0)])])])):ft("",!0),v.value==="socketConnectError"||v.value==="serverNotReachable"?(Le(),Ke("div",QT,[Ee("div",FT,At(ze(t)("Could not connect to quizizz")),1),BT,Ee("div",HT,At(ze(t)("What to do now?")),1),v.value==="socketConnectError"?(Le(),Ke("a",jT,At(ze(t)("Check for firewall issues")),1)):ft("",!0),Ee("div",VT,[Ee("div",{class:"reload-btn",onClick:F},At(ze(t)("Reload")),1)])])):ft("",!0),v.value==="rejoinError"?(Le(),Ke("div",$T,[WT,Ee("div",YT,[R.value==="ROOM_EXPIRED"?(Le(),Ke("span",KT,At(ze(t)("Sorry, game has expired")),1)):ft("",!0),R.value==="ROOM_NOT_STARTED"?(Le(),Ke("span",JT,At(ze(t)("The game has not started yet."))+" "+At(ze(t)("Please check with your teacher.")),1)):ft("",!0),R.value==="ROOM_NOT_FOUND"||R.value==="game.NOT_FOUND"?(Le(),Ke("span",XT,At(ze(t)("This game could not be found."))+" "+At(ze(t)(" Please check with your teacher.")),1)):ft("",!0),R.value==="ROOM_STOPPED"||R.value==="ROOM_COMPLETED"?(Le(),Ke("span",ZT,At(ze(t)("Sorry, game is no longer valid")),1)):ft("",!0),R.value==="PLAYER_NOT_FOUND"||R.value==="PLAYER_DELETED"?(Le(),Ke("span",ey,At(ze(t)("You are not authorized to join this game."))+" "+At(ze(t)("If you believe this is an error, please check with the teacher.")),1)):ft("",!0),R.value==="MISC"?(Le(),Ke("span",ty,At(ze(t)("An error has occurred."))+" "+At(ze(t)("Please try again.")),1)):ft("",!0),R.value==="NETWORK"?(Le(),Ke("span",sy,At(ze(t)("Couldn't connect to Quizizz."))+" "+At(ze(t)("Please check your internet connection and try again.")),1)):ft("",!0),G.ROOM_NO_ASSIGNMENTS?(Le(),Ke("span",ny,At(ze(t)("This link doesn't seem to be working."))+" "+At(ze(t)("Please check with your teacher.")),1)):ft("",!0),L.value?(Le(),Ke("span",ay,[oy,q.value?(Le(),Ke(Da,{key:0},[iy,hi(" "+At(ze(t)("If the issue persists please share a screenshot at"))+" student-support@quizizz.com ",1)],64)):ft("",!0),ry,hi(" Error code - "+At(L.value)+" ",1),ze(g).traceId?(Le(),Ke(Da,{key:1},[cy,Ee("span",null,"TraceId: "+At(ze(g).traceId),1)],64)):ft("",!0)])):ft("",!0)]),Ee("div",uy,[Ee("div",{class:"back-home-btn",onClick:ye},At(ze(t)("Back to home")),1)])])):ft("",!0),Is(Vo,{name:"anim-overlay-unsupported",appear:"",enterActiveClass:"animated zoomIn anim-300-duration",leaveActiveClass:"animated zoomOut anim-300-duration"},{default:Vs(()=>[v.value==="orientationUnsupported"?(Le(),Ke("div",ly,[dy,Ee("div",{class:"text-container"},[my,py,Ee("div",{class:"text-large dismiss-btn",onClick:S}," Dismiss ")])])):ft("",!0)]),_:1})]))}},fy=sn(gy,[["__scopeId","data-v-cd223d64"]]),_y={name:"Toast",props:{icon:{type:String,default:""},type:{type:String,default:En.DEFAULT,validator:e=>Object.values(En).includes(e)},title:{type:String,default:""},action:{type:String,default:""},actionCB:{type:Function,default(){}}},computed:{classes(){switch(this.type){case En.ERROR:return"toast-error";case En.SUCCESS:return"toast-success";case En.ALERT:return"toast-alert";case En.DEFAULT:default:return"toast-default"}},hasAction(){return!!this.action},iconToUse(){if(!A(this.icon))return this.icon;switch(this.type){case En.SUCCESS:return"icon-far-check-square";case En.ERROR:return"icon-fas-exclamation-triangle";case En.DEFAULT:default:return"icon-fas-exclamation-triangle"}}}},hy=e=>(Ho("data-v-c2519bae"),e=e(),jo(),e),Ey={class:"title"},vy={key:0,class:"action"},Ay={type:"button",class:"text-xs action-button"},Ty=hy(()=>Ee("button",{type:"button",class:"action-cancel"},[Ee("i",{class:"icon-fas-times"})],-1));function yy(e,t,s,n,a,o){return Le(),Ke("div",{class:_s(["toast",[o.classes]]),"data-cy":"toast","data-testid":"toast"},[Ee("i",{class:_s(o.iconToUse),"data-cy":"toast-icon","data-testid":"toast-icon"},null,2),Ee("div",Ey,At(s.title),1),o.hasAction?(Le(),Ke("div",vy,[Ee("button",Ay,At(s.action),1),Ty])):ft("",!0)],2)}const Iy=sn(_y,[["render",yy],["__scopeId","data-v-c2519bae"]]),Sy={components:{Toast:Iy},computed:{...ua(km,["toasts"])}},Ry={class:"toast-manager",translate:"no"};function Cy(e,t,s,n,a,o){const i=Bo("Toast");return Le(),Ke("div",Ry,[Is(Dp,{tag:"div",name:"list",class:"transition"},{default:Vs(()=>[(Le(!0),Ke(Da,null,mr(e.toasts,r=>(Le(),xs(i,{key:JSON.stringify(r),type:r.type||"DEFAULT",icon:r.icon,title:r.title,action:r.action,actionCB:r.actionCB},null,8,["type","icon","title","action","actionCB"]))),128))]),_:1})])}const wy=sn(Sy,[["render",Cy],["__scopeId","data-v-7f2b14e4"]]),{aiServiceUrl:Hi,gameServerUrl:qm}=Ua;async function Oy(e){const t={},s=`${Hi}/quizizz-ai/notice-wonder/check-eligibility`;return ke.post(s,{payload:e,...t})}async function ky(e){const t={},s=`${Hi}/quizizz-ai/stream/quiz-time-analysis`;return ke.post(s,{payload:e,...t})}async function Py(e){const t={},s=`${Hi}/quizizz-ai/notice-wonder`;return ke.post(s,{payload:e,...t})}async function by(e){const t={},s=`${Hi}/quizizz-ai/stream/generate-song`;return ke.post(s,{payload:e,...t})}async function Ny(e){const t={},s=`${Hi}/quizizz-ai/stream/emo-reflect`;return ke.post(s,{payload:e,...t})}async function FO(e){const t=`${qm}play-api/getHint`;return ke.post(t,{payload:e})}async function Dy(e){const t=`${qm}play-api/get-answer-explanation`;return ke.post(t,{payload:e})}function Ql(e){const t=e.match(/<katex.*?<\/katex>/g),s=wt(t,a=>{const i=a.match(/latex.*?=.*?".*?"/)[0].match(/".*"/)[0],r=zp(i.substring(1,i.length-1));let c="";try{c=Ly(r)}catch(u){N.error("Error: replaceKatexElementsWithHTML",u)}return` ${c} `});let n=e;return ot(t,(a,o)=>{n=n.replace(a,s[o])}),n}function Ly(e){return Lp.renderToString(e,{displayMode:!0})}const qr=e=>(Ho("data-v-fbfd3da4"),e=e(),jo(),e),zy={class:"bg-[#17001C] w-full h-full relative pt-7 flex flex-col px-4 pb-2 gap-8","data-testid":"answer-explanation-container"},My=qr(()=>Ee("img",{class:"w-full absolute top-0 left-0",src:"https://cf.quizizz.com/join/img/answer_explanation/bg-vector.svg"},null,-1)),Gy={class:"header flex gap-3 items-center relative"},qy={class:"flex flex-col gap-1 relative"},Uy={class:"text-[#F2CB7F] text-2xl font-medium"},xy=qr(()=>Ee("img",{class:"absolute -bottom-4 right-0",src:"https://cf.quizizz.com/join/img/answer_explanation/line.svg"},null,-1)),Qy={key:0,class:"animated fadeInRight anim-200-duration w-25 h-19 absolute -right-8",src:"https://cf.quizizz.com/join/img/answer_explanation/flipped_head.svg"},Fy={key:0,class:"all-content flex flex-col gap-4 overflow-auto"},By={key:0,class:"helper-bit absolute right-0 z-1 bottom-0 animated bounceInUp"},Hy={class:"helper-bit-internal relative"},jy={class:"absolute -top-15 right-17 flex flex-col gap-3"},Vy={key:0,class:"animated fadeInRight anim-200-duration"},$y={class:"upper h-16 bg-[#1D62AA] rounded-t-xl p-4 pb-3 text-[#FCC775] font-bold text-2xl flex items-center gap-2"},Wy={class:"icon w-7 h-7"},Yy=["src"],Ky={class:"font-medium"},Jy=["innerHTML"],Xy={key:1},Zy=qr(()=>Ee("span",{class:"bullet"},null,-1)),eI=["innerHTML"],tI={class:"flex items-center -ml-2 mt-1"},sI={key:1,class:"w-full h-full flex flex-col items-center justify-center"},nI=qr(()=>Ee("img",{class:"h-[212px] w-[152px]",src:"https://cf.quizizz.com/join/img/answer_explanation/ae_errored.png"},null,-1)),aI={class:"font-bold text-xl text-[#9A9A9A] text-center"},oI=Fc({__name:"index",setup(e){const t=p([]),s=p({}),n=p("Remembering"),a=p({}),o=p(!1),i=p(!1),r=p(null),c=p(null),u=p(!1),l=p(!1),d=["Let’s dive deeper?","Unlock the answer?","Let’s learn more?"],m=p(!1),_=mt(),{roomHash:f}=Nt(_),g=Nt(Dt()).playerId,{currentQuestion:v,currentQuestionCurrentAttemptResponse:R,currentId:E,currentQuestionCurrentAttemptIndex:h}=Nt(Ht());Ui(async()=>{Ir.triggerEvent("answer_explanation_student"),await ie()});const k=T(()=>{const ge=Math.floor(Math.random()*d.length);return d[ge]});function L(){$e.logEvent("ae_qbit_clicked",{questionId:E.value,roomHash:f.value,playerId:g.value,questionAttemptCount:h.value,copy:k.value}),l.value=!0,setTimeout(()=>{u.value=!0,t.value.forEach(ge=>{ge.isOpen=!0})},500)}function q(ge,Te){a.value[ge]=Te,$e.logEvent("answer_explanation_feedback",{questionId:E.value,feedback:Te,section:ge,questionAttemptCount:h.value})}function D(ge){return a.value[ge]!==void 0}function ee(ge){return a.value[ge]}async function ie(){o.value=!0,c.value=null,r.value=null,await M(),!r.value&&i.value&&oe(),r.value&&ye(),o.value=!1}async function M(){var ge,Te,b;try{const Y=(ge=(await Dy({questionId:E.value,roomHash:f.value,playerId:g.value})).response)==null?void 0:ge.data;s.value=(Te=Y==null?void 0:Y.answerExplanation)==null?void 0:Te.data,n.value=Y.bloomLevel;const ce=(b=Y==null?void 0:Y.answerExplanation)==null?void 0:b.status;i.value=ce==="SUCCESS",r.value=ce!=="SUCCESS"?ce:null,r.value&&(c.value="SB_API_FAILED")}catch(te){c.value="SB_API_FAILED",r.value=te instanceof Error?te.message:String(te)}}function oe(){try{F(),$e.logEvent("ae_qbit_shown",{questionId:E.value,roomHash:f.value,playerId:g.value,questionAttemptCount:h.value,copy:k.value}),t.value.length>1&&(m.value=!0)}catch(ge){c.value="SB_CONSTRUCT_HEADERS_FAILED",r.value=ge instanceof Error?ge.stack||ge.message:String(ge)}}function ye(){const ge={questionId:E.value,roomHash:f.value,playerId:g.value,error:r.value,questionAttemptCount:h.value};c.value&&$e.logEvent(c.value,ge)}function F(){const ge=v.value.type;ge==="MCQ"||ge==="MSQ"?U():n.value==="Remembering"?S():ue(!0)}function U(){let ge;switch(n.value){case"Understanding":H(),ue();break;case"Applying":ge=!!s.value.crucialStep,ge?(K(),ue()):(ne(),de(),ue());break;case"Analyzing":ne(),de(),ue();break;case"Remembering":G();break;case"Evaluating":case"Creating":ue(!0)}}function H(){const ge=pe(),Te=ge==null?void 0:ge.summary,{reason:b="",reinforcement:te=""}=Te??{};t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/recap.svg",heading:X("Quick recap"),text:`<ul style="list-style-type:disc"><li>${b}</li><li>${te}</li></ul>`,isOpen:!0,isPadding:!0})}function S(){const{summary:ge,memoryAid:Te}=s.value;t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:X("Explanation"),text:ge,isOpen:!0}),t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/tip-remember.svg",heading:X("Tip to remember"),text:Te,isOpen:!1})}function G(){const ge=pe(),Te=ge==null?void 0:ge.summary,b=s.value.memoryAid;if(typeof Te=="string")t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:X("Explanation"),text:Te,isOpen:!0});else{const{reason:te="",reinforcement:Y=""}=Te??{};t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:X("Explanation"),text:`<ul style="list-style-type:disc"><li>${te}</li><li>${Y}</li></ul>`,isOpen:!0,isPadding:!0})}t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/tip-remember.svg",heading:X("Tip to remember"),text:b,isOpen:!1})}function K(){const ge=s.value.crucialStep;t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/crucial-step.svg",heading:X("Crucial step"),text:ge,isOpen:!0})}function ne(){const ge=pe(),Te=(ge==null?void 0:ge.summary)||"";t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:X("Explanation"),text:Te,isOpen:!0})}function ue(ge=!1){const Te=s.value.stepByStepExplanation.map(b=>({heading:"",text:b}));t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/step-by-step.svg",heading:X("Step by step explainer"),text:Te,isOpen:ge})}function de(){if(v.value.type==="MSQ")return;const Te=pe(),b=Te==null?void 0:Te.possibleReason;t.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/what-went-wrong.svg",heading:X("What went wrong?"),text:b,isOpen:!1})}function pe(){const ge=v.value.options,Te=R.value.response,b=ge[Te].id??ge[Te]._id,te=ge[Te].text,Y=Ae(te);return s.value.wrongOptions.find(Se=>{const{optionId:Re,optionText:Qe}=Se;return Re&&Re===b?!0:Qe===te||Qe===Y})}function Ae(ge){const Te=ge||"",b=/<katex latex="([^"]+)"><\/katex>/,te=Te.match(b);if(te&&te[1])return te[1];const Y=document.createElement("div");return Y.innerHTML=Te,Y.querySelectorAll("blank").forEach(ce=>{ce.innerHTML="_____"}),(Y.textContent||Y.innerText||"").trim()}return(ge,Te)=>{const b=Bo("ButtonV2");return Le(),Ke("div",zy,[My,Ee("div",Gy,[Ee("div",qy,[Ee("div",Uy,At(ze(X)("Nail it next time, here's how!")),1),xy]),u.value?(Le(),Ke("img",Qy)):ft("",!0)]),i.value?(Le(),Ke("div",Fy,[Is(Vo,{enterActiveClass:"animated bounceInUp",leaveActiveClass:"animated bounceOutDown"},{default:Vs(()=>[m.value&&!l.value?(Le(),Ke("div",By,[Ee("div",Hy,[Ee("div",jy,[Ee("div",{class:"level-up cursor-pointer right-full w-fit p-4 flex items-center justify-center rounded-3xl rounded-br-none bg-[#004B99] text-xl font-bold text-[#FCC775] whitespace-nowrap",onClick:L},At(ze(X)(k.value)),1),Ee("div",{class:"level-up-yes cursor-pointer right-full w-fit py-1 p-4 flex items-center justify-center rounded-2xl text-xl font-bold text-[#FCC775] whitespace-nowrap",onClick:L},At(ze(X)("Yes")),1)]),Ee("img",{class:"cursor-pointer",src:"https://cf.quizizz.com/join/img/answer_explanation/ai_helper.svg",onClick:L})])])):ft("",!0)]),_:1}),(Le(!0),Ke(Da,null,mr(t.value,(te,Y)=>(Le(),Ke("div",{key:Y,class:"card flex w-full h-fit flex-col relative"},[te.isOpen?(Le(),Ke("div",Vy,[Ee("div",$y,[Ee("div",Wy,[Ee("img",{class:"w-full h-full",src:te.icon},null,8,Yy)]),Ee("div",Ky,At(te.heading),1)]),Ee("div",{class:_s(["lower rounded-b-xl p-4 pt-0 bg-[#1D62AA] text-ds-light-500 text-lg",{"pl-7":te.isPadding}])},[te.heading!=="Step by step explainer"?(Le(),Ke("p",{key:0,innerHTML:ze(Ql)(te.text)},null,8,Jy)):(Le(),Ke("div",Xy,[(Le(!0),Ke(Da,null,mr(te.text,(ce,we)=>(Le(),Ke("div",{key:we,class:"step relative"},[Zy,ce.text?(Le(),Ke("p",{key:0,innerHTML:ze(Ql)(ce.text)},null,8,eI)):ft("",!0)]))),128))])),Ee("div",tI,[Is(b,{"data-testid":"positive-feedback-button",licon:ee(te.heading)==="positive"?"icon-fas-thumbs-up":"icon-fa-thumbs-up",type:"link-dark",size:"small",isDisabled:D(te.heading),class:"!text-ds-light-500",testId:"positive-feedback-button",onClick:pr(ce=>q(te.heading,"positive"),["stop"])},null,8,["licon","isDisabled","onClick"]),Is(b,{licon:ee(te.heading)==="negative"?"icon-fas-thumbs-down":"icon-far-thumbs-down",type:"link-dark",size:"small",isDisabled:D(te.heading),class:"!text-ds-light-500",testId:"negative-feedback-button",onClick:pr(ce=>q(te.heading,"negative"),["stop"])},null,8,["licon","isDisabled","onClick"])])],2)])):ft("",!0)]))),128))])):!o.value&&!i.value?(Le(),Ke("div",sI,[nI,Ee("div",aI,At(ze(X)("We couldn’t generate a solution breakdown for this question.")),1)])):ft("",!0)])}}}),iI=sn(oI,[["__scopeId","data-v-fbfd3da4"]]),rI={class:"theme-classic"},cI={class:"screen-loading"},uI={class:"loader-div"},lI=Mp('<img alt="Loader" class="loading-logo" src="https://cf.quizizz.com/img/logos/new/logo-wot-sm-updated.png" data-v-98344050><div class="loading-graphic" data-v-98344050><div class="circle-1" data-v-98344050><div class="circle-2" data-v-98344050><div class="circle-3" data-v-98344050><div class="circle-4" data-v-98344050><div class="circle-5" data-v-98344050><div class="circle-6" data-v-98344050><div class="circle-7" data-v-98344050><div class="circle-8" data-v-98344050></div></div></div></div></div></div></div></div></div>',2),dI=Fc({__name:"Loading",setup(e){const t=window.location.search.includes("earn-coins=true"),s=aa(()=>Ue(()=>import("./LoadingInstructions.D9TiuyBU.js"),__vite__mapDeps([5,1,2])));return(n,a)=>(Le(),Ke("div",rI,[Ee("div",cI,[Ee("div",uI,[lI,ze(t)?(Le(),xs(ze(s),{key:0})):ft("",!0)])])]))}}),ku=sn(dI,[["__scopeId","data-v-98344050"]]);function BO(){const e=es();return{count:T(()=>e.ticker.count)}}function mI(e,t){const s=setTimeout(e,t);return kr(()=>{clearTimeout(s)}),s}function HO(e,t){const s=setInterval(e,t);return kr(()=>{clearTimeout(s)}),s}function pI(e,t,s){Ui(()=>{e.addEventListener(t,s)}),kr(()=>{e.removeEventListener(t,s)})}function Fl(e,t){return pI(window,e,t)}function gI(e=[],{allowDuplicates:t=!1}={}){N.invariant(Array.isArray(e),"[useListItemAddRemove]: initial value passed must be an array");const s=p(e),n=r=>s.value.includes(r);return{state:s,includes:n,add:r=>(N.isEnvProd||(X_(r)||N.warn("[useListItemAddRemove]: Only toggle primitives. This composable is not suited for others since it would only be a reference comparision"),N.invariant(t||!n(r),`[useListItemAddRemove]: cannot add ${r} as duplicates are not allowed`)),s.value.push(r)),remove:r=>gd(s.value,c=>c===r),clear:()=>{s.value=[]}}}function jO(e=[]){const{state:t,includes:s,add:n,remove:a,clear:o}=gI(e);return{state:t,has:s,toggle:r=>s(r)?a(r):n(r),clear:o}}const fI={name:"Modal",inject:["selectedTheme"],props:{isVisible:{type:Boolean,default:!0},shouldShowMediaOptionModal:{type:Boolean,default:!1},acquireFullHeight:{type:Boolean,default:!1},acquireFullWidth:{type:Boolean,default:!1},focusContainer:{type:Boolean,defalt:!0},stackToBottom:{type:Boolean,default:!1},transition:{type:String,default:"slide"},modalContainerStyle:{type:Object,default:()=>({})},modalMaskStyle:{type:Object,default:()=>({})},modalMaskContainerStyle:{type:Object,default:()=>({})}},emits:["closeModal"],data(){return{lastActiveElement:null}},computed:{shouldAlignAtStart(){return!!(this.shouldShowMediaOptionModal&&this.selectedTheme!==rt.CLASSIC)}},created(){document.activeElement&&(this.lastActiveElement=document.activeElement)},mounted(){document.addEventListener("keydown",this.closeOnEscapeInstance),this.$nextTick().then(()=>{this.$refs.modalContentContainer&&this.focusContainer&&this.$refs.modalContentContainer.focus()})},beforeUnmount(){document.removeEventListener("keydown",this.closeOnEscapeInstance),this.lastActiveElement&&this.lastActiveElement.focus()},methods:{closeModal(e=!1,t=!1){this.$emit("closeModal",e,t)},closeOnEscapeInstance(e){e.keyCode===27&&this.closeModal(!0)}}};function _I(e,t,s,n,a,o){return Le(),xs(Vo,{name:s.transition,appear:""},{default:Vs(()=>[s.isVisible?(Le(),Ke("div",{key:0,class:"modal-container","data-cy":"modal-container",style:da(s.modalContainerStyle)},[Ee("div",{class:_s(["modal-mask-container",[s.stackToBottom?"stack-to-bottom":""]]),style:da(s.modalMaskContainerStyle)},[Ee("div",{class:"modal-mask","data-testid":"modal-mask",style:da(s.modalMaskStyle),onClick:t[0]||(t[0]=i=>o.closeModal(!0))},null,4),Ee("div",{ref:"modalContentContainer",tabindex:"0",class:_s(["modal-body",[s.acquireFullHeight?"acquire-full-height":"",s.acquireFullWidth?"acquire-full-width":"",o.shouldAlignAtStart?"align-at-start":""]]),onClick:t[1]||(t[1]=pr(()=>{},["stop"]))},[za(e.$slots,"body",{role:"dialog",ariaModal:"true"},void 0,!0)],2)],6)],4)):ft("",!0)]),_:3},8,["name"])}const Ca=sn(fI,[["render",_I],["__scopeId","data-v-67623aaa"]]),hI={name:"SnackBar",props:{destroyInTime:{type:Number,default:5},message:{type:String,default:""},clickToDismiss:{type:Boolean,default:!0}},emits:["hideSnackBar"],data(){return{snackBarTimeout:null}},mounted(){this.snackBarTimeout=setTimeout(()=>this.$emit("hideSnackBar"),this.destroyInTime*1e3)},beforeUnmount(){this.snackBarTimeout&&clearTimeout(this.snackBarTimeout)},methods:{dismiss(){this.clickToDismiss&&(this.snackBarTimeout&&clearTimeout(this.snackBarTimeout),this.snackBarTimeout=null,this.$emit("hideSnackBar"))}}},EI=e=>(Ho("data-v-8a59f59d"),e=e(),jo(),e),vI={translate:"no",class:"snackbar-container","data-cy":"snackbar-container",role:"alert"},AI=["innerHTML"],TI=EI(()=>Ee("div",{class:"action"},null,-1));function yI(e,t,s,n,a,o){return Le(),xs(Vo,{appear:"",enterActiveClass:"animated zoomIn anim-300-duration",leaveActiveClass:"animated zoomOut anim-300-duration"},{default:Vs(()=>[Ee("div",vI,[Ee("div",{class:"content","data-cy":"content",onClick:t[0]||(t[0]=(...i)=>o.dismiss&&o.dismiss(...i))},[Ee("p",{class:"message","data-cy":"message",innerHTML:s.message},null,8,AI)]),TI])]),_:1})}const II=sn(hI,[["render",yI],["__scopeId","data-v-8a59f59d"]]);function SI(e,t){const s=tn(),n=to(),{currentPage:a}=s,{notification:o}=e;let i=!0,r=!1,c=!1,u=!1,l={},d={};const m=du({quizzes:o.quizzes,users:o.users,items:o.assigned}),_=C(o.assigned,"[0]._id");for(let f=0;f<n.groupAssignedGames.length;f++)if(n.groupAssignedGames[f].gamesAttempted[0].gameInfo.roomHash===_){i=!1;break}for(let f=0;f<t.length;f++)if(t[f].type==="gameAssigned"){u=!0;break}if(i&&!u){l={groupAssignedGames:[...m.groupAssignedItems,...n.groupAssignedGames],totalGroupAssignedGames:m.groupAssignedTotal+n.totalGroupAssignedGames,commonQuizzesData:{...m.quizzes,...n.commonQuizzesData},commonUsersData:{...m.users,...n.commonUsersData}};const f=P.isExactly(a,P.List.IN_GAME.SUMMARY);if(c=f||!ru(a),c){r=!f;const g=m.quizzes[C(m.groupAssignedItems,"[0].quizInfo.quizId","")]||{},v=C(m.groupAssignedItems,"[0].gamesAttempted[0].gameInfo",{}),R=v.assignmentTitle||"";let{lmsInfo:E}=v,h=!1;o.assigned[0]&&typeof o.assigned[0].replayOf=="string"&&o.assigned[0].replayOf!==""&&(h=!0),E&&E.lmsName&&(E={...E,roomHash:v.roomHash,roomCode:v.gameCode}),d={id:`gameAssigned.${Date.now()}`,showAs:"modal",type:on.GAME_ASSIGNED_NOTIF,data:{assignedBy:m.users[v.host&&v.host.id]||null,gameSubject:g.subjects||[],gameInfo:v,lmsInfo:E,assignmentTitle:R,isReplayLiveGameModal:h}}}}return{mutationPayload:l,isANewAssignedGame:i,canShowNotification:c,notifItem:d,shouldUpdateGroupGames:r,isNotificationAlreadyPresent:u}}const Pu=Pt("notification",()=>{const e=ps(),t=p([]);function s(i){const r=Os(t.value,{id:i.id});r>=0?t.value.splice(r,1):t.value.push(i)}function n(){const i=t.value[0];if(!A(i))switch(i.showAs){case"modal":e.toggleModal({type:i.type,options:{notifId:i.id,...i.data}});break;default:N.warn(`handleShowOnceNotifsUpdate: No 'showAs' handler for notification id(${i.id})`)}}async function a(){const r=rs().mongoId;try{r&&await Xf({userId:r})}catch(c){N.error("Error at action subscribeForNotifications",c)}}function o(i){const r=to(),c=SI(i,t);!c.isANewAssignedGame||c.isNotificationAlreadyPresent||(c.canShowNotification&&(s(c.notifItem),n()),c.shouldUpdateGroupGames&&_c(r.updateGroupAssignedGames,0,c.mutationPayload))}return{showOnceList:t,gameAssignedNotifHandler:o,subscribeForNotifications:a,toggleShowOnceNotification:s,handleShowOnceNotifsUpdate:n}});function RI(){const e=p(!1);function t(){e.value=!e.value}return{isAvatarDownloadModalOpen:e,toggleAvatarDownloadModal:t}}const Um=e=>(Ho("data-v-0469522f"),e=e(),jo(),e),CI={key:0,class:"w-[35%] h-screen rounded-l-lg border-t-2 border-b-2 border-l-2 border-[#FFBF4E] z-[10002] overflow-auto"},wI={class:"app-content h-full w-full transition-all relative"},OI={key:0,class:"answer-helper absolute w-full h-full realtive z-10001"},kI=Um(()=>Ee("div",{class:"onboarding-content absolute right-4 top-15 flex flex-col items-end gap-2"},[Ee("img",{class:"h-20 w-21",src:"https://cf.quizizz.com/join/img/answer_explanation/onboard-ae.svg"}),Ee("div",{class:"w-[245px] p-2 justify-center items-center rounded-lg text-white text-2xl font-bold"}," This section assists you to learn from your mistakes and retry the question right away! ")],-1)),PI=[kI],bI={class:"m-auto rounded-lg p-6 w-7/12 bg-ds-light-500"},NI={class:"text-lg font-bold"},DI=Um(()=>Ee("br",null,null,-1)),LI={class:"flex justify-end mt-7"},zI={class:"border bg-[#131313] border-ds-light-500-50 rounded-2xl avatar-shop-modal flex overflow-hidden max-h-full max-w-full"},MI={__name:"Root",setup(e){const t=aa(()=>Ue(()=>import("./AuthModal.D2H26OlT.js"),__vite__mapDeps([6,1,2,7]))),s=aa(()=>Ue(()=>import("./GroupJoinModal.ChtKyT4t.js"),__vite__mapDeps([8,1,2,9]))),n=aa(()=>Ue(()=>import("./ClassCodeModal.auLC0KSr.js"),__vite__mapDeps([10,1,2,11]))),a=aa(()=>Ue(()=>import("./GameAssignedNotifModal.DiTTshnm.js"),__vite__mapDeps([12,1,2,13]))),o=aa(()=>Ue(()=>import("./ChallengeReplayNotifModal.Bx0-RP04.js"),__vite__mapDeps([14,1,2,15]))),i=aa(()=>Ue(()=>import("./ImageZoomPreview.hO31dQCy.js"),__vite__mapDeps([16,1,2,17]))),r=aa(()=>Ue(()=>import("./AvatarShop.DexC6nUc.js"),__vite__mapDeps([18,1,2,19,20,21,22,23,24,25,26,27,28,29]))),c=aa(()=>Ue(()=>import("./DownloadAvatar.B4GBFnH-.js"),__vite__mapDeps([27,1,2,19,28]))),u=rs(),l=es(),d=tn(),m=mt(),_=ps(),f=Jn(),g=Dt(),v=ln(),R=ro(),E=Zn(),h=Xo(),k=Pu(),L=Aa(),q=Xa(),D=hs(),ee=Ht(),{showAvatarShop:ie}=Nt(q),{isAvatarDownloadModalOpen:M,toggleAvatarDownloadModal:oe}=RI(),{callsInProgress:ye,requestCountry:F,isApplicationLoaded:U}=Nt(l),{currentPage:H}=Nt(d),{gameState:S,gameType:G,gameMode:K,expiry:ne}=Nt(m),{type:ue}=Nt(f),{isAuthenticated:de,phoneNumberValidationStatus:pe,emailValidationStatus:Ae,firstName:ge,lastName:Te,userIsUnderAge:b,parentEmail:te,isCorporateUser:Y,isLoggedIn:ce,email:we}=Nt(u),{modal:Se,dialog:Re,media:Qe,pageLoaderVisible:ct,snackBar:_t}=Nt(_),{selectedTheme:yt,selectedLanguage:pt}=Nt(v),{hasJoinedTheGame:Ze}=Nt(g),{inviteGroupInfo:ht}=Nt(h),Lt=T(()=>()=>Qe.value),{isMobile:Gt,getDeviceDiscriminatorWrapper:It}=Qo(),jt=T(()=>{const le={};return Gt.value&&(le.height=`${Qe.value.visibleViewportHeight}px`),le}),bt=p(!1),w=T(()=>Re.value.name!==""),$=T(()=>Se.value.type),W=T(()=>Se.value.options),fe=T(()=>$.value===on.AUTH),Ne=T(()=>$.value===on.CLASS_CODE),Ye=T(()=>$.value===on.GROUP_JOIN),Me=T(()=>rn("joinGroup",ye.value).isIt),_e=T(()=>rn("getGroupInfo",ye.value).isIt),Oe=T(()=>$.value===on.GAME_ASSIGNED_NOTIF),je=T(()=>$.value===on.IMAGE_ZOOM_PREVIEW),lt=T(()=>$.value===on.CHALLENGE_REPLAY_NOTIF),gt=T(()=>$.value===on.LMS_AUTH),st=T(()=>Ss.getItem("answerExplanationOnboardingSeen")?!1:(Ss.setItem("answerExplanationOnboardingSeen",!0),!0));function ut(){ee.canShowAnswerExplanation&&st&&!bt.value&&(bt.value=!0)}const Rt=T(()=>rn("checkRoom",ye.value).isIt||rn("checkAssignment",ye.value).isIt),ts=T(()=>rn("joinRoom",ye.value).isIt||rn("join",ye.value).isIt),ls=T(()=>Rt.value||ts.value);function ks(){document.body.classList.remove("using-keyboard")}function Ps(le){(le.keyCode===9||le.keyCode===13)&&document.body.classList.add("using-keyboard")}function Gs(){Fl("mousedown",ks),Fl("keydown",Ps)}function bs(){_.toggleSnackBar()}function ve(le,he,Pe){return Gd(le,he,Pe)}function dt(){const he=new uu(window.location.href).query,Pe={};he.theme&&Object.values(rt).includes(he.theme.toLowerCase())&&(Pe.selectedTheme=he.theme.toLowerCase()),window.requestCountry==="TW"&&!ce.value&&(Pe.selectedLanguage="zh-TW"),he.locale&&ma.map(at=>at.locale).includes(he.locale.toLowerCase())&&(Pe.selectedLanguage=he.locale.toLowerCase()),he.music&&(he.music.toLowerCase()==="on"?Pe.playMusic=!0:he.music.toLowerCase()==="off"&&(Pe.playMusic=!1)),he.sfx&&(he.sfx.toLowerCase()==="on"?Pe.playSFX=!0:he.sfx.toLowerCase()==="off"&&(Pe.playSFX=!1)),he.memes&&(he.memes.toLowerCase()==="on"?Pe.showMemes=!0:he.memes.toLowerCase()==="off"&&(Pe.showMemes=!1)),Object.keys(Pe).length&&v.setAppSettings(Pe)}function it(){ru(H.value)||dt()}U.value&&it();let St=null;function Q(le={}){St&&clearTimeout(St);const he=!A(le)||P.matches(H.value,P.List.IN_GAME,1);let Pe=le;he&&(A(Pe)&&(Pe={name:P.get(P.List.LANDING.HOME)}),Go({gameMode:K.value,gameType:G.value})&&G.value===Be.LIVE&&(A(Pe.metaData)&&(Pe.metaData={}),Pe.metaData.query={pgm:re.PRESENTATION})),l.handleExitGame({redirectTo:Pe})}async function et(le,he,Pe,We=Fe.get(Fe.List.REPLAY)){St&&clearTimeout(St),await R.replayGameFromSummaryPipeline({gameType:le,gameMode:he,gameOptions:Pe,startSource:We}),g.updateIncompleteGame(D.questionTimer,ee.currentId,ee.orderedOriginalResponses)}function zt(){const le=new Date().getTime(),he=ne.value-le,Pe=Math.min(he,3*24*60*60*1e3);St=mI(()=>E.handleGameExpiry(),Pe)}function qt(le){u.onEmailValidation({email:le})}function Vt(le){u.onPhoneNumberValidation({phoneNumber:le})}function ss(le,he,Pe,We){u.onAuthentication({username:le,password:he,shouldAppendRoomCodeToQueryParam:Pe,redirectToUrl:We})}function Kt(){_.toggleModal()}function Cs(){W.value.source===hr.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING&&E.resetGame(),W.value.source===hr.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE&&d.requestToChangePage({to:P.get(P.List.LANDING.HOME)}),Kt()}function Hs(le){window.location.href=le,Kt()}function y(){Kt()}function O(){Kt()}function x(){const le={...W.value,authView:W.value.authView==="login"?"signup":"login"};_.updateModalOptions(le)}function ae(){ue.value!=="orientationUnsupported"&&f.toggleOverlay(),S.value===Et.RUNNING&&G.value===Be.ASYNC&&zt()}async function B(le){const{logInviteAcceptance:he,eventData:Pe}=await R.afterGroupInviteAcceptancePipeline({groupInviteData:le});he&&$e.logEvent(as.CLASS_INVITE_ACCEPTED,Pe)}function me(le){(le.sourceRequest==="checkRoom"||le.sourceRequest==="checkAssignment")&&E.resetGame(),Kt()}function J(le,he,Pe){ls.value||(he&&k.toggleShowOnceNotification({id:he}),le==="accept"?(L.clearPreGameQuizInfo(),E.handleAssignedGameNotifAcceptance({gameData:Pe,action:le})):Kt())}function De(){q.setShowAvatarShop(!1)}ta("selectedTheme",yt),ta("selectedLanguage",pt),ta("getTranslatedDate",ve),ta("exitHandler",Q),ta("replayThisGameHandler",et),ta("media",Qe.value),ta("getMedia",Lt.value),ta("getDeviceDiscriminator",It.value),ta("deviceProps",T(()=>Qe.value)),Ka(Ze,(le,he)=>{le&&!he&&ae()}),Ka(S,(le,he)=>{(he===Et.RUNNING||he===Et.WAITING)&&le===Et.STOPPED&&d.requestToChangePage({to:P.get(P.List.IN_GAME.GAME_OVER)})}),Ka(U,(le,he)=>{!he&&le&&it()}),Gs();async function He(){const le=["/join","/join/dashboard","/join/avatar-shop"],he=window.location.pathname;if(le.includes(he)){const We=new Proxy(new URLSearchParams(window.location.search),{get:(ds,$t)=>ds.get($t)});(We.gc||We.c)&&l.setProceedToActivityViaLink(!0);const at=await Dc({name:H.value,query:We});at.name&&await d.requestToChangePage({to:at.name,metaData:{params:at.params,query:at.query}}),l.setProceedToActivityViaLink(!1)}}return Ui(async()=>{Ze.value&&ae(),window.history.replaceState(window.history.state,document.title,La(window.location.href,"from")),window.history.replaceState(window.history.state,document.title,La(window.location.href,"ld")),Gs(),fa.$on("onSummaryReplayAsyncAction",J),await He()}),(le,he)=>{const Pe=Bo("RouterView");return Le(),Ke("div",{class:_s(["root-component flex w-full h-full bg-ds-light-300 sm:bg-ds-light-500 flex-row-reverse",{"!bg-basecolor":ze(ee).canShowAnswerExplanation}]),onClick:ut},[ze(ct)?(Le(),xs(ku,{key:0})):ft("",!0),Is(Vo,{name:"box"},{default:Vs(()=>[ze(ee).canShowAnswerExplanation?(Le(),Ke("div",CI,[Is(iI)])):ft("",!0)]),_:1}),Ee("div",wI,[ze(ee).canShowAnswerExplanation&&st.value&&!bt.value?(Le(),Ke("div",OI,PI)):ft("",!0),Is(Pe,{media:ze(Qe)},null,8,["media"]),w.value?(Le(),xs(FA,{key:1,email:ze(we)},null,8,["email"])):ft("",!0),ze(ue)?(Le(),xs(fy,{key:2})):ft("",!0),fe.value?(Le(),xs(Ca,{key:3,stackToBottom:!1,onCloseModal:Cs},{body:Vs(()=>[Is(ze(t),{media:ze(Qe),isAuthenticated:ze(de),validationStatus:ze(Ae),validationStatusPhone:ze(pe),options:W.value,requestCountry:ze(F),onOnValidateEmail:qt,onOnValidatePhoneNumber:Vt,onOnCloseAuthModal:Cs,onOnAuthenticateUser:ss,onOnChangeAuthView:x},null,8,["media","isAuthenticated","validationStatus","validationStatusPhone","options","requestCountry"])]),_:1})):ft("",!0),Ye.value?(Le(),xs(Ca,{key:4,stackToBottom:!1},{body:Vs(()=>[Is(ze(s),{isCorporateUser:ze(Y),userFirstName:ze(ge),userLastName:ze(Te),userIsUnderAge:ze(b),userParentEmail:ze(te),groupInfo:ze(ht),isGroupJoinInProgress:Me.value,isGetGroupInfoInProgress:_e.value,options:W.value,onInviteAccepted:B,onInviteDeclined:me},null,8,["isCorporateUser","userFirstName","userLastName","userIsUnderAge","userParentEmail","groupInfo","isGroupJoinInProgress","isGetGroupInfoInProgress","options"])]),_:1})):ft("",!0),Ne.value?(Le(),xs(Ca,{key:5,stackToBottom:!1,focusContainer:!1,onCloseModal:y},{body:Vs(()=>[Is(ze(n),{isCorporateUser:ze(Y),onOnCloseClassCodeModal:y},null,8,["isCorporateUser"])]),_:1})):ft("",!0),Oe.value?(Le(),xs(Ca,{key:6,stackToBottom:!1},{body:Vs(()=>[Is(ze(a),{isCorporateUser:ze(Y),isLoggedIn:ze(ce),options:W.value,isCheckOrJoinRoomInProgress:ls.value,onOnAction:J},null,8,["isCorporateUser","isLoggedIn","options","isCheckOrJoinRoomInProgress"])]),_:1})):ft("",!0),lt.value?(Le(),xs(Ca,{key:7,stackToBottom:!1},{body:Vs(()=>[Is(ze(o),{options:W.value},null,8,["options"])]),_:1})):ft("",!0),je.value?(Le(),xs(Ca,{key:8,transition:"fade",stackToBottom:!1,acquireFullHeight:!0,modalMaskContainerStyle:jt.value,onCloseModal:O},{body:Vs(()=>[Is(ze(i),{options:W.value,media:ze(Qe),onOnDismissPreview:O},null,8,["options","media"])]),_:1},8,["modalMaskContainerStyle"])):ft("",!0),ze(_t).isVisible?(Le(),xs(II,_d({key:9},ze(_t).options,{onHideSnackBar:bs}),null,16)):ft("",!0),gt.value?(Le(),xs(Ca,{key:10,stackToBottom:!1,onCloseModal:Cs},{body:Vs(()=>[Ee("div",bI,[Ee("div",NI,At(W.value.title),1),DI,Ee("p",null,At(W.value.subtitle),1),Ee("div",LI,[Ee("button",{type:"button",class:"px-4 py-1 font-bold text-base bg-ds-lilac-500-20 rounded text-lilac-ds-light-500 border-none ml-4 hover:text-ds-lilac-500",onClick:he[0]||(he[0]=We=>Hs(W.value.gameJoinLink))},At(W.value.continueText),1)])])]),_:1})):ft("",!0),ze(ie)?(Le(),xs(Ca,{key:11,modalMaskStyle:{background:"rgba(9,9,9,0.5)"},stackToBottom:ze(Gt),onCloseModal:De},{body:Vs(()=>[Ee("div",zI,[Is(ze(r),{insideGame:!0,onOpenDownloadAvatarModal:ze(oe)},null,8,["onOpenDownloadAvatarModal"]),ze(M)?(Le(),xs(ze(c),{key:0,onClose:ze(oe)},null,8,["onClose"])):ft("",!0)])]),_:1},8,["stackToBottom"])):ft("",!0),Is(wy)])],2)}}},xm=sn(MI,[["__scopeId","data-v-0469522f"]]),GI=()=>Ue(()=>import("./Featured.BE5o-Qqd.js"),__vite__mapDeps([30,1,2,31,19,20,21,22,32,4,0,3,33])),qI=()=>Ue(()=>import("./Home.DnpeXu8Q.js"),__vite__mapDeps([34,1,2,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,4,20,21,22,31,19,54])),UI=()=>Ue(()=>import("./Landing.C6JLrzP2.js"),__vite__mapDeps([55,1,2,35,36,37,40,41,42,43,44,45,46,47,51,56])),xI=()=>Ue(()=>import("./Home.Cz6KMyUk.js"),__vite__mapDeps([57,1,2,58,36,59,46,60,42,50,51,52,53,4,61])),QI=()=>Ue(()=>import("./SearchPage.u7NaPFce.js"),__vite__mapDeps([62,1,2,48,44,45,46,49,38,39,4,63])),FI=()=>Ue(()=>import("./Groups.xMA1_bB4.js"),__vite__mapDeps([64,1,2])),BI=()=>Ue(()=>import("./Activity.RXmpzlFU.js"),__vite__mapDeps([65,1,2,66])),Ao=()=>Ue(()=>import("./ActivitySubRouteContainer.B-VX0Wi8.js"),__vite__mapDeps([67,1,2,38,39,42,43,44,45,46,47,59,60,48,49,68])),HI=()=>Ue(()=>import("./AppSettings.BOIgZAXv.js"),__vite__mapDeps([69,1,2,70,71,72,73,74])),jI=()=>Ue(()=>import("./RecommendationsPage.BHkxZEES.js"),__vite__mapDeps([75,1,2,48,44,45,46,49,4,76])),VI=()=>Ue(()=>import("./EventQuizzesPage.BpICvtJB.js"),__vite__mapDeps([77,1,2,48,44,45,46,49,4,78])),$I=()=>Ue(()=>import("./Classes.g7Lg-YBg.js"),__vite__mapDeps([79,1,2,80])),WI=()=>Ue(()=>import("./InGameApp.CiKuapT0.js").then(e=>e.O),__vite__mapDeps([81,1,2,19,3,26,82,21,23,71,72,83,84,73,32,58,85,53,86])),Bl=()=>Ue(()=>import("./PreGameScreen.CwRu_tcL.js"),__vite__mapDeps([87,1,2,82,21,23,71,72,19,83,84,40,41,46,0,3,4,88])),mc=()=>Ue(()=>import("./PreGameSubRouteContainer.CANk8eQM.js"),__vite__mapDeps([89,1,2,83,32,36,90,70,85,91,0,3,4,92])),YI=()=>Ue(()=>import("./EmbedQuiz.DtHRob31.js"),__vite__mapDeps([93,1,2,0,3,4,94])),KI=()=>Ue(()=>import("./CoursesDetails.Dzf_Z-WN.js"),__vite__mapDeps([95,96,1,2,19,0,3,4,97])),JI=()=>Ue(()=>import("./Shop.DXqviS4-.js"),__vite__mapDeps([98,18,1,2,19,20,21,22,23,24,25,26,27,28,29,99])),XI=[{path:"/join",name:P.get(P.List),[Fn.BEFORE_ENTER]:Dc,meta:{title:`${window.isProJoinRoute?X("Join a Game"):X("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`},children:[{path:"",name:P.get(P.List.LANDING),component:GI,children:[{path:"",name:P.get(P.List.LANDING.HOME),component:window.isProJoinRoute?xI:UI,meta:{title:`${window.isProJoinRoute?X("Join a Game"):X("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`}},{path:"dashboard",name:P.get(P.List.LANDING.DASHBOARD),component:qI,meta:{title:`${window.isProJoinRoute?X("Join a Game"):X("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`}},{path:"search/:query?",name:P.get(P.List.LANDING.SEARCH),component:QI,[Fn.BEFORE_ENTER]:_A,meta:{title:e=>`${e.params.query||""} ${e.params.query?"-":""} Quizizz Search`,metaTags:[{path:In.RUNNING,name:P.get(P.List.LANDING.ACTIVITY.RUNNING),props:{forList:In.RUNNING},component:Ao,meta:{title:`${X("My Running Activities")} - Quizizz`}},{path:In.CREATED,name:P.get(P.List.LANDING.ACTIVITY.CREATED),props:{forList:In.CREATED},component:Ao,meta:{title:`${X("My Created Quizzes")} - Quizizz`}},{path:In.COMPLETED,name:P.get(P.List.LANDING.ACTIVITY.COMPLETED),props:{forList:In.COMPLETED},component:Ao,meta:{title:`${X("My Completed Activities")} - Quizizz`}}]}},{path:"game-code",name:P.get(P.List.LANDING.GAME_CODE),redirect:{name:P.get(P.List.LANDING.HOME)}},{path:"activity",name:P.get(P.List.LANDING.ACTIVITY),component:BI,redirect:{name:P.get(P.List.LANDING.ACTIVITY.RUNNING)},[Fn.BEFORE_ENTER]:lA,children:[{path:In.RUNNING,name:P.get(P.List.LANDING.ACTIVITY.RUNNING),props:{isCorporateUser:window.isProJoinRoute,forList:In.RUNNING},component:Ao,meta:{title:`${X("My Running Activities")} - Quizizz`}},{path:In.CREATED,name:P.get(P.List.LANDING.ACTIVITY.CREATED),props:{isCorporateUser:window.isProJoinRoute,forList:In.CREATED},component:Ao,meta:{title:`${X("My Created Quizzes")} - Quizizz`}},{path:In.COMPLETED,name:P.get(P.List.LANDING.ACTIVITY.COMPLETED),props:{isCorporateUser:window.isProJoinRoute,forList:In.COMPLETED},component:Ao,meta:{title:`${X("My Completed Activities")} - Quizizz`}}]},{path:"settings",name:P.get(P.List.LANDING.APP_SETTINGS),component:HI,meta:{title:`${X("Settings")} - Quizizz`}},{path:"topic/:topicId/:topicSlug",name:P.get(P.List.LANDING.TOPIC_RECOMMENDATIONS),component:jI},{path:"event-quizzes",name:P.get(P.List.LANDING.EVENT_QUIZZES),component:VI},{path:"class",name:P.get(P.List.LANDING.CLASSES),component:$I,[Fn.BEFORE_ENTER]:dA,meta:{title:`${X("Classes")} - Quizizz`}},{path:"groups",name:P.get(P.List.LANDING.GROUPS),component:FI,meta:{title:`${X("Groups")} - Quizizz`}},{path:"course/:courseSessionId",name:P.get(P.List.COURSE.DETAILS),[Fn.BEFORE_ENTER]:hA,component:KI,meta:{title:`${X("Course Details")} - Quizizz`}}]},{path:"quiz/:quizId?",name:P.get(P.List.QUIZ),component:Bl,alias:["presentation/:quizId?/","lesson/:quizId?/","flashcard/:quizId?/","contest/:contestId/","contest/:contestId/:quizId/"],[Fn.BEFORE_ENTER]:zl,children:[{path:"start",name:P.get(P.List.QUIZ.START),props:{subRouteName:Wr.SOLO_START},component:mc,meta:{title:`${X("Start Playing")} - Quizizz`}},{path:"challenge/:roomHash",name:P.get(P.List.QUIZ.CHALLENGE),props:{subRouteName:Wr.CHALLENGE_START},component:mc}]},{path:"pre-game",name:P.get(P.List.PRE_GAME_DETAIL),component:Bl,[Fn.BEFORE_ENTER]:gA,children:[{path:"running/:preGameRunningComposite/start",name:P.get(P.List.PRE_GAME_DETAIL.RUNNING),props:{subRouteName:Wr.RUNNING_START},component:mc,meta:{title:`${X("Start Playing")} - Quizizz`}}]},{path:"game/:gameComposite",name:P.get(P.List.IN_GAME),component:WI,[Fn.BEFORE_ENTER]:fA,meta:{title:`${X("Playing a Game")} - Quizizz`}},{path:"avatar-shop",component:JI,name:P.get(P.List.LANDING.AVATAR_SHOP),[Fn.BEFORE_ENTER]:Dc,meta:{title:`${X("Save Avatar")} - Quizizz`}}]},{path:"/embed/quiz/:quizId",name:P.get(P.List.EMBED.QUIZ),alias:["/embed/presentation/:quizId","/embed/lesson/:quizId"],component:xm,[Fn.BEFORE_ENTER]:zl,children:[{path:"",name:P.get(P.List.EMBED.QUIZ),component:YI}]},{path:"/:pathMatch(.*)*",name:P.get(P.List.PAGE_404),component:DA}],ha=Gp({history:qp(window.isProJoinRoute?"/pro/":"/"),routes:XI});Vc.configure({showSpinner:!1,template:"<div class='bar' role='bar'><div></div><div class='bar bar-secondary' role='bar'></div></div>"});ha.beforeEach((e,t)=>{var o;e.name&&Vc.start(),document.querySelectorAll("[data-vue-router-controlled-meta-tags]").forEach(i=>(i==null?void 0:i.remove)&&i.remove());const s=es();s.isApplicationLoaded||s.startGlobalLoader({loader:{name:Jc.ROUTE_NAVIGATION,meta:{to:Gc(e),from:Gc(t)}}});const n=e.matched.slice().reverse().find(i=>i.meta&&i.meta.metaTags);let a=((o=n==null?void 0:n.meta)==null?void 0:o.metaTags)||[];a||(a=[]),(e.fullPath.match(/\?gc=/)||e.fullPath.match(/\?c=/))&&(a=[...a,{name:"robots",content:"noindex"}]),a.map(i=>{const r=document.createElement("meta");return Object.keys(i).forEach(c=>{r.setAttribute(c,i[c])}),r.setAttribute("data-vue-router-controlled-meta-tags",""),r}).forEach(i=>{document.head.appendChild(i)})});ha.afterEach((e,t,s)=>{const n=es(),a=tn(),o=Up(s),i=ZI(e,t),r=eS(e,t,n.globalLoaders),c=tS(e,t),u=a.navigationType===Io.PROGRAMMATIC,l=P.isExactly(e.name,P.List.IN_GAME);if(u)l||a.updateCurrentPage({to:e.name,metaData:Hl(e)});else{const d=l?a.currentPage:e.name;a.updateCurrentPage({to:d,metaData:Hl(e)})}r.forEach(d=>{n.endGlobalLoader({loader:d})}),!o&&i&&(document.title=i),A(c)||ha.replace({replace:!0,...e,query:{...e.query,...c}}),Vc.done()});function ZI(e,t){const s=e.meta&&e.meta.title,n=!!s,a=typeof s=="string"||typeof s=="function";if(N.invariant(!n||a,[`Router evaluateTitle: invalid title value for route(${e.name})`,s]),!n||!a)return"";if(typeof s=="string")return s;if(typeof s=="function"){const o=s(e,t),i=typeof o=="string";if(N.invariant(i,[`Router evaluateTitle: the title function return value is not a string for route${e.name})`,o]),i)return o}return""}function Gc(e){return e&&e.name||"unk"}function eS(e,t,s){return s.filter(n=>n.name===Jc.ROUTE_NAVIGATION&&n.meta.from===Gc(t))}function tS(e,t){const s="qgParamPreserve",n=t&&t.query||{},a={};if(!ko(n,s))return a;const o=n[s];try{const i=JSON.parse(o);i.push(s);for(let r=0,c=i.length;r<c;r++){const u=i[r];ko(n,u)||N.warn(`QRouter.getParamsToPreserve: Trying to preserve query param '${u}' that is not in the route`),ko(e.query,u)||(a[u]=n[u])}return a}catch{return N.error(`QRouter.getParamsToPreserve: cannot parse qgParamPreserve as an array. Recieved - ${o}`),a}}function Hl(e){return Ea(e,["path","hash","query","params","append","replace"])}ha.onError(Eg);const sS=Pt("routing",()=>{const e=Ga(),t=p(P.get(P.List)),s=p(null),n=p(Io.NONE);function a(){return{currentPage:t.value,pageMetaData:s.value,navigationType:n.value}}function o(u){return u.to&&(t.value=u.to,s.value=u.metaData,$e.setCurrentPage(u.to)),a()}function i(u){n.value=u.navigationType}async function r({to:u,metaData:l=null}){const d=P.matches(t.value,P.List.IN_GAME),m=P.matches(u,P.List.IN_GAME);if(i({navigationType:Io.PROGRAMMATIC}),m&&o({to:u,metaData:l}),e.saveCurrentContext(),m){const _=Bc(s.value,l);if(d&&_){i({navigationType:Io.NONE});return}if(!d&&!(l!=null&&l.params)){const f=mt(),g=Dt(),v={gameComposite:vr(f.roomHash,g.playerId)};await ha.push({name:P.get(P.List.IN_GAME),params:v})}else await ha.push({name:P.get(P.List.IN_GAME),...l});i({navigationType:Io.NONE});return}await ha.push({name:u,...l}),i({navigationType:Io.NONE})}function c({to:u,gameData:l={},metaData:d,canChangeRoute:m=!0}){var g;const _={...d};if(l.roomHash&&l.playerId){const v=l.gameType||"",R=vr(l.roomHash,l.playerId);_.params={gameComposite:R},_.query={gameType:v};const E=new URLSearchParams((g=window==null?void 0:window.location)==null?void 0:g.search);E.has("preview")&&E.get("preview")==="true"&&(_.query.preview="true"),E.has("fromGCAddon")&&E.get("fromGCAddon")==="true"&&(_.query.fromGCAddon="true")}const f={to:u,metaData:_};return m&&r(f),{isInsideGame:!0,...f}}return{currentPage:t,pageMetaData:s,navigationType:n,updateCurrentPage:o,updateNavigationType:i,requestToChangePage:r,changeToInGamePage:c}}),tn=sS,ro=Pt("preGameFlows",()=>{const e=ps(),t=tn(),s=Ht(),n=mt(),a=Dt(),o=hs(),i=es(),r=Fi(),c=rs(),u=Jn(),l=to(),d=Xo(),m=Aa(),_=Zn();function f(){return{game:{data:n,flow:o,questions:s,team:r,player:a},user:{profile:c,attempts:l},applicationContext:i,routing:t,rootReducer:e,preGameDetail:m}}async function g({roomCode:F,startSource:U}){return e.togglePreGameErrorMessage(),oe({roomCode:F,startSource:U})}async function v({roomCode:F,startSource:U}){const H=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,G=await H().checkRoom({roomCode:F,startSource:U,handlePreGameErrorAs:"dialog"});let K="";return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,La(window.location.href,"gc"))},100),!G.success||G.meta.wasCheckRoomDeffered===!0?{redirectToPreGame:!1,preGameRunningComposite:K}:(K=Eo({roomHash:n.roomHash,playerId:a.playerId,quizId:"",gameState:Et.RUNNING}),{redirectToPreGame:!0,preGameRunningComposite:K})}async function R({encodedGCLParam:F}){const U=qE(F);let H="";if($e.logEvent(as.STUDENT_GCL_FLOW_JOIN),!U.isInValidFlow)return _.handlePreGameErrorMessages({errorName:"game.expiredLink|confirm",handlePreGameErrorAs:"dialog"}),{redirectToPreGame:!1};n.enterLMSFlow({encodedParam:U.encodedParam}),a.enterLMSFlow();const S=await _.decodeLMSInfoAndCheckAssignment({lmsInfo:U.decodedLMSInfo,startSource:Fe.get(Fe.List.LMS),handlePreGameErrorAs:"dialog"});if(!S.success||S.meta.wasCheckAssignmentDeffered===!0)return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,La(window.location.href,"c"))},100),{redirectToPreGame:!1,preGameRunningComposite:H};const{room:{hash:G,quizId:K,state:ne}}=S.response;if(window.history.state.current){const ue=window.history.state.current.split("?")[1],de=new URLSearchParams(ue),pe=de.get("rostered"),Ae=de.get("lms");if(pe){switch(Ae){case"gcl":$e.logEvent(as.STUDENT_GCL_ROSTERING_SUCCESFULL);break;case"schoology":$e.logEvent(as.STUDENT_SCHOOLOGY_ROSTERING_SUCCESFULL);break;case"canvas":$e.logEvent(as.STUDENT_CANVAS_ROSTERING_SUCCESFULL);break}$e.logEvent(as.STUDENT_ROSTERING_SUCCESFULL)}}return H=Eo({roomHash:G,quizId:K,gameState:ne}),{redirectToPreGame:!0,preGameRunningComposite:H}}async function E({roomHash:F,quizId:U}){const H=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,S=H();try{if(U){const{response:G}=await tu({quizId:U,bypassProfanityCheck:!0,requestPrivileges:!1}),K=cm({routing:t},{},{data:{quiz:G.data.quiz},contestId:null,embedMode:!1,creatorPrivileges:{}});m.setPreGameInfo(K)}if(await Mr(i),F){let{roomCode:G}=n;const{gameMode:K}=n,ne=Fe.get(Fe.List.PRE_GAME_SCREEN);if(A(G)||K!==re.CHALLENGE){const{response:ue}=await Nd(F),de=xE({game:{player:a},user:{profile:c},applicationContext:i},ue.data);if(G=de.roomCode,!de.isUserTheGameHost)return await _.resetGame(),await e.togglePreGameErrorMessage(),{success:!1};const pe=await S.checkRoom({roomCode:G,startSource:ne});if(!pe.success)return await _.resetGame(),await e.togglePreGameErrorMessage(),pe;de.hasUserJoinedTheGame&&await S.rejoinAnyGame({gameData:{roomHash:F,playerId:de.userPlayerId,gameType:re.CHALLENGE},startSource:ne})}return{success:!0}}}catch(G){N.error("Error at challengeGamePipeline",G)}}async function h({quizId:F,toRoute:U,embedMode:H}){var S;if(F){const G=f(),{user:K}=G,ne=((S=U.params)==null?void 0:S.contestId)||null;if(K.profile.isLoggedIn){const de=K.attempts.commonQuizzesData[F];if(de){const pe=GE(G,{quizId:F,quizData:de,contestId:ne,embedMode:H});return m.setPreGameInfo(pe),{redirectToQuizPage:!0,quizId:F}}}const{success:ue}=await m.retrieveCompletedGame({quizId:F,toRoute:U,embedMode:H})||{};return{redirectToQuizPage:ue,quizId:F}}return{redirectToQuizPage:!1}}async function k(F){const{roomHash:U,playerId:H,gameState:S}=F;if(U)try{const G=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,K=G(),ne=f(),{user:ue,game:de,preGameDetail:pe}=ne,Ae=Eo({roomHash:U,playerId:H,gameState:S});let ge={success:!1};if(ue.profile.isLoggedIn){const Te=xt(ue.attempts.runningGames,b=>b.gamesAttempted[0].gameInfo.roomHash===U);if(A(Te))ge=await m.retrieveRunningGame({roomHash:U});else{const b=ME({user:ue},Te);b&&(m.setPreGameInfo(b),ge={success:!0})}}else if(a.lastGamePlayed.roomHash===U){const Te=zE(de.player.lastGamePlayed);m.setPreGameInfo(Te),ge={success:!0}}else ge=await m.retrieveRunningGame({roomHash:U});if(!ge.success)return{redirectToPreGame:!1};if(de.data.roomHash&&de.data.roomHash===U)return{redirectToPreGame:!0,preGameRunningComposite:Ae};if(pe.currentGameData.isLMSGame){const{lmsInfo:Te}=pe.currentGameData,b=await _.decodeLMSInfoAndCheckAssignment({lmsInfo:Te,startSource:Fe.get(Fe.List.PRE_GAME_SCREEN),handlePreGameErrorAs:"dialog"});if(!b.success||b.meta.wasCheckAssignmentDeffered===!0)return{redirectToPreGame:!1}}else if(pe.currentGameData.gameType!==Be.SOLO){const Te=await K.checkRoom({roomCode:pe.currentGameData.roomCode,startSource:Fe.get(Fe.List.PRE_GAME_SCREEN),handlePreGameErrorAs:"dialog"});if(!Te.success||Te.meta.wasCheckRoomDeffered===!0)return{redirectToPreGame:!1}}return{redirectToPreGame:!0,preGameRunningComposite:Ae}}catch(G){return N.error("Error at runningGamePipeline",G),{redirectToPreGame:!1}}return{redirectToPreGame:!1}}async function L({gameType:F=Be.ASYNC,gameMode:U=re.NORMAL,startSource:H="",gameOptions:S={}}={}){const G=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,K=G(),ne=H||Fe.get(Fe.List.REPLAY),{roomCode:ue,classroomInfo:de,quizId:pe,gameOptions:Ae,roomHash:ge}=n,{playerId:Te}=a,b={...de},te=Eo({roomHash:ge,playerId:Te}),Y=A(S)?Ae:S;let ce={};switch(e.togglePageLoader(!0),await _.resetGame({classroomInfo:b}),F){case Be.ASYNC:case Be.LIVE:b&&b.roomHash?ce=await K.checkAssignment({startSource:ne}):ce=await K.checkRoom({roomCode:ue,startSource:ne});break;case Be.SOLO:K.joinSoloGame({quizId:pe,playerId:Te,gameOptions:Y,gameMode:U,gameType:F,startSource:ne,forcePageChange:!0});break}ce&&ce.success&&(await t.requestToChangePage({to:P.get(P.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:te}}}),e.togglePageLoader(!1))}async function q({groupInviteData:F={}}){const{requestData:U,inviteType:H,sourceRequest:S,sourceRequestMeta:G}=F,{message:K,persistInvite:ne,shouldContinueWithFlow:ue,flowActionArgs:de,eventData:pe,didJoin:Ae}=await d.joinGroup({data:U,inviteType:H,sourceRequest:S,sourceRequestMeta:G});if(K&&Ae){const ge=()=>{window.location.href="/join/class"};e.toggleDialog({name:"addedToClass|confirm",options:{message:K},actionCallback:ge})}return Ae||e.toggleDialog({name:"notAddedToClass|confirm",options:{message:K}}),ne?{logInviteAcceptance:!1,eventData:pe}:H!==Za.FROM_GAME_CODE||!ue?(e.toggleModal(),{logInviteAcceptance:!0,eventData:pe}):(S==="checkRoom"&&await oe({roomCode:de.roomCode,startSource:Fe.get(Fe.List.GAME_CODE.AFTER_GROUP_INVITE_ACCEPT),handlePreGameErrorAs:"dialog"}),S==="checkAssignment"&&await ye({lmsInfo:de.lmsInfo,startSource:Fe.get(Fe.List.LMS.AFTER_GROUP_INVITE_ACCEPT)}),e.toggleModal(),{logInviteAcceptance:!0,eventData:pe})}async function D({lmsInfo:F,roomCode:U}){A(F)?U&&await oe({roomCode:U,startSource:Fe.get(Fe.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog"}):await ye({lmsInfo:F,startSource:Fe.get(Fe.List.GROUP_GAME.NOTIFICATION)}),e.toggleModal()}async function ee({roomCode:F,gameMode:U}){const H=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,S=H(),G=a.playerId,K=U===re.PRESENTATION?"presentation":"game";let ne;if(_.resetGame(),u.toggleOverlay({type:`rejoinProgress|${K}`}),F&&(ne=await oe({roomCode:F,startSource:Fe.get(Fe.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog",shouldChangePage:!1})),!ne.success||ne.meta.wasCheckRoomDeffered===!0||!G){u.toggleOverlay(),t.requestToChangePage({to:P.get(P.List.LANDING.HOME)});return}await S.rejoinAnyGame({gameData:{roomHash:n.roomHash,playerId:G.trim(),gameType:Be.ASYNC,gameState:Et.RUNNING}})}async function ie({lmsInfo:F,roomCode:U,gameMode:H}){const S=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,G=S(),K=f(),{game:ne}=K,ue=ne.player.playerId,de=H===re.PRESENTATION?"presentation":"game";let pe;if(_.resetGame(),u.toggleOverlay({type:`rejoinProgress|${de}`}),A(F)?U&&(pe=await oe({roomCode:U,startSource:Fe.get(Fe.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog",shouldChangePage:!1})):pe=await ye({lmsInfo:F,startSource:Fe.get(Fe.List.GROUP_GAME.NOTIFICATION),shouldChangePage:!1}),!pe.success||pe.meta.wasCheckRoomDeffered===!0||!ue){u.toggleOverlay(),t.requestToChangePage({to:P.get(P.List.LANDING.HOME)});return}await G.joinRoom({roomHash:ne.data.roomHash,playerId:ue.trim(),startSource:Fe.get(Fe.List.REPLAY.REPLAY_LIVE_GAME),handlePreGameErrorAs:"dialog",forcePageChange:!0})}async function M({roomCode:F,roomHash:U}){const H=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,S=H(),G=a.playerId,K=Fe.get(Fe.List.REPLAY.REPLAY_CHALLENGE_GAME);_.resetGame(),e.togglePageLoader(!0);try{if(!(await S.checkRoom({roomCode:F,startSource:K,handlePreGameErrorAs:"dialog"})).success){t.requestToChangePage({to:P.get(P.List.LANDING.HOME)});return}await S.joinRoom({roomHash:U,playerId:G.trim(),startSource:K,handlePreGameErrorAs:"dialog",forcePageChange:!0})}catch(ne){N.error("Error at challengeReplayNotifAcceptedPipeline",ne)}}async function oe({roomCode:F,startSource:U,handlePreGameErrorAs:H="inLineMessage",shouldChangePage:S=!0}){var Te;const G=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,ne=await G().checkRoom({roomCode:F,startSource:U,handlePreGameErrorAs:H});if(!ne.success||ne.meta.wasCheckRoomDeffered===!0||!S)return ne;const{room:{hash:ue,quizId:de,state:pe}}=ne.response,Ae=Eo({roomHash:ue,quizId:de,gameState:pe});t.requestToChangePage({to:P.get(P.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:Ae}}});const{user:ge}=f();return(Te=ge.profile)!=null&&Te.isCorporateUser&&$e.logEvent(as.QFW_JOIN_QUIZ_SUCCESSFUL),ne}async function ye({lmsInfo:F,startSource:U,handlePreGameErrorAs:H="dialog",shouldChangePage:S=!0}){const G=await _.decodeLMSInfoAndCheckAssignment({lmsInfo:F,startSource:U,handlePreGameErrorAs:H});if(!G.success||G.meta.wasCheckAssignmentDeffered===!0||!S)return G;const{room:{hash:K,quizId:ne,playerId:ue,state:de}}=G.response,pe=Eo({roomHash:K,quizId:ne,playerId:ue,gameState:de});return t.requestToChangePage({to:P.get(P.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:pe}}}),G}return{challengeReplayNotifAcceptedPipeline:M,gameCodeSubmittedPipeline:g,gameCodeQueryParamPipeline:v,continueCheckAssignmentPipeline:ye,googleClassroomParamPipeline:R,challengeGamePipeline:E,startSoloFromPreGamePipeline:h,runningGamePipeline:k,replayGameFromSummaryPipeline:L,afterGroupInviteAcceptancePipeline:q,classGameAssignedNotificationAcceptancePipeline:D,replayLiveGameAsyncNotificationAcceptancePipeline:ee,replayLiveGameNotificationAcceptancePipeline:ie}});function nS({currentId:e,isOver:t,accuracy:s,questionTimer:n,orderedOriginalResponses:a}){let o=!1,i={},r=null;return t?o=!0:(i={numQuesAttempted:a.length,accuracy:s},r=e),{isComplete:o,playerStats:i,lastVisibleQuestionId:r,isOver:t,questionTimer:{...n}}}function VO(e){const t=[],s={};return A(e)||(t.push({quizInfo:{quizId:e.quizId},fromList:"running",numQuesAttempted:e.numQuesAttempted,areAllAttemptsFetched:!0,gamesAttempted:[{attempts:[{...Ea(e,["numQuestions","numQuesAttempted","numCorrect","playerId"]),numAnswerableQuestions:Je(e.numQuestions)?e.numQuestions:1,isOver:!1}],gameInfo:{roomHash:e.roomHash,gameType:e.gameType,gameCode:e.roomCode,gameState:Et.RUNNING,gameCreatedAt:null,dueDate:e.expiry&&new Date(e.expiry)||null,host:{},hasLMSAttempts:e.isClassroomGame,lmsInfo:e.classroomInfo}}]}),s[e.quizId]={name:e.quizName,image:e.quizImage,subjects:e.subjects,grades:e.grade,questions:null}),{games:t,quizzes:s}}function jl(e,t=Kc){if(typeof e=="string"){let s=e.trim();!s&&(s=t);let n=s.slice(0,ef);return n=n.replace(/{|\[|</g,"("),n=n.replace(/}|\]|>/g,")"),n=n.replace(/['"&/]/gi,""),n}return t}function aS(e,t,s,n,a,o){const i={marks:0,score:0,accuracy:0,totalCorrect:0},r={},c=[],u=n===Xt.NONE;let l=[];if(u||n===Xt.FULL){const d=Kn(e,(f,g)=>({...f,[g.questionId]:g}),{}),m=Qs(d),_=Jt(t,f=>Yt(m,f));l=Kn(_,(f,g)=>[...f,d[g]],[])}else l=Do(e,"createdAt");return ot(l,d=>{const m=typeof d=="string"?JSON.parse(d):d,{questionId:_}=m.data||m,f=Je(m.attempt)?m.attempt:0,g=!!(r[_]&&r[_][f]),v={marks:0,score:0,wasCorrect:!1},R=!g||u;N.invariant(R,`At cookServerPlayerResponses: The attempt num '${f}' for question id '${_}' already exists.`),g&&(v.marks=r[_][f].marks,v.score=r[_][f].score,v.wasCorrect=r[_][f].isCorrect),r[_]||(r[_]=[]),Yn(m,"scoreBreakup")&&(m.scoreBreakup=Cu(m.scoreBreakup)),r[_].push({...m,attempt:f,isEvaluated:!0}),c.push(_),g?(i.marks=m.marks?i.marks+(m.marks-v.marks):0,i.score+=m.score-v.score,i.totalCorrect+=(m.isCorrect?1:0)-(v.wasCorrect?1:0)):(m.marks&&(i.marks=m.marks?i.marks+m.marks:m.marks),i.score+=m.score,i.totalCorrect+=m.isCorrect?1:0)}),ot(s,d=>{i.score+=d.details.score}),i.accuracy=Math.floor(i.totalCorrect/t.length*100),{player:i,questionResponses:r,answeredQuestions:c}}const er={id:"",monster:0,name:"",uid:"",mongoId:"",rank:-1,score:0,scoreTrail:[],accuracy:"",marks:0,totalCorrect:0,totalAttempt:0,totalResponses:0,currentStreak:0,previousStreak:0,longestStreak:0,maximumStreak:0,createdAt:new Date,startedAt:new Date,lastPlayedAt:new Date,isAllowed:!0,isOver:!1,isUnderage:!1,isProfane:!1,deleted:!1,currentGameAttempts:[],extraLife:[],assignment:{},attempts:[],experiment:"",locale:"",origin:"web",metadata:{},playerMetadata:{},powerupEffects:[],powerups:[]};function Qm(e){return Or({...e,id:Zr([e.id,e.playerId,er.id]),monster:Zr([e.monster,e.monsterId,er.monster]),mongoId:Zr([e.mongoId,e.userId,er.mongoId])},er)}function bu(e,t,s,n=""){var m,_;const a={},o=rS(s),i=ao(C(o,"room.type")),r=Ko(C(o,"room.type")),c=C(o,"room.metadata.lesson.gameMode",""),u=Yd(i,r,c);let l=t;t||(l=Yo(i)?Be.LIVEASYNC:Be.SOLO);const d=[Be.LIVEASYNC,Be.SOLO];if(l===Be.SOLO&&!Je(o.player.monsterId)&&Je(o.player.monster)&&(o.player.monsterId=o.player.monster),d.includes(l)){const f=wr(o.room,(b,te)=>!Yt(["options","questions","questionIds"],te)),g=ys(o.player),v=C(o,"room.teams",[]),R=o.differentiation||{};let{totalAnswerableQuestions:E}=f;const h=C(f,"traits.totalSlides",null);if(!Je(E)){const b=((m=o.room.questions)==null?void 0:m.length)||((_=o.room.questionIds)==null?void 0:_.length);E=Je(h)?b-h:b}const k=E,{questionIds:L,questions:q,remainingQuestionsOrder:D,doneOrder:ee,questionResponses:ie,skippedQuestions:M,extraLifeQuestions:oe,answerLaterQuestions:ye,shouldShowReviewScreen:F,correctQuestionAttempts:U,incorrectQuestionAttempts:H,isAdaptiveLearningGame:S}=iS(o,n),G={type:Ys.NONE,ids:Array.isArray(f.groupIds)?f.groupIds:[],createToken:C(f.groupsInfo,"create.token")||null,sourceRequest:""},K=f.players?f.players.sort((b,te)=>b.score>te.score?-1:1).map((b,te)=>({...b,rank:te+1})):[];let ne=[];f.totalQuestionsInQuiz=k,f.questionIds=L,f.questions=q,f.options=typeof o.room.options=="string"?JSON.parse(o.room.options):o.room.options,f.options=xo(f.options),R&&(f.options=QE(f.options,R.accommodations)),f.players=wt(K,Qm),g.responses=ie,g.remainingQuestionsOrder=D,g.doneOrder=ee,g.skippedQuestions=M,g.extraLife=oe,g.score=o.player.score||0,g.marks=o.player.marks,g.longestStreak=o.player.maximumStreak||0,g.answerLaterQuestions=ye,g.shouldShowReviewScreen=F,g.incorrectQuestionAttempts=H,g.correctQuestionAttempts=U,g.powerups=wt(g.powerups,b=>({id:b._id,name:b.name,status:b.status,meta:b.meta})),g.powerupEffects=wt(g.powerupEffects,b=>({id:b._id,name:b.name,status:b.status,meta:b.meta,powerupId:b.powerupId})),Je(o.player.totalCorrect)?g.totalCorrect=o.player.totalCorrect:i===Be.SOLO?g.totalCorrect=Je(o.room.totalCorrect)?o.room.totalCorrect:0:g.totalCorrect=0,(!g.responses||g.responses.length<=0)&&(g.marks=0),g.marks||(g.marks=0,wt(g.responses,b=>{wt(b,te=>{g.marks+=te.isCorrect&&Je(te.marks)?te.marks:0})}));let ue=0,de=0,pe=0;const Ae=xp(Object.values(g.responses));for(let b=0;b<Ae.length;b+=1)Ae[b].attempt===0&&(ue+=1,Ae[b].isCorrect&&(de+=1),Ae[b].marks>0&&(pe+=Ae[b].marks));g.firstAttempts=ue,g.firstCorrectAttempts=de,g.firstAttemptMarks=pe;const ge=S?g.totalPossibleMarks:f.totalPossibleMarks,Te=S?f.options.questionsPerAttempt:k;if(ge>0?(g.accuracy=Math.round(g.marks*100/ge),g.firstAttemptAccuracy=Math.round(g.firstAttemptMarks*100/ge)):ge===0?(g.accuracy=Math.round(g.totalAttempt*100/Te),g.firstAttemptAccuracy=Math.round(g.firstAttempts*100/Te)):(g.accuracy=Math.round(g.totalCorrect*100/Te),g.firstAttemptAccuracy=Math.round(g.firstCorrectAttempts*100/Te)),Zu(f.quizId)&&(f.quizId=""),Zu(f.quizName)&&(f.quizName=""),g.teamId){const b=nu(v),te=xt(b,Y=>Y.teamId===g.teamId);te&&(g.currentTeamName=te.teamName,g.currentTeamRank=te.rank,g.currentTeamTotalPlayers=te.totalPlayers,g.currentTeamScore=te.score)}if(r===re.PRESENTATION&&!A(g.remainingQuestionsOrder)){const te=Os(f.questionIds,Y=>Y===g.remainingQuestionsOrder[0])-1;te>=0&&(g.doneOrder=vc(f.questionIds,0,te+1))}G.ids.length>0&&(G.type=G.createToken?Ys.GROUP_CREATION:Ys.ONLY_ASSIGNED,G.sourceRequest=e),f.groupData=G,f.teams=v,a.room=f,a.player=g,a.questionStates=o.questionStates,a.question=o.question,a.isAChallengeGame=f.type===re.CHALLENGE,a.leaderboard=[],a.isAChallengeGame&&(ne=Fs(C(o,"room.players",[]),["score"],["desc"]),ne=wt(ne,(b,te)=>({...Ea(b,["playerId","monsterId","score","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]),rank:te+1,isProfane:Wo(b.playerId)})),a.leaderboard=ne)}return a.room.type=i,a.room.mode=r,a.room.slidesFlowControlType=u,o.forcedRedirect&&(a.forcedRedirect=o.forcedRedirect),As(a)}const oS=[se.MCQ,se.MSQ,se.BLANK,se.EQUATION,se.FLASHCARD];function iS(e,t=""){const{room:s={},player:n={}}=e,a=ao(s.type),o=Ko(s.type),i=s.state,r=C(s,"metadata.lesson.gameMode",""),c=Yd(a,o,r),l=!(c===Xt.PARTIAL),d=typeof s.options=="string"?JSON.parse(s.options):s.options,m=xo(d),_=Je(m.questionsPerAttempt)&&m.questionsPerAttempt>=1,f=au(s.questions,{dataIsStrigified:!1,forGameBeingPlayed:!0,slidesFlowControlType:c}),g=_h(s,n),v=Wd(s,n),R=hh(s,n),E=m.masteryMode&&!A(m.masteryMode),h=Cn.MASTERY_MODE_REATTEMPTS;let k=Cn.MASTERY_MODE_REATTEMPTS.unlimited;E&&(k=h[m.masteryMode.reattempts]);let L=[],q=[],D=[],ee=n.responses,M=jh(s.questionIds,f);const oe=m.reviewAndSubmit&&kh(ee,s.totalAnswerableQuestions),ye=Oh(ee,oe),F=Dh(ee),U=Nh(ee,F);if(o===re.FLASHCARD&&(M=Jt(M,K=>{const ne=f[K];return!!(Qi(ne)&&!ne.comprehensionQuestionId&&oS.includes(ne.type))})),_){const K=n.questions,ne=[];ot(M,ue=>{Yt(K,ue)&&ne.push(ue)}),M=ne}const H=qo({gameMode:o,gameType:a,isMasteryMode:E});E&&re.MASTERY_MODE;const S=aS(n.responses,M,n.scoreTrail,c);D=S.answeredQuestions,q=ys(M),L=M,A(S.questionResponses)||(ee=S.questionResponses),g.length&&(D=D.concat(g));const G=D.reduce((K,ne)=>(K[ne]>=0?K[ne]+=1:K[ne]=0,K),{});if(l){const K=C(s,"metadata.qId",null),ne=C(n,"playerMetadata.qId",null),ue=K||ne;let de;if(c===Xt.NONE)de=ue||M[0];else if(ue)if(g.includes(ue)){const Ae=g[g.length-1],ge=Os(L,Te=>Te===Ae)+1;de=M[ge]}else de=ue;else for(let Ae=0;Ae<M.length;Ae++)if(!Yt(S.answeredQuestions,M[Ae])){de=M[Ae];break}const pe=Os(L,Ae=>Ae===de);D=M.slice(0,pe),q=M.slice(Math.max(pe,0)),(i===Et.COMPLETED||i===Et.STOPPED)&&(de=null,q=[])}else if(D.length===0)s.options.jumble&&(q=vl({remainingQuestionIds:M,unAttemptedQuestionIds:M,lastVisibleQuestionId:t,questions:f}));else{const K=[...D].reverse(),ne=oa(K).reverse(),ue=ne.filter(pe=>M.includes(pe));ue.push(...dr(M,ue));let de=ue.filter(pe=>!ne.includes(pe));if(H){const pe=ne.filter(Ae=>U.has(Ae)&&!F.has(Ae)&&(k===Cn.MASTERY_MODE_REATTEMPTS.unlimited||G[Ae]<Number.parseInt(k)));if(ga(o,a)){t&&(de=wo(de,t),de.unshift(t));const Ae=ne.filter(ge=>pe.includes(ge));de=zh({mysticPeakLevelMap:s.mysticPeakLevelMap,totalQuestionsInQuiz:s.totalAnswerableQuestions,totalCorrect:n.totalCorrect,remainingOrder:de,incorrectQuestionIds:Ae})}else de=[...de,...pe]}if(s.options.jumble){const pe=dr(M,ne);de=vl({remainingQuestionIds:de,unAttemptedQuestionIds:pe,lastVisibleQuestionId:t,questions:f})}t&&Yt(de,t)&&(de=wo(de,t),de.unshift(t)),R!=null&&R.questionId&&(de=wo(de,R.questionId),de.unshift(R.questionId)),q=ys(de)}return L=oa(ca(D,q)),{questionIds:L,questions:f,remainingQuestionsOrder:q,doneOrder:D,questionResponses:ee,skippedQuestions:g,extraLifeQuestions:v,answerLaterQuestions:ye,correctQuestionAttempts:F,incorrectQuestionAttempts:U,isAdaptiveLearningGame:_,shouldShowReviewScreen:oe,doneQuestionsFrequency:G}}function rS(e){return en(e.player)&&(Array.isArray(e.player.responses)||(e.player.responses=[])),e}function Fm({playerId:e,actualNameToBeUsed:t,startSource:s,callType:n,avatarId:a=-1}){const o=es(),i=rs(),r=mt(),{clientType:c}=o,u=jl(e);let l="";t&&(l=jl(t));const d=Array.isArray(s)?Qp(s,"|"):s;N.invariant(!A(d),`preparePlayerDataForJoin: 'startSource' is required for joining a game. Got '${d}' for callType '${n}'`);const{isLoggedIn:m,selectedAvatar:_,name:f,mongoId:g,lmsInfo:v}=i;let R=null;_===-1||!_?a!==-1&&(R=a):R=_;const E={id:u,name:l,origin:c,isGoogleAuth:!1,avatarId:R,startSource:d||Fe.get(Fe.List.MISC)};m&&(E.isGoogleAuth=!0,E.name=f,E.mongoId=g);const{classroomInfo:h,isClassroomGame:k}=r;if(!A(h)&&h.lmsName&&k){const{lmsName:q}=h;let D="";v&&v[q]&&(D=v[q].studentId),E.assignment={studentId:D,courseId:h.courseId,assignmentId:h.assignmentId,lmsName:q}}const{deviceInfo:L}=o;return c===Rc.WEB?(E.userAgent=L.userAgent,E.uid=L.quizizzUID||"unknown",E.expName=L.experimentName||"null",E.expSlot=L.experimentSlot||"null"):(E.metadata=L,L.detailedAppVersion&&(E.appVersion=L.detailedAppVersion,E.uid=L.uniqueId||"unknown")),E}function cS(e){const t=e&&e.createGroup;return typeof t=="string"&&!A(t)}function uS(e,t="",s){const n=Array.isArray(e.groupIds)?e.groupIds:[];let a=Ys.NONE;const o=cS(e)?e.createGroup:null;return n.length>0&&(a=o?Ys.GROUP_CREATION:Ys.ONLY_ASSIGNED),{type:a,ids:n,createToken:o,sourceRequest:t,sourceRequestMeta:s}}function Bm(e,t,s){return{...e,type:ao(e.type),mode:Ko(e.type),options:xo(e.options),groupData:uS(e,t,s)}}function $O(e,t){const s={roomCode:t},n=ch(t);return e.user.profile.isLoggedIn&&(s.mongoId=e.user.profile.mongoId),{payload:s,isAValidGameCode:n}}function WO(e,t){var m,_,f;const{room:s,player:n}=e;let a=!1,o=!1,i=!1,r=!1,c=!1,u=s,l=!1,d=null;if(s&&s.hash){if(a=!0,s.version&&Hd(s.version)){let g=null;i=!0,s.type===Be.ASYNC&&s.createdAt&&s.expiry&&(g=(m=Si(s).willExpireOn)==null?void 0:m.getTime()),o=!!g&&g-Date.now()<=0,o||(u=Bm(s,"checkRoom",{roomCode:t}),r=((_=u.groupData)==null?void 0:_.type)!==Ys.NONE,c=((f=u.groupData)==null?void 0:f.type)===Ys.GROUP_CREATION)}s&&s.isLearningTrackGame&&(l=!0,d=s.learningTrackMetaData)}return{isRoomCodeValid:a,isRoomExpired:o,areQuestionVersionsSupported:i,room:u,player:n||null,isAGroupGame:r,isAGroupCreationGame:c,isLearningTrackGame:l,learningTrackMetaData:d}}function YO(e,t,s){const{game:n,user:{profile:{isLoggedIn:a,mongoId:o}}}=e,i={startSource:s};let r={};return t&&!A(t)?r={...t}:r={...n.data.classroomInfo},a&&(r.mongoId=o),{actionData:i,payload:r}}function KO(e={},t){const{room:s,player:n,lmsInfo:a}=e,o=s&&s.hash;let i=!1,r=!1,c=!1,u=s;return o&&s.version&&Hd(s.version)&&(i=!0,u=Bm(s,"checkAssignment",{lmsInfo:t}),r=u.groupData.type!==Ys.NONE,c=u.groupData.type===Ys.GROUP_CREATION),{isValidGame:o,areQuestionVersionsSupported:i,room:u,player:n||null,lmsInfo:a||t||null,isAGroupGame:r,isAGroupCreationGame:c}}function JO(e,t="checkRoom"){if(t==="joinRoom"){const n=C(e,"room.options","{}");let a=n;return Fo(a)||(a=JSON.parse(n)),Je(a.limitAttempts)?a.limitAttempts:5}const s=C(e,"room.options.limitAttempts");return Je(s)?s:5}function XO({roomHash:e,playerId:t,actualNameToBeUsed:s,startSource:n,playerAvatarId:a=-1}){const o=hs(),i=ys(o.startSource),r=A(i)?n:i,c=Fm({playerId:t,actualNameToBeUsed:s,startSourceToSend:r,startSource:"joinRoom",avatarId:a});return{actionData:{roomHash:e,playerName:c.id,startSource:r},callPayload:{roomHash:e,player:c,powerupInternalVersion:Gi(Bt.CURRENT_CONFIG_API_VERSION)}}}function ZO(e,t=!1,s=!1){const n=e&&!A(e.player),a=C(e,"powerupConfigVersion","1");let o=null,i=!1,r="";if(n){o=bu("join",Be.LIVEASYNC,e),o.powerupConfigVersion=a;const c=Si(o.room).willExpireOn;o.room.type===Be.ASYNC&&(i=c.getTime()-Date.now()<=0),i&&(r+=Gd(c)),e.isCertificationGame&&Object.assign(o,{isCertificationGame:e.isCertificationGame}),e.isCertificationGame&&e.certificationRegion&&Object.assign(o,{certificationRegion:e.certificationRegion}),e.forcedRedirect&&Object.assign(o,{forcedRedirect:e.forcedRedirect})}return{isValidGame:n,response:o,hasGameExpired:i,formattedExpiryDate:r,forcePageChange:t,preventPageChange:s}}function ek(e){const t="dialog";let s=!1,n=!1,a=!1;const o=un(e),i=C(e,"response.room",{}),r=C(e,"response.player",{}),c=C(i,"options",null),u=C(e,"response.meta",{}),l={isAllowed:C(e,"response.player.isAllowed",!0),isOver:C(e,"response.player.isOver",!0),isForbidden:C(e,"response.player.isForbidden"),room:i,player:r};if(l.room.options=xo(typeof c=="string"?JSON.parse(c):c),o==="player.DUPLICATE_NAME"&&!A(i)){const d=i.type===Be.LIVE,m=!l.isOver&&(d||r.isRejoinAllowed);l.isForbidden?a=!0:m?s=!0:d?a=!0:n=!0}return{errorType:o,errorMeta:u,response:l,nameAlreadyTakenError:a,canResumeGame:s,canPlayAgainWithDifferentName:n,handlePreGameErrorAs:t}}function tk(e,t,s,n={},a,o,i="",r,c,u,l,d,m){var k,L;const _=ys(s),f=A(_)?s:_,g=Fm({playerId:t,startSource:f,callType:"joinSolo"}),v={quizId:e,playerName:g.id,startSource:f,gameOptions:n,gameMode:a},R=ln(),E=((k=d==null?void 0:d["room-version-for-response-service"])==null?void 0:k.defaultValue)||1,h={quizId:e,player:g,userId:l,gameOptions:hu(UE(n)),gameType:bc(Be.SOLO,a),powerupInternalVersion:Gi(Bt.CURRENT_CONFIG_API_VERSION),slot:Number.parseInt(r,10),experiment:c,locale:u,roomVersion:E};return R.showMemes!==((L=h.gameOptions)==null?void 0:L.memes)&&(h.gameOptions.memes=R.showMemes),A(i)||(h.referralId=i),A(o)||(h.roomHash=o),A(m)||(h.contestId=m),{actionData:v,callPayload:h}}function sk(e,t,s){const n=!A(C(e,"player"))||!1,a=C(e,"powerupConfigVersion","1");let o=null,i=[];if(n){o=bu("join",Be.SOLO,e);const{room:r,player:c}=o;i=Tu(r.hash,c.id,c.score,c.monsterId,"waiting")}return{isValidGame:n,response:{...o,generatedPlayers:i,powerupConfigVersion:a},forcePageChange:t,canChangeRoute:s}}function nk(e,t,s){const{roomHash:n,playerId:a,gameType:o,gameState:i}=t,r=ao(o),c=r&&Yo(r),u=Gi(Bt.CURRENT_CONFIG_API_VERSION),l={roomHash:n,playerId:a,startSource:s,powerupInternalVersion:u};return o&&(l.type=o),i&&(l.state=i),e.user.profile.isLoggedIn&&(l.mongoId=e.user.profile.mongoId),l.soloApis=Sd.PLAY_APIS,{isAssignedGame:c,actionData:{roomHash:n,playerName:a,startSource:s,gameType:o||"",gameState:i||"",classroomInfo:t.classroomInfo||null},callPayload:l,isGameSubDomainWhiteListed:e.applicationContext.isGameSubDomainWhiteListed}}function lS(e,t){var _,f;const s=!A(C(e,"player"))||!1,n=C(e,"powerupConfigVersion","1");let a=null,o=[],i=!1,r="other",c=!1,u=null;const l=e.forcedRedirect||null,d=(f=(_=e.player)==null?void 0:_.playerMetadata)==null?void 0:f.mysticPeakData,m=e.player.tieredRank;if(s){const{lastGamePlayed:g}=t.game.player;let v="";!A(g)&&g.roomHash===e.room.hash&&g.lastVisibleQuestionId&&(v=g.lastVisibleQuestionId),a=bu("rejoin","",e,v);const{room:R,player:E}=a;if(R.type===Be.SOLO){const h=Fo(E.responses)?Object.keys(E.responses).length:1;o=Tu(R.hash,E.id,E.score,E.monsterId,"leaderboard",R.options,h,.6)}e.isCertificationGame&&(i=!0),e.isCertificationGame&&e.certificationRegion&&(r=e.certificationRegion),R&&R.isLearningTrackGame&&(c=!0,u=R.learningTrackMetaData)}return{isValidGame:s,response:{...a,generatedPlayers:o,powerupConfigVersion:n,forcedRedirect:l,isCertificationGame:i,certificationRegion:r,mysticPeakData:d,mysticPeakTieredRank:m,isLearningTrackGame:c,learningTrackMetaData:u}}}function ak(e,t){let s={...t};if(t&&!A(t.questions))s={questions:au(t.questions,{dataIsStrigified:!1,forGameBeingPlayed:!0,slidesFlowControlType:e.questions.slidesFlowControlType}),traits:t.traits||null,canvas:t.canvas};else return!1;return s}function ok(e,t){const{data:{gameState:s,gameType:n,gameMode:a,quizId:o,roomHash:i,isLearningTrackGame:r},player:c,questions:{remainingOrder:u}}=e,l=!1;let d=!1,m=!1,_=!1,f=!1;const g=a===re.TEAM,v=t.allAnsweredQuestionsOrder.length,R={hasSeenSummaryAtleastOnce:!1},E=n===Be.LIVE&&s===Et.WAITING,h=s===Et.RUNNING,k=a===re.CHALLENGE,{isPlayerTheGameHost:L}=t,q={roomHash:i,gameType:n,gameState:s,playerId:c.playerId,gameId:i},D=Go({gameMode:a}),ee=a===re.TEACHER_PACED,ie=c.isOver===!0,{isMasteryMode:M}=t,{hasReachedMastery:oe}=t,ye=Uh({remainingOrder:u,hasReachedMastery:oe});let F=!t.areQuestionAttemptsLeft&&!D;const U=t.totalAnswerLaterQuestions,{isUserOnReviewScreen:H}=t;M&&(F=ye),ie||F&&!H?(d=!0,R.hasSeenSummaryAtleastOnce=!0):v>0||D||ee||U>0?m=!0:n===Be.ASYNC?_=!0:f=!0;const{lastGamePlayed:S}=c;let G=!1;return(E||h)&&(A(S)||!(S.roomHash===i&&S.playerId===c.playerId))&&(G=!0),{shouldDoExit:l,shouldSetIncompleteGame:G,isGameInWaitingState:E,isGameInRunningState:h,hasPlayerGameEnded:d,isPlayerInBetweenGame:m,isUserOnReviewScreen:H,goToWaitingWhenNoQuesAnswered:_,goToCountdownWhenNoQuesAnswered:f,quizId:o,showTeamAssignedSplash:g,playerHasJoinedTheGamePayload:R,isAChallengeGame:k,isPlayerTheGameHost:L,gameData:q,isPlayerMarkedOver:ie,isMasteryMode:M,hasReachedMastery:oe,isLearningTrackGame:r}}function ik(e){let t=!0;const s=C(e,"room.type"),n=C(e,"room.quizId"),a=C(e,"room.state"),o=C(e,"room.code"),i=s===Be.SOLO,r=a===Et.STOPPED||a===Et.COMPLETED;return(!s||!n)&&(t=!1),{isValidResponse:t,isSoloGame:i,quizId:n,isGameExpired:r,roomCode:o}}function rk(e,t,s,n){const a=rs(),o=ln(),i=es(),r=a.mongoId,c=o.selectedLanguage,u=i.deviceInfo.quizizzUID,l={quizId:e,type:t,expiry:s,locale:c,gameOptions:hu(n),memeSet:n.memeset};return A(r)?A(u)||(l.hostSessionId=u):l.hostId=r,{callPayload:l}}function ck({profile:e,applicationContext:t},s){const n=e.mongoId||"";let a="";return n||(a=t.deviceInfo.quizizzUID),{hostId:n,hostSessionId:a,...s.data}}function uk(e,t){const s=C(e,"user.profile.isLoggedIn",!1),n=C(e,"game.player.lastGamePlayed.roomCode","");let a=!1;return!s&&t===n&&(a=!0),{shouldResetIncompleteGame:a}}const Ce="https://cf.quizizz.com/",fi={FADE:"fade",FADE_ALL:"fadeAll",FADE_ALL_BUT:"fadeAllBut",FADE_ALL_BUT_CURRENT:"fadeAllButCurrent"},_i={PRE_PLAY:"prePlay",PRE_PAUSE:"prePause",ON_END:"onEnd",ON_STOP:"onStop"},dS={DEFAULT_VOLUME:"1",BACKGROUND_VOLUME:"0.03",BACKGROUND_FADE_DURATION:200},lk={BACKGROUND_FADE_DURATION:1e3},V={WAITING:"waiting",QUIZ:"question",SUMMARY:"waiting",JUDGEMENT_CORRECT:"judgementCorrect",JUDGEMENT_INCORRECT:"judgementIncorrect",COUNTDOWN_START:"countdownStart",COUNTDOWN_END:"countdownEnd",ACHIEVEMENT:"achievement",LEADERBOARD_MOVE_UP:"leaderboardMoveUp",LEADERBOARD_MOVE_DOWN:"leaderboardMoveDown",WHOOSH_SHORT:"whooshShort",AWARD_POWERUP_SPIN:"scroll",AWARD_POWERUP_PING:"ping",GLITCH_DISTORTION:"glitchDistortion",GAME_OVER:"gameOver",MYSTERY_BOX_OPEN_NEGATIVE:"negativeSurprise",MYSTERY_BOX_OPEN_POSITIVE:"positiveSurprise",GET_POINTS:"getPoints",LOSE_POINTS:"losePoints",STRICT_TIMER_15:"strictTimer15",STRICT_TIMER_5:"strictTimer5",STRICT_TIMER_BOOM:"strictTimerBoom",RECORD_START:"recordStart",RECORD_END:"recordEnd",CONFETTI_POP:"confettiPop",TRUMPET_LOOSER_SOUND:"trumpetLooserSound",EXCITING_GIFT:"excitingGift",PLOP:"plop",AVALANCHE:"avalanche",MYSTIC_PEAK_LANDSLIDE:"mysticPeakLandslide",MYSTIC_PEAK_QUIZ:"mysticPeakQuiz",MYSTIC_PEAK_OBSTACLE_SELECTED:"mysticPeakObstacleSelected",MYSTIC_PEAK_POWERUP_SELECTED:"mysticPeakPowerupSelected",MYSTIC_PEAK_LEVEL_UPGRADED:"mysticPeakLevelUpgraded",MYSTIC_PEAK_MATCHING_PAIR:"mysticPeakMatchingPair",MYSTIC_PEAK_CIRCLE_WARS_ERROR:"mysticPeakCircleWarsError",MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE:"mysticPeakCircleWarsScribble",QUESTION_START_BELL:"questionStartBell",AVATAR_MYSTERY_BOX_OPEN:"avatarMysteryBoxOpen",AVATAR_FINAL_COUNTER:"avatarFinalCounter",AVATAR_ITEM_TRY:"avatarItemTry",AVATAR_BUY_BUTTON_CLICK:"avatarBuyButtonClick",AVATAR_DAILY_REWARDS:"avatarDailyRewards",AVATAR_NEW_ITEM_UNLOCK:"avatarNewItemUnlock"},na={[V.COUNTDOWN_START]:{src:`${Ce}join/sounds/countdown`,volume:1},[V.COUNTDOWN_END]:{src:`${Ce}join/sounds/countdown_end`,volume:1}},dk={[rt.CLASSIC]:{...na,[V.WAITING]:{src:`${Ce}join/sounds/waiting_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}join/sounds/quiz_bg2`,volume:.4,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}join/sounds/correct_answer`,volume:.2},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}join/sounds/wrong_answer`,volume:.14},[V.GAME_OVER]:{src:`${Ce}join/sounds/correct_answer`,volume:0}},[rt.SYNTHWAVE]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/synthwave/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/synthwave/music_bg`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}themes/v2/synthwave/sfx_correct`,volume:1},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}themes/v2/synthwave/sfx_incorrect`,volume:1},[V.GAME_OVER]:{src:`${Ce}themes/v2/synthwave/sfx_gameOver`,volume:1}},[rt.DOGSVILLE]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/dogsville/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/dogsville/music_bg`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}themes/v2/dogsville/sfx_correct`,volume:1},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}themes/v2/dogsville/sfx_incorrect`,volume:1},[V.GAME_OVER]:{src:`${Ce}themes/v2/dogsville/sfx_gameOver`,volume:1}},[rt.THE_8_BIT]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/the8Bit/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/the8Bit/music_bg`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}themes/v2/the8Bit/sfx_correct`,volume:1},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}themes/v2/the8Bit/sfx_incorrect`,volume:1},[V.GAME_OVER]:{src:`${Ce}themes/v2/the8Bit/sfx_gameOver`,volume:1}},[rt.ANIME]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/anime/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/anime/music_bg`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}themes/v2/anime/sfx_correct`,volume:1},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}themes/v2/anime/sfx_incorrect`,volume:1},[V.GAME_OVER]:{src:`${Ce}themes/v2/anime/sfx_gameOver`,volume:1}},[rt.FOOTBALL]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/football/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/football/music_bg`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}themes/v2/football/sfx_correct`,volume:1},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}themes/v2/football/sfx_incorrect`,volume:1},[V.GAME_OVER]:{src:`${Ce}themes/v2/football/sfx_gameOver`,volume:1}},[rt.NINETIES]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/nineties/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/nineties/music_bg`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}themes/v2/nineties/sfx_correct`,volume:1},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}themes/v2/nineties/sfx_incorrect`,volume:1},[V.GAME_OVER]:{src:`${Ce}themes/v2/nineties/sfx_gameOver`,volume:1}},[rt.MYSTIC_PEAK]:{[V.COUNTDOWN_START]:{src:`${Ce}join/sounds/mp_COUNTDOWN_START`,volume:1},[V.COUNTDOWN_END]:{src:`${Ce}join/sounds/mp_COUNTDOWN_END`,volume:1},[V.WAITING]:{src:`${Ce}themes/v1/mystic_peak/bg_waiting`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}join/sounds/mp_MOUNTAIN`,volume:1,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}join/sounds/mp_CORRECT`,volume:.2},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}join/sounds/mp_Wrong_Answer`,volume:.14},[V.GAME_OVER]:{src:`${Ce}themes/v1/mystic_peak/sfx_gameOver`,volume:1}},[rt.COSMIC_PICNIC]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/cosmic-picnic/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/cosmic-picnic/music_bg`,volume:.4,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}join/sounds/correct_answer`,volume:.2},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}join/sounds/wrong_answer`,volume:.14},[V.GAME_OVER]:{src:`${Ce}join/sounds/correct_answer`,volume:0}},[rt.WINTER]:{...na,[V.WAITING]:{src:`${Ce}themes/v2/winter/music_bg`,volume:1,loop:!0},[V.QUIZ]:{src:`${Ce}themes/v2/winter/music_bg`,volume:.4,loop:!0},[V.JUDGEMENT_CORRECT]:{src:`${Ce}join/sounds/correct_answer`,volume:.2},[V.JUDGEMENT_INCORRECT]:{src:`${Ce}join/sounds/wrong_answer`,volume:.14},[V.GAME_OVER]:{src:`${Ce}join/sounds/correct_answer`,volume:0}}},mk={[V.ACHIEVEMENT]:{src:`${Ce}join/sounds/achievement1`,volume:.1},[V.LEADERBOARD_MOVE_UP]:{src:`${Ce}join/sounds/leaderboard_up`,volume:.35},[V.LEADERBOARD_MOVE_DOWN]:{src:`${Ce}join/sounds/leaderboard_down`,volume:.1},[V.WHOOSH_SHORT]:{src:`${Ce}join/sounds/whoosh_short`,volume:.4},[V.AWARD_POWERUP_SPIN]:{src:`${Ce}join/sounds/Scroll-test`,volume:.4},[V.AWARD_POWERUP_PING]:{src:`${Ce}join/sounds/Ping-test`,volume:.4},[V.GLITCH_DISTORTION]:{src:`${Ce}join/sounds/glitch_distortion`,volume:.4,loop:!0},[V.MYSTERY_BOX_OPEN_POSITIVE]:{src:`${Ce}join/sounds/mystery_cube_open_pos`,volume:1},[V.MYSTERY_BOX_OPEN_NEGATIVE]:{src:`${Ce}join/sounds/mystery_cube_open_neg`,volume:1},[V.GET_POINTS]:{src:`${Ce}game/audio/sfx/get_points`,volume:1.2},[V.LOSE_POINTS]:{src:`${Ce}game/audio/sfx/lose_points`,volume:1},[V.QUESTION_START_BELL]:{src:`${Ce}sounds/presentation-dashboard/look`,volume:1},[V.STRICT_TIMER_15]:{src:`${Ce}sounds/presentation-dashboard/timer_15_sec`,volume:1},[V.STRICT_TIMER_5]:{src:`${Ce}sounds/presentation-dashboard/timer_5_sec`,volume:1},[V.STRICT_TIMER_BOOM]:{src:`${Ce}sounds/presentation-dashboard/timer_boom`,volume:1},[V.RECORD_START]:{src:`${Ce}game/audio/sfx/startRecording`,volume:.4},[V.RECORD_END]:{src:`${Ce}game/audio/sfx/endRecording`,volume:.4},[V.CONFETTI_POP]:{src:`${Ce}game/audio/sfx/powerup-extra-points`,volume:.8},[V.TRUMPET_LOOSER_SOUND]:{src:`${Ce}game/audio/sfx/trombone_looser_sound`,volume:1},[V.EXCITING_GIFT]:{src:`${Ce}game/audio/sfx/exciting_gift`,volume:1},[V.PLOP]:{src:`${Ce}sounds/live-dashboard/themes/default/plop`,volume:.8},[V.AVATAR_MYSTERY_BOX_OPEN]:{src:`${Ce}join/sounds/avatar_open_mystery_box`,volume:.5},[V.AVATAR_FINAL_COUNTER]:{src:`${Ce}join/sounds/avatar_final_counter`,volume:.5},[V.AVATAR_ITEM_TRY]:{src:`${Ce}join/sounds/avatar-every-try-item`,volume:.5},[V.AVATAR_BUY_BUTTON_CLICK]:{src:`${Ce}join/sounds/avatar-buy-button-click`,volume:.5},[V.AVATAR_DAILY_REWARDS]:{src:`${Ce}join/sounds/avatar-daily-rewards`,volume:.15},[V.AVATAR_NEW_ITEM_UNLOCK]:{src:`${Ce}join/sounds/avatar-new-item-unlock`,volume:.5}},pk={[V.WAITING]:{[_i.ON_STOP]:{name:fi.FADE,from:"initial",to:0,duration:400}},[V.QUIZ]:Sn(V.WAITING),[V.SUMMARY]:Sn(V.WAITING),[V.JUDGEMENT_CORRECT]:{[_i.PRE_PLAY]:{name:fi.FADE_ALL_BUT_CURRENT,from:"initial",to:.3,duration:250},[_i.ON_END]:{name:fi.FADE_ALL_BUT_CURRENT,from:"current",to:"initial",duration:250}},[V.JUDGEMENT_INCORRECT]:Sn(V.JUDGEMENT_CORRECT),[V.GAME_OVER]:Sn(V.JUDGEMENT_CORRECT),[V.MYSTERY_BOX_OPEN_NEGATIVE]:Sn(V.JUDGEMENT_CORRECT),[V.MYSTERY_BOX_OPEN_POSITIVE]:Sn(V.JUDGEMENT_CORRECT),[V.QUESTION_START_BELL]:Sn(V.JUDGEMENT_CORRECT),[V.STRICT_TIMER_15]:Sn(V.JUDGEMENT_CORRECT),[V.STRICT_TIMER_5]:Sn(V.JUDGEMENT_CORRECT),[V.STRICT_TIMER_BOOM]:Sn(V.JUDGEMENT_CORRECT),[V.CONFETTI_POP]:{[_i.PRE_PLAY]:{name:fi.FADE_ALL_BUT_CURRENT,from:"initial",to:.1,duration:100},[_i.ON_END]:{name:fi.FADE_ALL_BUT_CURRENT,from:"current",to:"initial",duration:250}},[V.TRUMPET_LOOSER_SOUND]:Sn(V.CONFETTI_POP),[V.EXCITING_GIFT]:Sn(V.CONFETTI_POP)},gk={[rt.MYSTIC_PEAK]:{[V.AVALANCHE]:{src:`${Ce}join/sounds/mp_AVALANCHE`,volume:1},[V.MYSTIC_PEAK_LANDSLIDE]:{src:`${Ce}join/sounds/mp_LANDSLIDE`,volume:1},[V.MYSTIC_PEAK_OBSTACLE_SELECTED]:{src:`${Ce}join/sounds/mp_OBSTACLE_OPENING_BREAKROOM`,volume:1},[V.MYSTIC_PEAK_POWERUP_SELECTED]:{src:`${Ce}join/sounds/mp_POWERUP`,volume:1},[V.MYSTIC_PEAK_LEVEL_UPGRADED]:{src:`${Ce}join/sounds/mp_NEXT_LEVEL`,volume:1},[V.MYSTIC_PEAK_MATCHING_PAIR]:{src:`${Ce}join/sounds/match-pair`,volume:1},[V.MYSTIC_PEAK_CIRCLE_WARS_ERROR]:{src:`${Ce}join/sounds/circle-wars-error`,volume:1},[V.MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE]:{src:`${Ce}join/sounds/circle-wars-scribble`,volume:1}},[rt.CLASSIC]:{[V.MYSTIC_PEAK_MATCHING_PAIR]:{src:`${Ce}join/sounds/match-pair`,volume:1}}},Co={MUSIC:"music",SFX:"sfx"},fk={[Co.MUSIC]:[V.WAITING,V.QUIZ,V.SUMMARY],[Co.SFX]:[V.JUDGEMENT_CORRECT,V.JUDGEMENT_INCORRECT,V.COUNTDOWN_START,V.COUNTDOWN_END,V.ACHIEVEMENT,V.LEADERBOARD_MOVE_UP,V.LEADERBOARD_MOVE_DOWN,V.WHOOSH_SHORT,V.AWARD_POWERUP_SPIN,V.AWARD_POWERUP_PING,V.GLITCH_DISTORTION,V.GAME_OVER,V.MYSTERY_BOX_OPEN_NEGATIVE,V.MYSTERY_BOX_OPEN_POSITIVE,V.GET_POINTS,V.LOSE_POINTS,V.QUESTION_START_BELL,V.STRICT_TIMER_15,V.STRICT_TIMER_5,V.STRICT_TIMER_BOOM,V.RECORD_START,V.RECORD_END,V.CONFETTI_POP,V.TRUMPET_LOOSER_SOUND,V.EXCITING_GIFT,V.PLOP,V.AVALANCHE,V.MYSTIC_PEAK_LANDSLIDE,V.MYSTIC_PEAK_MATCHING_PAIR,V.MYSTIC_PEAK_QUIZ,V.MYSTIC_PEAK_OBSTACLE_SELECTED,V.MYSTIC_PEAK_POWERUP_SELECTED,V.MYSTIC_PEAK_LEVEL_UPGRADED,V.MYSTIC_PEAK_CIRCLE_WARS_ERROR,V.MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE,V.AVATAR_MYSTERY_BOX_OPEN,V.AVATAR_FINAL_COUNTER,V.AVATAR_ITEM_TRY,V.AVATAR_BUY_BUTTON_CLICK,V.AVATAR_DAILY_REWARDS,V.AVATAR_NEW_ITEM_UNLOCK]};function Sn(e){return`-DO-*${e}`}const mS={attachDimensionParam:!1,containerWidth:window.innerWidth,containerHeight:window.innerHeight,uniqueId:""};async function pS(e){try{const t=await fetch(e);return{resource:await yS(t)}}catch(t){return N.error("Error at fetchSingleVideo",t),{error:t}}}async function Hm(e,t,s){const n=new Date,a=[];if(s=Ln(s,mS),ot(e,(o,i)=>{const r=AS(o,t,s),c=TS(o,t,s,i);a.push(hS(t,[r,c]))}),A(a))return{timeTakenForAll:Date.now()-n.getTime()};try{const o=await Promise.all(a);return{timeTakenForAll:Date.now()-n.getTime(),result:o}}catch(o){return N.error(`Error at cacheMediaAndExecute when mediaType(${t}) for items - `,e,o),{timeTakenForAll:Date.now()-n.getTime(),error:o}}}function Vl(e,t,s,n=(c,u)=>{},a,o=0,i={},r="image"){let c=0;const u=t.length-s-o,l=s+o;for(let d=0;d<Math.min(a,u);d++){const m=t[l+d];let _=[],f=!0,g=m;const v=!1;switch(r){case"image":_=ES(e[m],i.type,i.width),f=e[m]&&e[m].imagesPrefetchDone===!0;break;case"audio":_=vS(e[m]),f=e[m]&&e[m].audioPrefetchDone===!0,g=Ah(e[m]);break}if(!f&&_.length>0){const R={attachDimensionParam:v,uniqueId:g};setTimeout(async()=>{try{const E=await Hm(_,r,R);n(m,E)}catch(E){N.error("Error at prefetchQuestionMedia",E)}},c*4e3)}else n(m,{result:"no_images"});c+=1}}function gS(e,t){const s=new Date;return new Promise((n,a)=>{const o=new Image;o.onload=()=>{const i=Date.now()-s.getTime();n({resource:"",timeTaken:i})},o.onerror=()=>{const i=Date.now()-s.getTime();a({error:"unknown",timeTaken:i})},o.src=e})}async function fS(e,t){const s=new Date,n=(await Ue(()=>import("./Sound.BvJFxMVh.js").then(a=>a.b),__vite__mapDeps([26,1,2]))).default;if(n.hasSound(t))return{resource:"",timeTaken:Date.now()-s.getTime()};try{return await n.addSoundAtRuntime(t,{src:e,volume:dS.DEFAULT_VOLUME,requiresExtension:!1,format:["mp3"]}),{resource:"",timeTaken:Date.now()-s.getTime()}}catch(a){const o=Date.now()-s.getTime();throw{error:a,timeTaken:o}}}async function _S(e,t){const s=new Date;try{const n=await pS(e),a=Date.now()-s.getTime();return{resource:n.resource,timeTaken:a}}catch(n){const a=Date.now()-s.getTime();throw{error:n,timeTaken:a}}}function hS(e,t){switch(e){case"image":return gS(...t);case"audio":return fS(...t);case"video":return _S(...t)}}function ES(e,t="",s){const n=[];return e&&(e.media&&ot(e.media,a=>{a.type==="image"&&a.url&&n.push(yi(a.url,{deviceType:t,dimToCheckAgainst:s},"question"))}),ot(e.options,a=>{a.type==="image"&&a.media&&ot(a.media,o=>{o.url&&n.push(yi(o.url,{deviceType:t,dimToCheckAgainst:s},"option"))})}),e.explain&&e.explain.media&&e.explain.media.forEach(a=>{a.type==="image"&&a.url&&n.push(yi(a.url,{deviceType:t,dimToCheckAgainst:s}))})),n}function vS(e){const t=C(e,"media[0]"),s=[];return!A(t)&&t.type==="audio"&&t.url&&s.push(t.url),e.explain&&(A(e.explain.media)||ot(e.explain.media,n=>{n.type==="audio"&&n.url&&s.push(n.url)})),s}function AS(e,t,s,n){return t==="image"&&s.attachDimensionParam?yi(e,{dimToCheckAgainst:s.containerWidth},"misc"):e}function TS(e,t,s,n){if(typeof s.uniqueId=="string")return s.uniqueId;if(Array.isArray(s.uniqueId)&&s.uniqueId[n])return s.uniqueId[n];if(Ms(s.uniqueId)){const a=s.uniqueId(e,n);if(a)return a}return N.invariant(t==="audio",`Caching audio requires a unique id. For item(${e}) none provided`),""}async function yS(e){try{return await e.blob()}catch{return null}}const Zn=Pt("generalGameActions",()=>{const e=Ht(),t=mt(),s=tn(),n=Dt(),a=hs(),o=es(),i=Fi(),r=rs(),c=ps(),u=On(),l=Jn(),d=ln(),m=ba(),_=Bi(),f=Aa(),g=ro(),v=Xo(),R=Iu();function E(){return{game:{data:t,flow:a,questions:e,team:i,player:n},user:{profile:r},applicationContext:o,routing:s,appSettings:d}}function h(){return{data:t,flow:a,questions:e,team:i,player:n}}function k(b={}){const te=h(),{preserveClassroomInfo:Y,redirectTo:ce=P.get(P.List.LANDING.HOME)}=b;A(te.player.lastGamePlayed)||n.updateIncompleteGame(a.questionTimer,e.currentId,e.orderedOriginalResponses);const we=te.data.gameType!==Be.SOLO;o.exitGame(),e.exitGame(),t.exitGame({preserveClassroomInfo:Y,preservePlayerId:we,redirectTo:ce}),n.exitGame({preserveClassroomInfo:Y,preservePlayerId:we,redirectTo:ce}),c.resetGame(),a.exitGame(),m.exitGame(),_.$reset()}function L({classroomInfo:b={},preserveRoomCode:te=!1}={}){e.resetGame(),t.resetGame({classroomInfo:b,preserveRoomCode:te}),n.resetGame(),a.resetGame(),m.resetGame(),_.$reset(),c.resetGame(),d.$reset()}function q(){R.$reset()}function D(b={}){t.gameStarted(b),e.gameStarted(b),i.gameStarted(b);const te=t.isMasteryMode;if(Go({gameMode:t.gameMode})){u.startQuestions({isAtGamePlayStart:!0});return}const Y=a.isMysticPeak,ce=t.isAvatarCustomizerVisible;Y&&ce||(te?s.requestToChangePage({to:P.get(P.List.IN_GAME.ACCURACY_COUNTDOWN)}):s.requestToChangePage({to:P.get(P.List.IN_GAME.COUNTDOWN)}))}function ee({gameOptions:b}){const{showMemes:te,playMusic:Y,playSFX:ce,readAloud:we,selectedTheme:Se}=d,Re={gameMode:t.gameMode,themesAllowedToUser:r.themesAllowedToUser,appSettings:{showMemes:te,playMusic:Y,playSFX:ce,readAloud:we,selectedTheme:Se},slidesFlowControlType:e.slidesFlowControlType},Qe=kE(Re,b);if(A(Qe.changedSettings)||d.setAppSettings(Qe.changedSettings),!A(Qe.appSettingsToRevert)){const{appSettingsToRevert:ct}=Qe;a.setAppSettingToRevertAtGameEnd({appSettingsToRevert:ct})}}async function ie(){try{const b={memeSetId:a.meme.setId||"",language:d.selectedLanguage||"",theme:d.selectedTheme||""},{response:te}=await Qv(b),Y={allOrderedResponses:e.allOrderedResponses,totalQuestionsInGame:e.totalQuestionsInGame},ce=PE(Y,te);ce.isFromFeaturedList=!0;let we=f.featuredMemesets;if(A(we)){const{response:Se}=await wm();we=Se}return we=we.filter(Se=>Se.featured===!0).map(Se=>Se._id),ce.isFromFeaturedList=we.includes(a.meme.setId),a.setMemeSet(ce),ce}catch(b){N.error("Error at action fetchMemeSetForGame",b)}}async function M({quizId:b="",gameId:te,gameState:Y,gameType:ce,fetchQuizName:we=!1}){let Se=null;try{A(b)?Se=(await k_(te,Y,ce,we)).response:Se=(await O_(b)).response;const Re=bE(Se,Y,ce);return t.setQuizInfo(Re),!0}catch(Re){return N.error("Error at getQuizInfoFromServer:",Re),!1}}async function oe({gameData:b}){if(b)try{if(b.isReplayLiveGameModal){const te=b.gameTypeOfNextGame,Y=b.gameModeOfNextGame;return await g.replayLiveGameNotificationAcceptancePipeline({roomCode:b.gameCode,lmsInfo:b.lmsInfo,gameType:te,gameMode:Y})}if(b.isReplayAsyncModal){const te=b.gameTypeOfNextGame,Y=b.gameModeOfNextGame;return await g.replayLiveGameAsyncNotificationAcceptancePipeline({roomCode:b.gameCode,lmsInfo:b.lmsInfo,gameType:te,gameMode:Y})}return await g.classGameAssignedNotificationAcceptancePipeline({roomCode:b.gameCode,lmsInfo:b.lmsInfo})}catch(te){c.toggleModal(),N.error("error at action handleAssignedGameNotifAcceptance",te)}}function ye({totalQuesToPrefetchFor:b=1,quesSkipCount:te=1,media:Y={type:"",width:""}}){const ce=h(),we=e.allAnsweredQuestionsOrder.length,Se={type:Y.type,width:Y.width};Vl(ce.questions.list,ce.questions.initSequence,we,ge.bind(void 0),b,te,Se,"image")}function F({totalQuesToPrefetchFor:b=1,quesSkipCount:te=1,mediaObj:Y={type:"",width:""}}){const ce=h(),we=e.allAnsweredQuestionsOrder.length,Se={type:Y.type,width:Y.width};Vl(ce.questions.list,ce.questions.initSequence,we,Te.bind(void 0),b,te,Se,"audio")}function U(){u.gameCompleted();const b=()=>{c.toggleDialog(),s.requestToChangePage({to:P.get(P.List.IN_GAME.SUMMARY)})};c.toggleDialog({name:"game.expired|confirm",actionCallback:b})}function H(){n.clearIncompleteGame(),l.toggleOverlay({type:"rejoinError|PLAYER_DELETED"})}async function S({lmsInfo:b=null,startSource:te="",handlePreGameErrorAs:Y="dialog"}){const ce=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,we=ce();return t.LMSLinkDecoded(b),await Mr(o),we.checkAssignment({lmsInfo:b,startSource:te,handlePreGameErrorAs:Y})}function G({gameCode:b,hostOccupation:te}){const Y=window.location.href.includes("/pro")?"/pro/join":"/join",ce=new URL(`${window.location.href.split(Y)[0]}/signup`);ce.searchParams.append("redirectUrl",Y),ce.searchParams.append("gameCode",b),ce.searchParams.append("isGameJoinFlow","true"),ce.searchParams.append("ctaSource","handleLoginRequirementForGame"),ce.searchParams.append("fromPage",window.location.pathname),Y==="/pro/join"&&ce.searchParams.append("qfwUser","true"),window.location.href=ce.toString()}function K({response:b}){if(b&&b.isGroupGCL===!0&&b.throughGCL===!1){const te=()=>{c.toggleDialog(),L({preserveRoomCode:!0})};c.toggleDialog({name:"groupGame.shouldJoinViaLink|confirm",actionCallback:te});return}c.toggleDialog({name:"groupGame.notAMemberOfGamesGroup|confirm",options:{response:b}})}function ne({groupData:b={},gameCode:te="",hostOccupation:Y=""}){if(!r.isLoggedIn){G({gameCode:te,hostOccupation:Y});return}A(b)||A(b.createToken)||v.handleGroupInvite({token:b.createToken,type:Za.FROM_GAME_CODE,modalOptions:{sourceRequest:b.sourceRequest,sourceRequestMeta:b.sourceRequestMeta}})}function ue({errorName:b,handlePreGameErrorAs:te,options:Y={},errorCode:ce="",actionCallback:we=null}){let Se;const Re=ce?`#${ce}`:"",Qe={name:b,options:{...Y,errorCode:Re}};switch(N.invariant(!A(b),"handlePreGameErrorMessages: Unable to resolve as no `errorName` provided"),te){case"inLineMessage":Se=c.togglePreGameErrorMessage;break;case"dialog":Se=c.toggleDialog,we?Qe.actionCallback=we:Qe.actionCallback=()=>{c.toggleDialog(),f.clearPreGameQuizInfo()};break}N.invariant(!A(Se),`handlePreGameErrorMessages: Unable to decide how to resolve errorName(${b}) when handlePreGameErrorAs(${te})`),Se(Qe)}function de(b){const te=ce=>{ce===0&&window.location.reload()},Y=b&&b.name?b.name:"network.genericRefreshRequired|confirm";c.toggleDialog({name:Y,actionCallback:te})}function pe({questionId:b,attempt:te}){const{questionResponses:Y}=e,ce=!A(Y[b])&&!A(Y[b][te]);N.invariant(ce,`Cannot clear question response that does not exist for question(${b}) and attempt(${te})`,{logOnSentry:!0});const we=Y[b][te];we.isEvaluated&&N.warn("Warning at clearQuestionResponse: An evaluated response is being cleared",we),e.clearQuestionResponse({questionId:b,attempt:te})}async function Ae({source:b=""}){var ct,_t,yt,pt;const te=E(),{game:Y,user:ce}=te,we=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,Se=we(),Re=wa(t.isMasteryMode),Qe={roomHash:t.roomHash,playerId:n.playerId,type:Re(t.gameType,t.gameMode),state:Y.data.gameState,startSource:Fe.get(Fe.List.REJOIN.GAME_OVER),powerupInternalVersion:Gi(Bt.CURRENT_CONFIG_API_VERSION),soloApis:Sd.PLAY_APIS};ce.profile.isLoggedIn&&(Qe.mongoId=ce.profile.mongoId);try{const{response:Ze}=await jv(Qe),ht=lS(Ze,te),Lt={};if(Ze!=null&&Ze.bookmarkedFlashcards&&Sr().setBookmarkedFlashcardIds(Ze.bookmarkedFlashcards),Sr().setCorrectIncorrectFlashcardIdsFromAPI(((ct=Ze.player)==null?void 0:ct.responses)||[]),!em(t.gameMode)&&!(Ze.player.isOver||El(Ze.room.state))&&await Xa().setUserGameConfig(void 0,!0,(_t=Ze==null?void 0:Ze.player)==null?void 0:_t.id),(yt=Ze==null?void 0:Ze.player)!=null&&yt.coin&&Xa().setGameCoinsCollected(Ze.player.coin),!ht.isValidGame)return{updated:!1};if(ht.response.room.quizId&&(Lt.quizId=ht.response.room.quizId),e.rejoinGameResponded(ht.response),Se.setGameQuestions(ht.response.room),e.updateQuestionResponses({updatedResponses:Fp(ht.response.player.responses)}),n.updatePlayerStats(ht.response.player),A(Lt)||t.setQuizInfo(Lt),Ze.player.isOver||El(Ze.room.state)){const{aggregations:Gt,totalCoins:It,coinDistribution:jt}=await $v({playerId:Qe.playerId,gameId:Qe.roomHash});mt().setCoinDistribution(jt),Xa().setCoinBalance(It),t.setAggregations({aggregations:Gt,total:((pt=Ze.player.questions)==null?void 0:pt.length)||Ze.room.totalAnswerableQuestions})}return{updated:!0}}catch(Ze){return N.error("Error at updateCurrentGameDataInBackground: ",Ze),b==="onGameOverPipeline"&&a.setActionErrorTrace({nameList:["onGameOverPipeline","updateCurrentGameDataInBackground"]}),{updated:!1}}}function ge(b,te){if(te.result!=="no_images"){let Y=-1,ce=-1;Array.isArray(te)?(ce=te.length,Y=jc(te,Se=>Se.timeTakenPerImage||0)/te.length):(ce=1,Y=te.timeTakenPerImage);const we={forQuestionId:b,noOfImages:ce};ce>1?(we.timeTakenPerImage=Y,we.timeTakenForAll=te.timeTakenForAll):ce===1&&(we.timeTakenForAll=te.timeTakenPerImage),e.completedQuestionImagesPrefetch(we)}}function Te(b){const te={forQuestionId:b};e.completedQuesAudioPrefetch(te)}return{getRootState:E,exitGame:k,resetGame:L,resetCourse:q,startGame:D,handleGameExpiry:U,handleGameLockFails:de,handleCurrentPlayerDeleted:H,decodeLMSInfoAndCheckAssignment:S,updateCurrentGameDataInBackground:Ae,handleGroupInviteForCreationGame:ne,handlePreGameErrorMessages:ue,clearQuestionResponse:pe,handleLoginRequirementForGame:G,handlePlayerNotInGroup:K,getQuizInfoFromServer:M,modifySettingsFromGameOptions:ee,fetchMemeSetForGame:ie,handleAssignedGameNotifAcceptance:oe,prefetchUpcomingQuesImages:ye,prefetchUpcomingQuesAudio:F}});function IS(e,t){const{quiz:s}=e.data,n=t.query&&t.query.from,a=t.query&&t.query.startSource,o=t.query&&t.query.referrer||"",i=t.query&&t.query.studentShare==="true";let r="",c="",u="",l=1;A(s.info)?e.data.draft&&(c=e.data.draft.name,u=e.data.draft.image,l=e.data.draft.questions&&e.data.draft.questions.length||1):(c=s.info.name,u=s.info.image,l=s.info.questions&&s.info.questions.length||1);const d={quizId:s._id,quizName:c,quizImage:u,quizNumQuestions:l};switch(i&&(r=Fe.get(Fe.List.FROM_SHARE.VIA_JOIN)),n){case"admin":r=Fe.get(Fe.List.FROM_ADMIN.PARAM.DIRECT);break;case"join_admin_share":r=Fe.get(Fe.List.FROM_SHARE.VIA_ADMIN);break;case"soloLinkShare":r=Fe.get(Fe.List.FROM_ADMIN.PARAM.SOLO_LINK_SHARE),a&&(r+=`|${a}`);break;case"parentEmail":r=Fe.get(Fe.List.FROM_ADMIN.PARAM.PARENT_EMAIL);break;case"parentEmailLink":r=Fe.get(Fe.List.FROM_ADMIN.PARAM.PARENT_EMAIL_LINK);break}return{quizDetails:d,startSource:r,soloLinkReferrerId:o}}const Aa=Pt("preGameDetail",()=>{const e=p(""),t=p(""),s=p([]),n=p(""),a=p({roomHash:""}),o=p({}),i=p([]),r=p(null),c=p(!1),u=p({}),l=p({}),d=Zn(),m=hs(),_=Dt(),f=tn(),g=ps();function v(){e.value="",t.value="",s.value=[],n.value="",a.value={},o.value={},i.value=[],r.value=null,c.value=!1,u.value={},l.value={}}function R(S){u.value={...S.routeCompositeBreakdown}}const E=H,h=v;function k(S){l.value=S.gameOptions||{}}function L(S){s.value=S.memesets}const q=T(()=>{const S=i.value;if(S.length===0)return!1;let G=!0;return ot(S,K=>{if(K.gameMode!==re.TEST)return G=!1,!1}),G}),D=T(()=>!q.value&&a.value.didLatestGameHaveLimitedAttempts!==!0),ee=T(()=>!!r.value);async function ie({roomHash:S="",updatePreGameInfo:G=!0}){try{const{response:K}=await Fv(S),ne=du(K.data),ue=DE(K.data),de=LE(ne,ue);return G&&E(de),{success:!0,cookedData:de}}catch(K){N.error("Error at action retrieveRunningGame ",K);const ne=un(K),ue="dialog",de=`rrg-${ne}`;switch(ne){case"game.NOT_FOUND":d.handlePreGameErrorMessages({errorName:"game.notRunning|confirm",handlePreGameErrorAs:ue});break;default:d.handlePreGameErrorMessages({errorName:"game.retrieveRunningGameDefaultError|confirm",options:{errorType:ne},handlePreGameErrorAs:ue,errorCode:de});break}return{success:!1,error:{type:ne}}}}async function M({quizId:S,toRoute:G,embedMode:K=!1}){var ne,ue;if(S)try{const de=!Array.isArray((ne=G.params)==null?void 0:ne.contestId)&&((ue=G.params)==null?void 0:ue.contestId)||null,{response:pe}=await tu({quizId:S,bypassProfanityCheck:!0,requestPrivileges:!1}),Ae=IS(pe,G),ge=C(pe.data,"creatorPrivileges"),Te=tn().$state,b=cm({pageMetadats:Te.pageMetaData},Ae,{data:pe.data,creatorPrivileges:ge,contestId:de,embedMode:K});return m.setGameStartSource({startSource:b.screenOpenSource}),E(b),{success:!0}}catch(de){const pe=un(de),Ae=`rcg-${pe}`;switch(N.error("Error at action retrieveCompletedGame - ",pe,de),pe){case"user.ACCESS_NOT_ALLOWED":d.handlePreGameErrorMessages({errorName:"game.notAllowedToContinue|confirm",handlePreGameErrorAs:"dialog",errorCode:Ae});break;case"quiz.NOT_FOUND":d.handlePreGameErrorMessages({errorName:"quiz.notFound|confirm",handlePreGameErrorAs:"dialog"});break;case"user.NOT_ALLOWED":d.handlePreGameErrorMessages({errorName:"quiz.notFound|confirm",handlePreGameErrorAs:"dialog",errorCode:Ae});break;case"user.VALIDATION":d.handlePreGameErrorMessages({errorName:"game.cannotStartGameOnPrivateQuiz|confirm",handlePreGameErrorAs:"dialog"});break;default:d.handlePreGameErrorMessages({errorName:"misc.errorAndTryAgain|confirm",handlePreGameErrorAs:"dialog",errorCode:Ae});break}return{success:!1}}}async function oe({quizId:S,updatePreGameInfo:G=!0,shouldUseGameApi:K=!1}){var ne;if(N.invariant(!!S,"Cannot fetch attempts for empty quizId"),!S)return{success:!1};try{const{response:ue}=await I_(S,o.value.quizVersionId,K);if((ne=ue==null?void 0:ue.data)!=null&&ne.bookmarkedFlashcards&&Sr().setBookmarkedFlashcardIds(ue.data.bookmarkedFlashcards),A(ue)||A(ue.data)||typeof ue.data=="string")return;const de=sE({completedGames:[{quizInfo:ue.data.quizInfo}]},ue.data),pe=oE(de.updatedCompletedGames[0].gamesAttempted);if(G){const{didLatestGameHaveLimitedAttempts:Ae}=de;E({currentAttempts:pe,currentGameData:{...a.value,didLatestGameHaveLimitedAttempts:Ae}})}return{success:!1,attemptedGames:pe}}catch(ue){return N.error("error at action retrieveSoloGameAttempts",ue),{success:!1,error:ue}}}async function ye({roomHash:S,playerId:G,gameType:K,gameMode:ne,gameState:ue,isLoggedIn:de}){try{$e.logEvent(as.KICKED_OUT_ISSUE,{source:"discardAttempt",roomHash:S,pId:G,gd:`${K}-${ne}-${ue}`}),await kv({roomHash:S,playerId:G,endedAt:Date.now(),shouldDiscard:!0});const pe={currentAttempts:i.value,currentGameData:a.value},Ae=iE({roomHash:S,playerId:G},pe);E({currentAttempts:Ae})}catch(pe){switch(un(pe)){case"player.ALREADY_OVER":de||_.clearIncompleteGame();break}N.error("Error at action discardAttempt",pe)}}async function F(){if(!(s.value.length>0))try{const{response:S}=await wm();A(S)||L({memesets:S})}catch(S){N.error("Error at action fetchFeaturedMemesets",S)}}function U(){const S=()=>{f.requestToChangePage({to:P.get(P.List.LANDING.HOME)}),g.toggleDialog()};g.toggleDialog({name:"flashcard.cannotStart|confirm",actionCallback:S})}function H(S){Aa().$patch(S)}return{source:e,soloLinkReferrer:t,featuredMemesets:s,screenOpenSource:n,currentGameData:a,currentQuizData:o,currentAttempts:i,contestId:r,embedMode:c,areAllAttemptsDoneInTestMode:q,isUserAllowedToReattemptQuiz:D,isContestMode:ee,setState:H,retrieveRunningGame:ie,retrieveCompletedGame:M,retrieveSoloGameAttempts:oe,discardAttempt:ye,fetchFeaturedMemesets:F,handleUnableToStartFlashcards:U,updatePreGameCompositeBreakdown:R,clearPreGameQuizInfo:h,setPreGameInfo:E,setPreGameOptions:k}});function SS(e=[],t=""){const s=Jt(e,(n={})=>{const a=C(n,"tags.occupation",["none"]);return Yt(a,t)});return s.length===0?{}:s[s.length-1]}const cr=Pt("profile",()=>{const e=ln(),t=es(),s=p(""),n=p(""),a=p(""),o=p(""),i=p(""),r=p(""),c=p([]),u=p(""),l=p([]),d=p([]),m=p(""),_=p(""),f=p(-1),g=p(!1),v=p(""),R=p([]),E=p({}),h=p(null),k=p({}),L=p(""),q=p(""),D=p({}),ee=p(""),ie=p(""),M=p(""),oe=p(""),ye=p({}),F=p({}),U=p({gcl:{},edmodo:{},canvas:{},schoology:{}}),H=p(!1),S=p({isValidatingEmail:!1,isValidatedEmail:!1,error:""}),G=p({isValidatingPhoneNumber:!1,isValidatedPhoneNumber:!1,error:""}),K=p(!0),ne=p({isAuthenticatingUser:!1,isAuthenticatedUser:!1,error:""}),ue=p([]),de=p(!1),pe=T(()=>_.value.includes("corporate")),Ae=T(()=>{if(!H.value||pe.value)return!1;const _e=SS(ue.value,_.value);return!A(_e)}),ge=T(()=>t.requestCountry==="AU"),Te=T(()=>{const _e=Aa(),Oe=mt(),{gameMode:je}=Oe,{currentQuizData:lt}=_e;if(Go({gameMode:je})||lt.quizType===zo.PRESENTATION)return[rt.CLASSIC];const st=[];return ot(rt,ut=>{im(ut)&&(!RE(ut)||H.value)&&st.push(ut)}),st}),b=T(()=>{const _e=mt();return hs().isValidRoom===!0||!A(_e.roomHash)});function te(_e){const{user:Oe={},updatedGroupIds:je}=_e;R.value=je,n.value=Oe.firstName||n.value,a.value=Oe.lastName||a.value,o.value=Oe.name||o.value,v.value=Oe.parentEmail||v.value}function Y(_e){const Oe=U.value[_e];return!A(Oe)}function ce(_e){H.value=_e.userProfile.isLoggedIn}function we(_e){var ts;const{isUnderAge:Oe,selectedAvatar:je,totalStats:lt}=_e.userData,gt={isUnderAge:!!Oe,selectedAvatar:je>=0?je:-1,totalStats:lt||{},isLoggedIn:!0},st=cr(),Rt={...st.$state,..._e.userData,...gt};st.$patch(Rt),$e.setProfileState(Rt.isLoggedIn,Rt.mongoId,Rt.occupation,(ts=Rt.subscriptions)==null?void 0:ts[0])}async function Se(){var st,ut;const _e=ps(),Oe=kd();let je={},lt={};if(!Oe)lt=Yh({rootReducer:_e,appSettings:e});else try{const{response:Rt}=await vE();Rt&&((st=Rt.data)!=null&&st.user)&&(je=(ut=Rt.data)==null?void 0:ut.user,lt=Kh(je))}catch(Rt){N.log("Error while fetching user data in loadUser",Rt)}lt.shouldSignOutFirst&&Me();const gt=[];if(A(lt.userData)){await Promise.all([...gt,Xa().getUserAvatar()]);return}lt.shouldSetAppLanguage&&gt.push(e.setCurrentLanguage(lt.userData.language)),we(lt),lt.shouldSaveUserAvatar&&Ze({selectedAvatar:lt.userData.selectedAvatar}),gt.push(t.connectSocketForNotification()),await Promise.all([...gt,Xa().getUserAvatar()])}async function Re(){if(H.value&&A(k.value))try{const _e=await yE(),Oe=C(_e,"response.data",{});k.value=Oe}catch(_e){N.error("Error at action loadUser",_e)}}function Qe(){const _e=Dt(),Oe=mt(),je=hs(),lt=to(),gt=Sl();Ye(),_e.resetGame(),lt.$reset(),gt.$reset(),_e.clearIncompleteGame(),je.isValidRoom&&Oe.isClassroomGame&&t.handleExitGame({redirectTo:{name:P.get(P.List.LANDING.HOME)}})}function ct({windowAction:_e}){Qe(),setTimeout(()=>{switch(_e){case"redirect":window.location.href=`/auth/logout?q=${Ma.getAppBaseUrl()}`;break;case"reload":default:window.location.reload();break}},300)}function _t(){window.location.href="/delete-account"}async function yt({itemsBeingUpdated:_e=[]}={}){const Oe=$h(_e),je=Ne(),lt=Dt();try{const{response:gt}=await Rl(Oe.requestData),st=Wh(je,b.value,gt,Oe.propsBeingUpdated);return st.status!=="success"?void 0:(i.value=st.updatedProps.userName,n.value=st.updatedProps.firstName,a.value=st.updatedProps.lastName,r.value=st.updatedProps.photoUrl||r.value,l.value=st.updatedProps.gradeList,d.value=st.updatedProps.favSubjects,m.value=st.updatedProps.language,f.value=st.updatedProps.selectedAvatar>=0?st.updatedProps.selectedAvatar:fe().selectedAvatar,o.value=st.updatedProps.name,st.shouldUpdatePlayerId&&lt.updatePlayerName(st.playerIdUpdateMutationPayload),st)}catch(gt){return N.error("Error at action updateUserProfileInfo",gt),{updatedProps:{},status:"failed",message:X("An error has occurred, please try again.")}}}async function pt(){var _e,Oe;try{const je={deviceType:(Oe=(_e=window==null?void 0:window.navigator)==null?void 0:_e.userAgentData)!=null&&Oe.mobile?"mobile":"desktop",OS:Zg().browser,medium:"join-modal",ctaSource:"covert-to-teacher-join"};await Rl({occupation:"teacher",isTeacherOnJoin:!1,platformSource:je}),$e.logEvent(as.TEACHER_ONBOARDING_MODAL_CONVERTED)}catch(je){return $e.logEvent(as.TEACHER_ONBOARDING_MODAL_FAILED),N.error("Error at action convertUserToTeacher",je),{updatedProps:{},status:"failed",message:X("An error has occurred, please try again.")}}}async function Ze({selectedAvatar:_e=""}){try{f.value=+_e,await mE(_e)}catch(Oe){N.error("Error at action saveAvatar",Oe)}}async function ht({newPassword:_e="",oldPassword:Oe=""}){let je={};const lt=ps();try{const st={newPassword:_e};Oe&&(st.oldPassword=Oe);const{response:ut}=await pE(st);je=Tl("success",ut)}catch(st){N.error("Error at action changePasswordForUser",st),je=Tl("failed",st)}if(!je.changeSuccessful){const st=X("There was an error in updating password. Please try again!");return lt.toggleSnackBar({isVisible:!0,options:{message:st}}),je}const gt=X("Password updated successfully!");return lt.toggleModal(),lt.toggleSnackBar({isVisible:!0,options:{message:gt}}),je}async function Lt({email:_e}){var lt;S.value={isValidatingEmail:!0,isValidatedEmail:!1,error:""};let Oe=!1,je="";try{const{response:gt}=await fE(_e);if((lt=gt==null?void 0:gt.data)!=null&&lt.isCorporateSSOLinked){window.location.href="/signup/sso?error=useSSO";return}gt.data.avail===!0?Oe=!0:je=X("Account already exists, please login")}catch(gt){un(gt)==="user.VALIDATION"&&(je=X("Please enter a valid email"))}S.value={isValidatingEmail:!1,isValidatedEmail:Oe,error:je}}async function Gt({phoneNumber:_e}){G.value={isValidatingPhoneNumber:!0,isValidatedPhoneNumber:!1,error:""};let Oe=!1,je="";try{const{response:lt}=await hE(_e);lt.data.avail===!0?Oe=!0:je=X("Account already exists, please login")}catch{je=X("Please enter a valid phone number"),$e.logEvent(as.INVALID_PHONENUMBER,{phoneNumber:oe})}G.value={isValidatingPhoneNumber:!1,isValidatedPhoneNumber:Oe,error:je}}function It(_e){ne.value={...ne.value,..._e}}async function jt({username:_e="",password:Oe="",shouldAppendRoomCodeToQueryParam:je=!1,redirectToUrl:lt=""}={}){var st;ne.value={isAuthenticatingUser:!0,isAuthenticatedUser:!1,error:""};const gt=mt();try{const{response:ut}=await EE(_e,Oe);if((st=ut==null?void 0:ut.data)!=null&&st.isCorporateSSOLinked){window.location.href="/signup/sso?error=useSSO";return}const Rt=Jh(gt.roomCode,ut,je,lt);Rt.redirectToHREF&&setTimeout(()=>{window.location.href=decodeURIComponent(Rt.redirectToHREF)},500),Rt.shouldReload&&setTimeout(()=>{window.location.reload()},500),It({...Rt.mutationPayload})}catch(ut){const{errorText:Rt}=bt(ut);It({isAuthenticatedUser:!1,error:Rt})}finally{It({isAuthenticatingUser:!1})}}function bt(_e){N.error("Error at action onAuthentication",_e);const Oe=un(_e);let je="";switch(Oe){case"user.NO_AUTH":je=X("Invalid password");break;case"user.NOT_FOUND":je=X("User not found");break;default:je=C(_e,"response.message","User not found")}return{errorText:je}}async function w({usernameToBe:_e}){if(i.value===_e)return{status:Ha.FAILED,message:X("The username provided is same as your current.")};try{const{response:Oe}=await _E(_e);return Oe.data.avail?await yt({itemsBeingUpdated:[{prop:"userName",data:_e}]}):{status:Ha.FAILED,message:C(Oe,"data.err",X("An Error has occurred, please try again."))}}catch(Oe){return N.error("Error at action ifCanThenUpdateUsername",Oe),{status:Ha.FAILED,message:C(Oe,"response.message",X("An Error has occurred, please try again."))}}}async function $({firstName:_e,lastName:Oe}){if(n.value===_e&&a.value===Oe)return{status:Ha.FAILED,message:X("The name provided is same as your current.")};try{return await yt({itemsBeingUpdated:[{prop:"firstName",data:_e},{prop:"lastName",data:Oe}]})}catch(je){return N.error("Error at action ifCanThenUpdateName",je),{status:Ha.FAILED,message:X("An error has occurred, please try again.")}}}async function W(){try{await AE()}catch(_e){N.error("Error at action refreshAuthToken",_e),window.location.reload()}}function fe(){return{email:"",firstName:"",lastName:"",name:"",userName:"",photoUrl:"",courses:[],mongoId:"",gradeList:[],favSubjects:[],language:"",occupation:"",selectedAvatar:-1,isUnderAge:!1,parentEmail:"",groupIds:[],totalStats:{},dob:null,groupsData:{},country:"",createdAt:"",currentPlanStatus:{},organization:"",paidOrganization:"",organizationRole:"",phoneNumber:"",google:{},microsoft:{},lmsInfo:{gcl:{},edmodo:{},canvas:{},schoology:{}},isLoggedIn:!1,emailValidationStatus:{isValidatingEmail:!1,isValidatedEmail:!1,error:""},phoneNumberValidationStatus:{isValidatingEmail:!1,isValidatedEmail:!1,error:""},hasPassword:!0,isAuthenticated:{isAuthenticatingUser:!1,isAuthenticatedUser:!1,error:""},subscriptions:[],isTeacherOnJoin:!1}}function Ne(){return cr().$state}function Ye(){cr().$patch({...fe()}),$e.setProfileState(!1,"","")}function Me(){const _e=Dt(),Oe=to(),je=Sl();Ye(),_e.userSignedOut(),Oe.$reset(),je.$reset()}return{email:s,firstName:n,lastName:a,name:o,userName:i,photoUrl:r,courses:c,mongoId:u,gradeList:l,favSubjects:d,language:m,occupation:_,selectedAvatar:f,isUnderAge:g,parentEmail:v,groupIds:R,totalStats:E,dob:h,groupsData:k,country:L,createdAt:q,currentPlanStatus:D,organization:ee,paidOrganization:ie,organizationRole:M,phoneNumber:oe,google:ye,microsoft:F,lmsInfo:U,isLoggedIn:H,emailValidationStatus:S,phoneNumberValidationStatus:G,hasPassword:K,isAuthenticated:ne,subscriptions:ue,isTeacherOnJoin:de,isCorporateUser:pe,isSuperUser:Ae,themesAllowedToUser:Te,isUserFromAustralia:ge,loadPreviousContext:ce,hasUserIntegratedLMS:Y,handleAuthTokenRefresh:W,ifCanThenUpdateName:$,ifCanThenUpdateUsername:w,handleOnAuthenticationErrors:bt,onAuthentication:jt,onPhoneNumberValidation:Gt,onEmailValidation:Lt,changePasswordForUser:ht,saveAvatar:Ze,convertUserToTeacher:pt,updateUserProfileInfo:yt,logoutUser:ct,deleteUser:_t,logoutCurrentUser:Qe,loadUser:Se,groupInfoResponded:te,loadGroups:Re,$reset:Ye,getState:Ne}}),rs=cr;function RS(e){return e<=5||(e-5)%10===0}function $l(e,t=-1){return e<=1?!0:t>=0&&RS(t)?e<=2:!1}const tr={AlwayShowGestures:!1,RegdUser:{showForNthGame:()=>!0,showForNthQuestion:$l},UnRegdUser:{showForNthGame:()=>!0,showForNthQuestion:e=>$l(e,0)},CanShowEducatorsFor:{OPTIONS_KEYBOARD:!0,POST_ANSWER_KEYBOARD:!1,POST_ANSWER_MOUSE:!0,POST_ANSWER_TOUCH:!1,POST_ANSWER_PAUSE_INDICATOR:!0,POST_ANSWER_UNPAUSE_INDICATOR:!0,SHOW_PAUSE_INDICATOR_WHEN_GESTURE_HIDDEN:!1,SHOW_UNPAUSE_INDICATOR_WHEN_GESTURE_HIDDEN:!0}};class CS{canShowEducatorsForCurrentGame(t=!0){const s=rs(),n=to();return s.isLoggedIn&&n.totalRunningGames>=0&&n.totalCompletedGames>=0?tr.RegdUser.showForNthGame():tr.UnRegdUser.showForNthGame()}canShowEducatorsForCurrentQuestion(t){const s=rs(),n=to();if(!s.isLoggedIn)return tr.UnRegdUser.showForNthQuestion(t);const a=n.totalRunningGames+n.totalCompletedGames;return tr.RegdUser.showForNthQuestion(t,a)}}const Wl=new CS,pc={isDragging:!1,selectedOptionId:"",focusedBlankId:"",usedOptionIds:new Set,optionBlankMapping:{},isDragAndDropKeyboardInteractionActive:!1,shuffledOptions:[],blankDropzoneRefs:[]},wS={currentLevel:"",isPathFinder:!1,selectedPathFinderType:""},OS=10*1e3,kS=Pt("gameFlow",()=>{const e=Ht(),t=mt(),s=p(!1),n=p(!1),a=p({list:[],totalPlayers:0,forQues:{id:"",attemptIndex:-1}}),o=p({list:[],totalTeams:0,forQues:{id:"",attemptIndex:-1}}),i=p([]),r=p({setId:Ai,list:Li(),nextPossible:{},createdBy:"",isFromFeaturedList:!0}),c=p([]),u=p({matchAndReorder:!1,dragAndDrop:!1,hotspot:!1,classification:!1,graphing:{points:!1,dragging:!1}}),l=p({forGame:!1,forQuestion:!1}),d=p({...As(pc)}),m=p({shuffledOptions:[]}),_=p(!1),f=p([]),g=p({isGlitching:!1,isEffectGlowOn:!1}),v=p(!1),R=p({}),E=p(""),h=p({forQuestion:{id:"",attempt:-1},events:[]}),k=p({host:{isVisible:!1},player:{isVisible:!1,canDraw:!1},isAnnotationsEnabled:!1}),L=p({disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1,gameSoundSpeed:1}),q=p({enabled:!0,inProgress:!1}),D=p(0),ee=p(!1),ie=p(!1),M=p(0),oe=p(null),ye=p(""),F=p(),U=p([]),H=p(""),S=p(""),G=p([]),K=p([]),ne=p(-1),ue=p(wS),de=p(!1),pe=p(null),Ae=p(!1),ge=p(["64301eef9a5549001d54ca16"]),Te=p([]),b=T(()=>!1),te=T(()=>{const j=mt();return n.value===!0||!A(j.roomHash)}),Y=T(()=>K.value.length>0?K.value:t.mysticPeakLevelMap);function ce(j){let Ge=Ai;const kt=j.room.options.memeset||j.room.memeSet;return kt&&(Ge=kt),Ge}function we(j,Ge){if(!A(Ge)){if(Array.isArray(Ge))return[...Ge];if(typeof Ge=="string")return Ge.split("|")}return j}function Se(j){c.value[0]==="gameCode"&&c.value[1]==="pseudoLms"||(c.value=we(c.value,j.startSource))}function Re(j,Ge=!0){return{...l.value,forQuestion:Wl.canShowEducatorsForCurrentQuestion(j),forGame:Wl.canShowEducatorsForCurrentGame(Ge)}}function Qe(j){if(en(j.room.canvas)){const Ge=j.room.canvas.host===!0,kt=j.room.canvas.annotations===!0;k.value={host:{...k.value.host,isVisible:Ge},player:{...k.value.player,isVisible:Ge,canDraw:!kt&&j.room.canvas.player===!0},isAnnotationsEnabled:kt}}}const ct=T(()=>{const{currentId:j,currentQuestionCurrentAttemptIndex:Ge,doneOrderForEvaluatedQuestions:kt,remainingOrder:js}=e,nn={id:j,attemptIndex:Ge},gn=a.value.forQues,yn=[kt,js,j],Mn=ml(...yn,nn),Gn=ml(...yn,gn);return Mn<Gn}),_t=T(()=>A(e.currentQuestion)||A(e.currentQuestion.metadata)?!1:e.currentQuestion.metadata.isTimerPaused),yt=T(()=>!u.value.matchAndReorder),pt=T(()=>!u.value.dragAndDrop),Ze=T(()=>!u.value.hotspot),ht=T(()=>!u.value.classification),Lt=T(()=>!u.value.graphing.points),Gt=T(()=>!u.value.graphing.dragging),It=T(()=>{if(!A(E.value))return{shouldRedirect:!0,to:E.value};let j;const kt=rs().occupation;typeof c.value=="string"&&(j=Fe.matches(c.value,Fe.get(Fe.List.FROM_ADMIN),1));const js=!A(kt)&&kt!==Ja.STUDENT&&j;return{shouldRedirect:js,to:js?Ma.getAdminHomeUrl():""}}),jt=T(()=>{if(!(e.isInComprehensionView&&h.value.forQuestion.id===e.comprehensionQuestionId)&&(h.value.forQuestion.id!==e.currentQuestion.id||h.value.forQuestion.attempt!==e.currentQuestionCurrentAttemptIndex))return!1;const j=xt(h.value.events,{type:Vn.START});return!A(j)}),bt=T(()=>{if(!jt.value)return!1;const j=gr(h.value.events)||{type:""};return!A(j)&&j.type===Vn.PAUSE}),w=T(()=>{if(!jt.value)return!1;const j=xt(h.value.events,{type:Vn.FREEZE});return!A(j)}),$=T(()=>{if(!jt.value)return new Date;const j=h.value.events[0];return j?j==null?void 0:j.on:new Date}),W=T(()=>{if(!jt.value||!t.isQuestionTimerOn)return C(e,"currentQuestion.time",-1);const j=1e3,Ge=Math.ceil(e.list[h.value.forQuestion.id].time/j);let kt=null,js=null,nn=!1,gn=!1;if(!t.isQuestionTimerOn||!A(kt))return Ge;const yn=h.value.events[0],Mn=yn.for/j,Gn=new Date;let ea=0,fn=1;for(;fn<h.value.events.length;){const vt=h.value.events[fn];if(vt.type===Vn.RESET&&(gn=!0,kt=h.value.events[fn]),vt.type===Vn.FREEZE&&(nn=!0,js=h.value.events[fn]),!nn&&vt.type===Vn.PAUSE){const ws=Os(h.value.events,{type:Vn.RESTART},fn+1);if(ws>=0){const Us=h.value.events[ws];ea+=Us.on-vt.on,fn=ws}else bt.value&&(ea+=Date.now()-vt.on)}fn+=1}const Ta=gn?kt.on:yn.on,co=(nn?js.on:Gn)-Ta-ea,z=co>0?co/j:0,Ve=Mn-Math.floor(z),Ct=es();return Ve>=0&&!bt.value&&(!e.hasCurrentQuestionBeenAnswered||e.isInComprehensionView)&&Ct.ticker.count,Math.ceil(Math.max(Ve,0))}),fe=T(()=>t.gameMode===re.MYSTIC_PEAK),Ne=T(()=>{const j=Dt(),{mysticPeakLevelMap:Ge}=t;return j.totalCorrect>=Ge[Ge.length-1]});function Ye(){n.value=!1,a.value={list:[],totalPlayers:0,forQues:{id:"",attemptIndex:-1}},o.value={list:[],totalTeams:0,forQues:{id:"",attemptIndex:-1}},i.value=[],r.value={setId:Ai,list:Li(),nextPossible:{},createdBy:"",isFromFeaturedList:!0},c.value=[],u.value={matchAndReorder:!1,dragAndDrop:!1,hotspot:!1,classification:!1,graphing:{points:!1,dragging:!1}},l.value={forGame:!1,forQuestion:!1},d.value={...As(pc)},m.value={shuffledOptions:[]},_.value=!1,f.value=[],g.value={isGlitching:!1,isEffectGlowOn:!1},v.value=!1,R.value={},E.value="",h.value={forQuestion:{id:"",attempt:-1},events:[]},k.value={host:{isVisible:!1},player:{isVisible:!1,canDraw:!0},isAnnotationsEnabled:!1},L.value={disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1,gameSoundSpeed:1},q.value={enabled:!0,inProgress:!1},D.value=0,oe.value=null,ye.value="",F.value=null,U.value=[],H.value="",S.value="",G.value=[],K.value=[],ue.value={currentLevel:"",isPathFinder:!1,selectedPathFinderType:""},de.value=!1,pe.value=null,ne.value=-1,Ae.value=!1,ge.value=["64301eef9a5549001d54ca16"],Te.value=[],s.value=!1,ie.value=!1,ee.value=!1,M.value=0}function Me(){Ye()}function _e(){Ye()}function Oe(j){const Ge=C(j,"game.questionTimer",{});A(Ge)||(h.value={forQuestion:Ge.forQuestion,events:wt(Ge.events,kt=>({...kt,on:new Date(kt.on)}))})}const je=Se,lt=Se;function gt(){n.value=!0}const st=Se;function ut(){n.value=!0}const Rt=Se;function ts(j){n.value=!0,r.value.setId=ce(j),r.value.nextPossible=ec(),l.value=Re(0)}function ls(j){const{challengeLeaderboardNewPlayer:Ge}=j;Ge&&(i.value=[...i.value,Ge])}function ks(j){const{challengeLiveLeaderboard:Ge}=j;Ge&&(i.value=[...i.value,Ge])}const Ps=Se;function Gs(j){const{generatedPlayers:Ge}=j;n.value=!0,r.value.setId=ce(j),r.value.nextPossible=ec(),l.value=Re(0),a.value={...a.value,list:[...Ge],totalPlayers:Ge.length,forQues:{id:"",attemptIndex:0}}}const bs=Se;function ve(j){const{generatedPlayers:Ge,player:kt}=j;A(Ge)||(a.value={...a.value,list:[...Ge],totalPlayers:Ge.length,forQues:{id:kt.remainingQuestionsOrder[0],attemptIndex:0}}),n.value=!0,r.value.setId=ce(j),r.value.nextPossible=ec(),l.value=Re(kt.doneOrder.length,!1),Qe(j)}function dt(j){a.value={list:[...(j==null?void 0:j.leaderboard)||[]],totalPlayers:j.totalPlayers,forQues:j.forQues},o.value={list:[...j.teamLeaderboard],totalTeams:j.totalTeams,forQues:j.forQues},oe.value=j.breakRoomArr||[],U.value=j.mysticPeakLevelBoard||[],G.value=j.mysticPeakLeaderboard||G.value||[],pe.value=j.mysticPeakTieredRank||null,K.value=j.mysticPeakLevelArray||[],j.mysticPeakLevel!==-1&&(ne.value=j.mysticPeakLevel||0),t.isQuizForCoins&&e.currentQuestionCurrentAttemptResponse.isCorrect&&(M.value=M.value+pf)}function it(j){pe.value=j||null}function St({isPathFinder:j,selectedPathFinderType:Ge}){ue.value.isPathFinder=j,ue.value.selectedPathFinderType=Ge}function Q(j){const{memeSet:Ge,createdBy:kt,responses:js,questionsCount:nn,isFromFeaturedList:gn}=j;r.value.list=Ge,r.value.createdBy=kt,r.value.nextPossible=Fd(js,Ge,nn),r.value.isFromFeaturedList=gn}function et(j){r.value.nextPossible=j.next}function zt(j){_.value=j.hasSeenSummaryAtleastOnce}function qt(){_.value=!0}function Vt(j){const{currentOptionsAppearance:Ge}=j;f.value=Array.isArray(Ge)?Ge:f.value,l.value=Re(j.doneOrder.length)}function ss(j){f.value=Array.isArray(j.currentOptionsAppearance)?j.currentOptionsAppearance:f.value}function Kt({currentOptionsAppearance:j=[]}){f.value=Array.isArray(j)?j:f.value}function Cs(){n.value=!0}function Hs(j){const{leaderboard:Ge}=j;Ge&&(i.value=Ge)}function y(j){R.value=j.appSettingsToRevert}function O(j){E.value=j.redirectOnGameExit||E.value}function x(j){A(j.forQuestion)||(h.value.forQuestion=j.forQuestion),A(j.events)||(h.value.events=j.events)}function ae(j){const Ge=j.host||{},kt=j.player||{};k.value={host:{...k.value.host,...Ge},player:{...k.value.player,...kt},isAnnotationsEnabled:j.isAnnotationsEnabled===!0}}function B(j){q.value.inProgress=j.inProgress}function me(j){oe.value&&oe.value.length&&(oe.value[j.powerupIndex].visible=!0)}function J(j){ye.value=j.breakoutRoomType,F.value=j.powerupIndex,S.value=j.powerupName,H.value=j.type,oe.value=j.breakRoomArr}function De(j){ue.value.selectedPathFinderType=j,j&&(ue.value.isPathFinder=!0)}function He({reached:j}){de.value=j}function le({count:j}){D.value=j}function he({hasReachedMasteryAtLeastOnce:j}){Ae.value=j}function Pe({mysticPeakBoard:j}){G.value=[...j]}function We({nameList:j}){j.length&&j.forEach(Ge=>{Te.value.push(Ge)})}function at(){Te.value=[]}function ds(){v.value=!0}function $t({optionIndex:j,appearanceChanges:Ge}){const kt=As(f.value);kt[j]={...kt[j],...Ge},Kt({currentOptionsAppearance:kt})}function Ns(j){const Ge=As(g.value);Ge[j.name]=j.value,g.value=Ge}function Ot(j){const Ge={...As(d.value),...j};d.value=Ge}function os(j){const Ge={...As(m.value),...j};m.value=Ge}function gs(){d.value=As(pc)}function Qt(){u.value.matchAndReorder=!0}function Wt(){u.value.dragAndDrop=!0}function Ds(){u.value.hotspot=!0}function Xs(){u.value.classification=!0}function cs(){u.value.graphing.points=!0}function ns(){u.value.graphing.dragging=!0}function ms(j){const Ge={...L.value,...j};L.value=Ge}function pn({questionId:j,attempt:Ge,startTime:kt=new Date}){const js=Dt(),nn=Ga();if(h.value.forQuestion.id===j&&h.value.forQuestion.attempt===Ge)return;const yn=e.list[j];N.invariant(!A(yn),`startTimerForQuestion: cannot find question for questionId - ${j}`);const Mn=yn.time;let Gn=Mn;if(e.isAnswerLaterQuestion){const ea=e.questionResponses[e.currentQuestion.id],fn=jc(ea,"timeTaken"),Ta=Mn-fn;Gn=[Ut.Timer.STRICT,Ut.Timer.CLASSIC].includes(t.gameOptions.timer)?Math.max(Ta,OS):0}x({forQuestion:{id:j,attempt:Ge},events:[{type:Vn.START,on:kt,for:Gn}]}),js.updateIncompleteGame(h.value,e.currentId,e.orderedOriginalResponses),nn.saveCurrentContext()}function kn({eventType:j,questionId:Ge,attempt:kt,on:js=new Date}){const nn=Dt(),gn=Ga();h.value.forQuestion.id!==Ge||h.value.forQuestion.attempt!==kt||(x({events:[...h.value.events,{type:j,on:js,for:null}]}),nn.updateIncompleteGame(h.value,e.currentId,e.orderedOriginalResponses),gn.saveCurrentContext())}function qs(j){const Ge=Math.floor(j/6e4),kt=Ge>1?"minutes":"minute";_.value||bo.add({type:En.ALERT,icon:"icon-fas-alarm-clock",title:X("Yay! Your teacher added {$1} {$2} to the timer.",[Ge.toString(),kt])})}function Tn(j){a.value=j}function ei(){s.value=!s.value}function ti(j){ie.value=j}function si(j){ee.value=j}function ni(j){M.value=j}return{isValidRoom:n,leaderboard:a,teamLeaderboard:o,challengeLiveLeaderboard:i,meme:r,startSource:c,isPlayerEducated:u,showGestureEducators:l,dragAndDropUpdates:d,classification:m,hasSeenSummaryAtleastOnce:_,currentOptionsAppearance:f,gameAppearance:g,nicknameDuplicateError:v,appSettingsToRevertAtGameEnd:R,redirectOnGameExit:E,questionTimer:h,liveWhiteboardState:k,powerupGameFlow:L,answerLaterFlow:q,redemptionCurrentQuestionNumber:D,breakRoomArr:oe,breakoutRoomType:ye,selectedPowerupIndex:F,mysticPeakLevelBoard:U,breakRoomItemType:H,mysticPeakLevelArray:Y,mysticPeakLevel:ne,selectedPowerupName:S,mysticPeakLeaderboard:G,mysticPeak:ue,hasReachedMasteryInMysticPeakAtleastOnce:de,mysticPeakTieredRank:pe,hasReachedMasteryAtLeastOnce:Ae,rejoinCallNetworkErrorredOutGames:ge,actionErrorTrace:Te,isQuestionVideoPlaying:ie,isQuestionAudioPlaying:ee,coinsEarnedWithPractice:M,isLeaderboardStale:ct,isMysticPeak:fe,hasReachedMasteryForMysticPeak:Ne,currentQuestionTimeLeftInSeconds:W,currentQuestionStartTime:$,didCurrentQuestionTimerStart:jt,isQuestionTimerFreezed:w,isTimerPaused:bt,gameExitRedirectionDetails:It,isCurrentSlidePausedByHost:_t,shouldShowPlayerEducationForMatchAndReorder:yt,shouldShowPlayerEducationForHotspot:Ze,shouldShowPlayerEducationForClassification:ht,shouldShowPlayerEducationForDragAndDrop:pt,shouldShowPlayerEducationForGraphingPoints:Lt,shouldShowPlayerEducationForGraphingDragging:Gt,canShowMysteryBoxWaiting:b,isPlayerInGame:te,showAvatarCustomizationFeedback:s,setGameStartSource:je,startSourceHandler:Se,setChallengeLiveLeaderboard:Hs,setActionErrorTrace:We,reachedSummaryForTheFirstTimeInGame:qt,resetGame:_e,$reset:Ye,exitGame:Me,showTestTimeAddedAlert:qs,pushTimerEventForQuestion:kn,startTimerForQuestion:pn,showingAnswerLaterQuestions:B,showPowerupOnBreakroom:me,updateBreakRoomType:J,updateQuestionTimer:x,setNextPossibleMeme:et,hasReachedMasteryOnce:he,setCurrentQuestion:Vt,setLiveWhiteboardState:ae,joinSoloGameInProgress:Ps,updateWaitingMysticLeaderboard:Pe,checkRoomInProgress:lt,newPlayerJoined:ls,playerDeleted:ks,changeCurrentOptionsAppearance:Kt,changeOptionAppearance:$t,changeGameAppearance:Ns,changeDragAndDropUpdates:Ot,updateClassificationState:os,changeDragAndDropUpdatesReset:gs,hidePlayerEducationForClassification:Xs,hidePlayerEducationForMatchAndReorder:Qt,hidePlayerEducationForDragAndDrop:Wt,hidePlayerEducationForHotspot:Ds,hidePlayerEducationForGraphingPoints:cs,hidePlayerEducationForGraphingDragging:ns,updatePowerupGameFlow:ms,emptyActionErrorTrace:at,setNicknameDuplicateError:ds,setRedemptionCurrentQuestionNumber:le,updateHasReachedMasteryInMysticPeakAtleastOnce:He,setPathFinderType:De,setInitialGameMetadata:O,setAppSettingToRevertAtGameEnd:y,hostGameResponded:Cs,setCurrentOptionsVisibility:ss,playerJoinedTheGame:zt,setMemeSet:Q,setPathFinderOnRejoin:St,setTieredLeaderboard:it,proceedGameResponded:dt,rejoinGameResponded:ve,rejoinGameInProgress:bs,joinSoloGameResponded:Gs,joinRoomResponded:ts,joinRoomInProgress:Rt,checkAssignmentInProgress:st,checkAssignmentResponded:ut,checkRoomResponded:gt,loadPreviousContext:Oe,updategameFlowLeaderboard:Tn,toggleShowAvatarCustomizationFeedback:ei,onVideoTogglePlayState:ti,onAudioTogglePlayState:si,setCoinsEarnedWithPractice:ni}}),hs=kS,PS=Pt("gameQuestions",()=>{const e=p([]),t=p(!1),s=p({}),n=p([]),a=p([]),o=p([]),i=p(""),r=p([]),c=p({}),u=p({}),l=p(Xt.PARTIAL),d=p(!1),m=p([]),_=p([]),f=p(!1),g=p(new Set),v=p(new Set),R=p({}),E=p([]),h=p({}),k=p([]),L=p({}),q=p(!0);function D(I=[],Z={}){const{gameMode:Ie}=mt(),{isMobileWidth:be}=Qo();return I.reduce((tt,Zt)=>{const is=Z[Zt];return!is||!is.comprehensionQuestionId&&![se.COMPREHENSION_VIDEO,se.COMPREHENSION].includes(is.type)||(is.type===se.COMPREHENSION_VIDEO||is.comprehensionTimestamp>=0?Ie===re.TEACHER_PACED||k.value.includes(is.id)?(tt[Zt]=vn.VISIBLE,is.comprehensionQuestionId&&(tt[is.comprehensionQuestionId]=vn.VISIBLE)):(tt[Zt]=vn.COLLAPSED,is.comprehensionQuestionId&&(tt[is.comprehensionQuestionId]=vn.COLLAPSED)):(tt[Zt]=vn.VISIBLE,is.comprehensionQuestionId&&(tt[is.comprehensionQuestionId]=be.value?vn.COLLAPSED:vn.VISIBLE))),tt},{})}function ee(I){var ya;const Z=I.room.questionIds;if(n.value=Z,a.value=I.player.doneOrder||[],o.value=[...Z],i.value="",l.value=I.room.slidesFlowControlType,r.value=Object.keys(C(I,"player.playerMetadata.skipped",[])),I.room.options.flashcardMode==="study"){const Es=C(I.room,"metadata.qId",null),an=C(I.player,"playerMetadata.qId",null),xn=Es||an;if(xn){i.value=xn;const fo=Os(Z,xr=>xr===xn);a.value=Z.slice(0,fo),o.value=Z.slice(Math.max(fo,0));return}}const be=C(I,"player.answerLaterQuestions",[]);m.value=Z.filter(Es=>be.includes(Es)),_.value=be,f.value=C(I,"player.shouldShowReviewScreen",!1),v.value=I.player&&I.player.correctQuestionAttempts||new Set,g.value=I.player&&I.player.incorrectQuestionAttempts||new Set;const tt=C(I,"player.remainingQuestionsOrder",null);lr(tt)?lr(m)||(o.value=m.value):o.value=tt;const Zt=oa(a.value.concat(_.value));oa(Zt.filter(Es=>{var an;return(an=I.room.questions[Es])==null?void 0:an.comprehensionQuestionId}).map(Es=>{var an;return(an=I.room.questions[Es])==null?void 0:an.comprehensionQuestionId})).filter(Es=>(I.room.questions[Es].comprehensionQuestionIds||[]).every(fo=>Zt.includes(fo))).forEach(Es=>{Tn({comprehensionQuestionId:Es})}),o.value=o.value.filter(Es=>Z.includes(Es)),h.value=D(I.room.questionIds,I.room.questions);const go=(ya=I.player)==null?void 0:ya.doneOrder.reduce((Es,an)=>{const xn=Es;return Es[an]>=0?xn[an]+=1:xn[an]=0,xn},{});R.value=go||{}}function ie(I){if(!A(I)){const Z=I,Ie=Je(Z.attempt)?Z.attempt:0,be=ys(c.value[Z.questionId]);A(be[Ie])?be[Ie]=Z:be[Ie]={...be[Ie],...Z},C(Z,"metadata.extraLifeStatus","")===Wa.UTILISED&&be.forEach(tt=>{A(tt.metadata.extraLifeStatus)||(tt.metadata.extraLifeStatus=Wa.UTILISED)}),c.value[Z.questionId]=be}}function M(I){return!!(c.value[I]||[]).length}function oe(I){return(c.value[I]||[]).find(Ie=>Ie.state!==cn.DRAFT)}function ye(I){const Z=c.value[I]||[],Ie=Z[(Z==null?void 0:Z.length)-1];return A(Ie.result)?Ie.isCorrect:[Pa.PARTIALLY_CORRECT,Pa.CORRECT].includes(Ie.result)}function F(I){const Z=I.filter(be=>be!==i.value);return Z.length?s.value[Z[0]]:void 0}const U=T(()=>n.value.findIndex(Z=>Z===i.value)+1),H=T(()=>{const I=i.value;return I?(N.invariant(I in s.value,`At state module 'game.questions': the current question Id(${i.value}) set does not exist in the questions list`),s.value[I]||{}):{}}),S=T(()=>H.value.comprehensionQuestionId),G=T(()=>h.value[S.value]),K=T(()=>!!S.value),ne=T(()=>k.value.includes(S.value)),ue=T(()=>{const{isMysticPeak:I,answerLaterFlow:Z}=hs(),{gameMode:Ie}=mt();return!Z.inProgress&&Ie!==re.TEACHER_PACED&&Ie!==re.PRESENTATION&&!I&&K.value&&!ne.value}),de=p(0),pe=T(()=>s.value[S.value]),Ae=T(()=>(pe.value||{}).comprehensionQuestionIds||[]),ge=T(()=>n.value.findIndex(Z=>Z===Ae.value[0])+1),Te=T(()=>ge.value+Ae.value.length-1),b=T(()=>Ae.value.map(I=>s.value[I])),te=T(()=>Ae.value.findIndex(I=>I===i.value)),Y=T(()=>Ae.value[te.value+1]),ce=T(()=>Ae.value[te.value-1]),we=T(()=>ue.value&&Ae.value.every(M)),Se=T(()=>Ae.value.filter(I=>!M(I))),Re=T(()=>Ae.value.filter(I=>!oe(I))),Qe=T(()=>Se.value.length),ct=T(()=>{var Z;if(((Z=pe.value)==null?void 0:Z.type)===se.COMPREHENSION_VIDEO){const Ie=Mc(),be=pe.value.comprehensionTimestamps[Math.round(Ie.maxPlayedTime)];return be==null?void 0:be.find(tt=>!M(tt))}return Ae.value.find((Ie,be)=>be>te.value?!M(Ie):!1)||Se.value[0]}),_t=T(()=>L.value[i.value]||{}),yt=T(()=>Ae.value.length),pt=T(()=>Ae.value.filter(M).length),Ze=T(()=>yt.value-(te.value+1)),ht=T(()=>{const I=H.value,Z=!A(C(I,"explain.text","")),Ie=!A(C(I,"explain.media",[]));return!A(I.explain)&&(Z||Ie)}),Lt=T(()=>cu(H.value)),Gt=T(()=>Ks(H.value)),It=T(()=>l.value===Xt.PARTIAL),jt=T(()=>{const I=mt();if(A(H.value))return mn.INACTIVE;if(I.isLessonRunningInStudentPacedMode()||qo({gameType:I.gameType,gameMode:I.gameMode,isMasteryMode:I.isMasteryMode})&&i.value&&g.value.has(i.value))return mn.ACTIVE;const Z=H.value.state,Ie=Object.values(mn),be=Yt(Ie,Z);return It.value?be?Z:mn.ACTIVE:(N.invariant(be,`Getters.currentSlideState: Invalid question state found for question ${i.value}.
      Expected state to be one of [${Ie}] but found '${H.value.state}'`),Z)}),bt=T(()=>c.value[i.value]||[]),w=T(()=>l.value===Xt.FULL),$=T(()=>l.value===Xt.NONE),W=T(()=>{const I=mt(),Z=a.value,Ie=c.value,be=m.value,tt=[...Z];if(qo({gameType:I.gameType,gameMode:I.gameMode,isMasteryMode:I.isMasteryMode}))return tt;const Zt=[],is={};return be.length?(tt.forEach(_n=>{var Es;is[_n]=(is[_n]||0)+1;const go=is[_n]-1,ya=Ie[_n];ya?ya[go]&&!Cn.ANSWER_LATER_RESPONSE_STATES.includes((Es=ya[go])==null?void 0:Es.state)&&Zt.push(_n):r.value.includes(_n)&&Zt.push(_n)}),Zt):tt}),fe=T(()=>{const{answerLaterFlow:I}=hs();if(A(i.value))return-1;if(Lt.value||w.value||$.value||ue.value||I.inProgress)return 0;let Z=0;const Ie=W.value;for(let be=0;be<Ie.length;be++)Ie[be]===i.value&&(Z+=1);return Z}),Ne=T(()=>!A(bt.value)&&fe.value>=0?bt.value[fe.value]||{}:{}),Ye=T(()=>{const I=bt.value.length;return I===1?bt.value[0]||{}:I>1?bt.value[I-1][I-1]?bt.value[I-1][I-1]:bt.value[I-1]:{}}),Me=T(()=>{var I,Z,Ie;return A((I=Ne.value)==null?void 0:I.answer)?{}:((Ie=(Z=Ne.value)==null?void 0:Z.answer)==null?void 0:Ie.find(be=>be.descriptor===cf.Answer))||{}}),_e=T(()=>A(Ne.value.result)?Ne.value.isCorrect:[Pa.PARTIALLY_CORRECT,Pa.CORRECT].includes(Ne.value.result)),Oe=T(()=>A(Ne.value.result)?Ne.value.isCorrect:Ne.value.result===Pa.PARTIALLY_CORRECT),je=T(()=>r.value.includes(i.value)&&!f.value),lt=T(()=>{var I;if(Rh(H.value)){const Z=Y_(H.value.text);return(I=Object.keys(Z))==null?void 0:I.length}return C(H.value,"options.length",-1)}),gt=T(()=>!1),st=T(()=>m.value.includes(i.value)),ut=T(()=>!A(i.value)&&!A(Ne.value)&&!gt.value&&!st.value||je.value),Rt=T(()=>{const Z=Dt().extraLife||[];return xt(Z,be=>be.questionId===i.value)}),ts=T(()=>{var I;return A(Rt.value)?!1:((I=Rt.value)==null?void 0:I.status)===Wa.UTILISED}),ls=T(()=>A(Rt.value)?!1:Rt.value.status===Wa.IN_PROGRESS),ks=T(()=>ls.value?xt(bt.value,I=>I.attempt===0)||{}:{}),Ps=T(()=>{let I=C(Ne.value,"metadata.wrongIndices",[]);return A(I)&&(I=C(ks.value,"metadata.wrongIndices",[])),I}),Gs=T(()=>{let I=C(Ne.value,"metadata.wrongTargetOptions",[]);return A(I)&&(I=C(ks.value,"metadata.wrongTargetOptions",[])),I}),bs=T(()=>Sh(H.value)?Ps.value:Gs.value),ve=T(()=>{var Z,Ie;if(!ut.value||lt.value===-1)return-1;const I=Me.value;return(Z=I.value)!=null&&Z.length&&((Ie=I==null?void 0:I.value[0])!=null&&Ie.targetId)?I.value.reduce((be,{optionId:tt})=>be+tt.length,0)-bs.value.reduce((be,{optionId:tt})=>be+tt.length,0):lt.value-bs.value.length}),dt=T(()=>ts.value?xt(bt.value,I=>I.attempt===1)||{}:{}),it=T(()=>{const I=es();return rn(`proceedGame.${i.value}`,I.callsInProgress).isIt||rn(`proceedSoloGame.${i.value}`,I.callsInProgress).isIt}),St=T(()=>!st.value&&!A(Ne.value)?Ne.value.isEvaluated===!0:!1),Q=p(!1);function et(){Q.value=!0}const zt=T(()=>{const I=mt(),{gameOptions:Z,gameType:Ie,gameMode:be}=I,tt=[Be.ASYNC],Zt=[re.NORMAL];return!!Z.isAnswerExplanationEnabled&&Yt(tt,Ie)&&Yt(Zt,be)}),qt=T(()=>{var be;const{isDesktop:I}=Qo(),Z=dh(H.value),Ie=H.value.options&&H.value.options.some(tt=>fh(tt));return zt.value&&!Z&&!Ie&&!Jd(H.value)&&gf.includes((be=H.value)==null?void 0:be.type)&&I.value}),Vt=T(()=>qt.value&&!_e.value&&St.value&&!Q.value),ss=T(()=>bt.value.length>=1&&ls.value&&!Vt.value),Kt=T(()=>n.value.length),Cs=T(()=>Jt(n.value,I=>s.value[I]&&s.value[I].type!==se.CONTENT_SLIDE&&s.value[I].type!==se.CONTENT_SLIDE_V2)),Hs=T(()=>Cs.value.length),y=T(()=>o.value.length),O=T(()=>W.value.length+(i.value?1:0)),x=T(()=>Kn(W.value,(Z,Ie)=>Yt(Cs.value,Ie)?Z+1:Z,0)+(i.value?1:0)),ae=T(()=>{if(w.value||$.value){const Z=Qs(c.value),Ie=Jt(W.value,tt=>Z.includes(tt)),be=yc(oa(yc(Ie)));return Kn(be,(tt,Zt)=>(Z.includes(Zt)&&tt.push(Zt),tt),[])}const I=[...W.value];return ut.value&&I.push(i.value),I}),B=T(()=>{const I=ae.value,Z=[],Ie={};for(let be=0;be<I.length;be++){const tt=I[be];if(!A(c.value[tt])){Ie[tt]=Je(Ie[tt])?Ie[tt]+1:0;const is=c.value[tt][Ie[tt]];is&&Z.push(is)}}return Z}),me=T(()=>Jt(B.value,I=>I.questionType!==se.CONTENT_SLIDE&&I.questionType!==se.CONTENT_SLIDE_V2)),J=T(()=>Jt(B.value,I=>I.attempt===0&&Ks(I))),De=T(()=>Jt(B.value,{attempt:1})),He=T(()=>wt(J.value,I=>{const{questionId:Z}=I,Ie=c.value[Z];return Ie[Ie.length-1]})),le=T(()=>Jt(He.value,I=>I.isCorrect===!0)),he=T(()=>{const I=mt(),{answerLaterFlow:Z}=hs();if(I.isMasteryMode||I.gameMode===re.MYSTIC_PEAK||ue.value||Z.inProgress||qt.value)return!1;const Ie=gt.value||!A(dt.value);return fe.value>=1&&!Ie&&!f.value}),Pe=T(()=>gt.value||ss.value?Ti.EXTRA_LIFE:he.value?Ti.REDEMPTION:Ti.ORIGINAL),We=T(()=>fe.value===0),at=T(()=>{const I=mt(),{gameType:Z,gameMode:Ie,gameOptions:be}=I,tt=m.value.length;let Zt;be.hasRedemptionPass===Ut.hasRedemptionPass.YES?Zt=Po.noOfRedemptionAttemptsRequiredSoFar(Z,Ie,be,J.value):Zt=Im.noOfRedemptionAttemptsRequiredSoFar(Z,Ie,be,J.value.length,Kt.value,J.value);const is=Hs.value+Zt+tt;return x.value<is}),ds=T(()=>{let I=J.value.length;return We.value&&!ut.value&&(I+=1),I}),$t=T(()=>{const I=o.value;return Bp(I,Z=>s.value[Z]&&s.value[Z].type==="MSQ")}),Ns=T(()=>{const I=o.value;return Oi(I,Z=>s.value[Z]&&s.value[Z].options.length)}),Ot=T(()=>Yn(Ns.value,"2")?Ns.value[2]===o.value:!1),os=T(()=>Qi(H.value)),gs=T(()=>{const I=a.value,Z=m.value;return Z.length>0&&I.length>0&&Z.includes(I[I.length-1])}),Qt=T(()=>_.value.length),Wt=T(()=>o.value.every(Z=>s.value[Z]&&s.value[Z].type===se.BLANK)),Ds=T(()=>g.value.has(i.value)),Xs=T(()=>{var Ie;const I=Dt(),Z=mt();return I.accuracy>=((Ie=Z.gameOptions.masteryMode)==null?void 0:Ie.goal)}),cs=T(()=>!m.value.length&&_.value.length>0);function ns(){s.value={},n.value=[],a.value=[],o.value=[],i.value="",r.value=[],c.value={},u.value={},l.value=Xt.PARTIAL,d.value=!1,m.value=[],_.value=[],f.value=!1,g.value=new Set,v.value=new Set,R.value={},h.value={},k.value=[],L.value={},q.value=!0,E.value=[]}function ms(){ns()}function pn(){ns()}function kn(I){q.value=I.value}function qs(I){h.value={...h.value,[I.key]:I.value}}function Tn(I){k.value=oa([...k.value,I.comprehensionQuestionId])}function ei(I){L.value={...L.value,[I.questionId]:I.attempt}}function ti(){L.value={}}function si(I){s.value=I.questions}function ni(I){t.value=I}function j(){f.value=!0}const Ge=ee,kt=ee;function js(I){const{player:Z}=I;ee(I),c.value=Z.responses,a.value=Z.doneOrder}function nn(I){const{questionId:Z,doneOrder:Ie,remainingOrder:be}=I;i.value=Z,a.value=Ie,o.value=be,d.value=!1,Q.value=!1}function gn(){a.value.push(i.value),i.value=""}function yn(I){const{forQuestionId:Z}=I;Z&&s.value[Z]&&(s.value[Z].imagesPrefetchDone=!0)}function Mn(I){const{forQuestionId:Z}=I;Z&&s.value[Z]&&(s.value[Z].audioPrefetchDone=!0)}function Gn(I){const Z={...c.value},{questionId:Ie}=I.response,be=yo(I.shouldStoreResponseStatus)?I.shouldStoreResponseStatus:!0;if(Z[Ie]=Z[Ie]?Z[Ie]:[],Z[Ie][I.response.attempt]=I.response,c.value=Z,d.value=!1,be){const tt={...u.value};tt[Ie]=tt[Ie]?tt[Ie]:[],tt[Ie][I.response.attempt]=Bs.NOT_SENT,u.value=tt}}function ea(I){const Z={...c.value},{questionId:Ie,attempt:be,score:tt,scoreBreakup:Zt}=I;Z[Ie][be].scoreBreakup=Zt,Z[Ie][be].score=tt,c.value=Z}function fn(I){const{allResponseStatuses:Z}=I;u.value=Z}function Ta(I){const Z={...u.value},{response:Ie}=I,{questionId:be,attempt:tt,requestSucceeded:Zt}=Ie;Z[be]||(Z[be]=[]),Zt?Z[be][tt]=Bs.SENT:Z[be][tt]=Bs.NOT_SENT,u.value=Z}function ai(I){const{allResponseStatuses:Z}=I;u.value=Z,ie(I.updatedResponse)}function co(I){o.value=I.remainingOrder}function z(I){a.value.push(I.questionId)}function Ve(I){r.value.push(I)}function Ct(I){var Zt,is,_n;const Z=I.slide.id,Ie=I.slide,be=s.value[Z]||{},tt={...be,state:C(Ie,"state",be.state),answer:C(Ie,"answer",be.answer),options:C(Ie,"options",be.options),metadata:{...be.metadata||{},currentBulletIndex:C(Ie,"metadata.currentBulletIndex",(Zt=be.metadata)==null?void 0:Zt.currentBulletIndex),isTimerPaused:C(Ie,"metadata.isTimerPaused",(is=be.metadata)==null?void 0:is.isTimerPaused),isVideoPlaying:C(Ie,"metadata.isVideoPlaying",(_n=be.metadata)==null?void 0:_n.isVideoPlaying)}};Ie!=null&&Ie.answerGraph&&(tt.answerGraph=Ie.answerGraph),s.value[Z]=tt}function vt(I){const{nextQuestion:Z}=I;if(Z){const{questionId:Ie,state:be=""}=Z;s.value[Ie]&&(s.value[Ie].state=be)}}function ws(I){d.value=I.isInResponseReEditMode}function Us(I){const{updatedResponses:Z}=I;ot(Z,Ie=>ie(Ie))}function Pn(I){const{questionId:Z}=I,Ie=I.attempt,be=ys(c.value[Z]);be.splice(Ie,1),c.value[Z]=be}function qn(){const I=mt(),Z=Dt();o.value=ga(I.gameMode,I.gameType)?Mh({mysticPeakLevelMap:I.mysticPeakLevelMap,totalQuestionsInQuiz:I.totalQuestionsInQuiz,totalCorrect:Z.totalCorrect,remainingOrder:o.value,currentId:i.value}):qh({remainingOrder:o.value,currentId:i.value,visitedComprehensionQuestion:k.value,allQuestions:s.value})}function Un(I){const{id:Z}=I,Ie=oa([...m.value,Z]),be=oa([..._.value,Z]);m.value=Ie,_.value=be}function oi(){m.value=[...m.value.filter(I=>I!==i.value)]}function uo(){i.value&&g.value.add(i.value)}function ii(){i.value&&g.value.has(i.value)&&g.value.delete(i.value)}function lo(){i.value&&v.value.add(i.value)}function ri(I){const{doneQuestionsFrequency:Z}=I;R.value=Z}function ci(I){var Z;return!!((Z=s.value[I])!=null&&Z.comprehensionQuestionId)}function mo(){const I=i.value,Z=E.value.indexOf(I);Z>=0?E.value.splice(Z,1):E.value.push(I)}function po(I){n.value=I.initSequence}function Ur(I){e.value=I.questionIds}return{list:s,initSequence:n,doneOrder:a,remainingOrder:o,currentId:i,skippedQuestions:r,questionResponses:c,questionResponseStatuses:u,slidesFlowControlType:l,isInResponseReEditMode:d,answerLaterQuestions:m,totalAnswerLaterQuestions:_,isUserOnReviewScreen:f,incorrectQuestionAttempts:g,correctQuestionAttempts:v,doneQuestionsFrequency:R,comprehensionQuestionListDisplayState:h,visitedComprehensionQuestion:k,comprehensionQuestionAttempts:L,hasReachedMastery:Xs,doesCurrentQuestionHaveAnswerExplanation:ht,currentQuestionNumber:U,currentQuestion:H,isCurrentSlideForContent:Lt,isCurrentSlideInteractable:Gt,currentSlideState:jt,currentQuestionAttempts:bt,currentQuestionCurrentAttemptIndex:fe,currentQuestionCurrentAttemptResponse:Ne,currentQuestionLatestReviewResponse:Ye,currentQuestionCurrentAttemptAnswer:Me,isCurrentQuestionCurrentAttemptResponseCorrect:_e,isCurrentQuestionCurrentAttemptResponsePartiallyCorrect:Oe,isCurrentQuestionSkipped:je,numberOfCorrectOptions:ve,totalNumberOfOptions:lt,incorrectOptionsForCurrentQuestion:bs,incorrectIndicesForCurrentQuestion:Ps,wrongTargetOptionsForCurrentQuestion:Gs,currentQuestionExtraLifeStatus:Rt,doesCurrentQuestionHaveExtraLifeUtilisedStatus:ts,doesCurrentQuestionHaveExtraLifeInProgressStatus:ls,currentQuestionExtraLifeInprogressAttemptResponse:ks,isCurrentQuestionForExtraLifeAttempt:gt,currentQuestionExtraLifeUtilisedAttemptResponse:dt,isCurrentAttemptBeingEvaluated:it,isCurrentQuestionCurrentAttemptEvaluated:St,hasCurrentQuestionBeenAnswered:ut,totalQuestionsInGame:Kt,allInteractionSlideIds:Cs,totalInteractiveSlidesInGame:Hs,totalQuestionsRemaining:y,totalQuestionAttempted:O,totalInteractiveSlidesAttempted:x,allOrderedResponses:B,allInteractiveSlidesOrderedResponses:me,allAnsweredQuestionsOrder:ae,allAttemptsCorrectResponses:le,currentQuestionResponseType:Pe,isCurrentQuestionForRedemptionAttempt:he,isCurrentQuestionForOriginalAttempt:We,orderedOriginalResponses:J,orderedRedemptionResponses:De,replacedByRedemptionOrderedResponses:He,areQuestionAttemptsLeft:at,progressOfOriginalQuestions:ds,areAllRemainingQuestionsMSQ:$t,remainingQuestionsOptionsCount:Ns,doesRemainingQuestionsOptionsCountEqualsTwo:Ot,doesCurrentQuestionHaveCorrectAnswers:os,isSlideFlowControlTypeNone:$,isSlideFlowControlTypePartial:It,isSlideFlowControlTypeFull:w,isAnswerLaterQuestion:st,doneOrderForEvaluatedQuestions:W,previousQuestionAddedToAnswerLater:gs,totalNumberOfAnswerLaterQuestions:Qt,areAllRemainingQuestionsFIB:Wt,hasIncorrectAttemptForQuestion:Ds,isLastAnswerLaterQuestion:cs,$reset:ns,exitGame:ms,resetGame:pn,setQuestions:si,showingReviewScreen:j,rejoinGameResponded:js,setCurrentQuestion:nn,playerQuestionsOver:gn,completedQuestionImagesPrefetch:yn,completedQuesAudioPrefetch:Mn,answeredCurrentQuestion:Gn,powerupActivatedFromMysteryBox:ea,proceedGameInProgress:fn,proceedGameRespondedWithError:Ta,proceedGameResponded:ai,changeRemainingQuestionsOrder:co,addQuestionToDoneOrder:z,updateSkippedQuestions:Ve,updateQuestionSlide:Ct,gameStarted:vt,toggleResponseReEditMode:ws,updateQuestionResponses:Us,clearQuestionResponse:Pn,updateIncorrectAttempt:qn,updateAnswetLaterQuestions:Un,attemptedAnswerLaterQuestion:oi,addQuestionToIncorrectAttempt:uo,removeQuestionFromIncorrectAttempt:ii,addQuestionToCorrectAttempt:lo,updateDoneQuestionsFrequency:ri,gameJoinResponseHandler:ee,updateQuestionResponse:ie,joinSoloGameResponded:Ge,joinRoomResponded:kt,getNextQuestion:F,setInitSequence:po,setReshowQuestionIds:Ur,comprehensionQuestionId:S,comprehensionQuestionListDisplay:G,hasComprehensionQuestion:K,isComprehensionQuestionVisited:ne,isComprehensionQuestionNavigationEnabled:q,isInComprehensionView:ue,comprehensionQuestion:pe,comprehensionQuestionIds:Ae,comprehensionQuestionIndexStart:ge,comprehensionQuestionIndexEnd:Te,comprehensionQuestions:b,isComprehensionChildQuestion:ci,currentQuestionIndexInComprehension:te,nextComprehensionQuestionId:Y,nextUnAttemptedComprehensionQuestionId:ct,previousComprehensionQuestionId:ce,areAllComprehensionQuestionsAttempted:we,comprehensionQuestionCurrentAttempt:_t,numberOfComprehensionQuestions:yt,numberOfComprehensionQuestionsAttempted:pt,numberOfComprehensionQuestionsRemaining:Ze,numberOfComprehensionQuestionsUnattempted:Qe,unattemptedComprehensionQuestionIds:Se,unAnsweredComprehensionQuestionIds:Re,isAnswerCorrect:ye,isQuestionAttempted:M,isQuestionAnswered:oe,setComprehensionQuestionListDisplay:qs,setVisitedComprehensionQuestion:Tn,updateComprehensionQuestionAttempts:ei,resetComprehensionQuestionAttempts:ti,setIsComprehensionQuestionNavigationEnabled:kn,updateIsOptPrevAnimationOver:ni,isOptPrevAnimationOver:t,selectedRCTabIndex:de,flaggedQuestions:E,updateflaggedQuestions:mo,canShowAnswerExplanation:Vt,updateAnswerExpStatusForQuestion:et,isAnswerExplanationCompleteForQuestion:Q,reshowQuestionIds:e,isQuestionEligibleForAnswerExplanation:qt,isCurrentQuestionForAEAttempt:ss}}),Ht=PS;var Dn=(e=>(e.NOTICE_AND_WONDER="NOTICE_AND_WONDER",e.SUMMARISE_MY_GAME="SUMMARISE_MY_GAME",e.RAP_IT_UP="RAP_IT_UP",e.SEL="SEL",e))(Dn||{}),Oa=(e=>(e.PROMPT="PROMPT",e.STUDENT_RESPONSE="STUDENT_RESPONSE",e.SUB_PROMPT="SUB_PROMPT",e.FETCHING_AI_RESPONSE="FETCHING_AI_RESPONSE",e.AI_RESPONSE_STARTED="AI_RESPONSE_STARTED",e.AI_RESPONSE_COMPLETED="AI_RESPONSE_COMPLETED",e.AI_RESPONSE="AI_RESPONSE",e.ERROR="ERROR",e))(Oa||{}),Ba=(e=>(e.PROMPT="PROMPT",e.SUB_PROMPT="SUB_PROMPT",e.STUDENT_RESPONSE="STUDENT_RESPONSE",e.AI_RESPONSE="AI_RESPONSE",e.ERROR="ERROR",e))(Ba||{});function bS(){return mf.sort(()=>.5-Math.random()).slice(0,3)}function NS(){return[{id:"happy",text:X("😀 Happy")},{id:"sad",text:X("🙁 Sad")},{id:"nervous",text:X("😰 Nervous")},{id:"angry",text:X("😡 Angry")},{id:"not_sure",text:X("🤔 Not sure")}]}function Yl(e,t){const s=t.attempts.find(a=>a.attemptId===e),n=s&&s.responses[s.responses.length-1];if(n){const{distribution:a,timeTaken:o,responses:i}=n,{correct:r,incorrect:c,partial:u,timedout:l,ungraded:d,yetToBeGraded:m,total:_}=a,f=r+m+u+c+d+l,g=_-f>0?_-f:0,v=Math.round(o/((i||1)*1e3));return{accuracy:(r/_*100).toFixed(2),correct:r,incorrect:c,skippedQuestionsCount:g,totalQuestionsCount:_,avgTimePerQuestion:v}}else return{accuracy:"0",correct:0,incorrect:0,skippedQuestionsCount:0,totalQuestionsCount:0,avgTimePerQuestion:0}}function DS(e){return e.sort((t,s)=>t.chunkIndex-s.chunkIndex)}function LS(e){switch(e){case Dn.RAP_IT_UP:return X("Choose an artist");case Dn.SEL:return X("How are you feeling?");default:return""}}function To(){return new rd().toHexString()}function zS(e){const t=[{id:Dn.SUMMARISE_MY_GAME,text:X("Stats please!"),subtext:X("Identify your toughest questions, snap decisions, confident areas and more."),icon:"https://cf.quizizz.com/img/StudentAI/chart.svg",subPrompts:[]},{id:Dn.RAP_IT_UP,text:X("Lyric lab"),subtext:X("Turn your performance into a rap or verse in the style of your favorite artist."),icon:"https://cf.quizizz.com/img/StudentAI/music.svg",subPrompts:bS()},{id:Dn.SEL,text:X("Feeling Meter"),subtext:X("Take a moment to assess and manage how you're feeling."),icon:"https://cf.quizizz.com/img/StudentAI/heart.svg",subPrompts:NS()}];return e&&t.push({id:Dn.NOTICE_AND_WONDER,text:X("Wonder Why"),subtext:X("Reflect on what you got right and question what you didn’t."),icon:"https://cf.quizizz.com/img/StudentAI/cloud.svg",subPrompts:[]}),t}function MS(e=[],t=[]){const s=new Map;return t.forEach(n=>{const a=Os(e,o=>o===n.questionId)+1;s.set(n.questionId,a)}),Object.fromEntries(s)}const GS=Pt("studentAI",()=>{const e=mt(),t=Dt(),s=Ht(),n=p(!1);let a=null;const o=p([c()]),i=12e3;function r(){const h=o.value[0];h.state=Oa.ERROR;const L=h.chatHistory[0].element===Ba.AI_RESPONSE,q=L&&h.chatHistory[0].options.aiResponse.length>0;L&&!q&&h.chatHistory.shift(),h.chatHistory.unshift({messageId:To(),element:Ba.ERROR})}function c(){return a!==null&&clearTimeout(a),{convoId:To(),genKey:null,state:Oa.PROMPT,prompt:null,subPrompt:null,chatHistory:[{messageId:To(),element:Ba.PROMPT,options:{prompts:zS(n.value)}}]}}function u(h){const k=o.value[0];k.state=Oa.STUDENT_RESPONSE,k.chatHistory.unshift({messageId:To(),element:Ba.STUDENT_RESPONSE,options:{text:h.text,icon:h.icon}})}async function l(h){const k=o.value[0];switch(k.state=Oa.FETCHING_AI_RESPONSE,a=setTimeout(()=>{r()},i),k.prompt.id){case Dn.SUMMARISE_MY_GAME:try{const{response:{data:{quizGenKey:L}}}=await ky({playerId:t.playerId,gameId:e.roomHash,quizDetails:{grades:e.grade,subjects:e.subjects},questionsSequence:MS(s.initSequence,s.replacedByRedemptionOrderedResponses)});k.genKey=L}catch{r();return}break;case Dn.NOTICE_AND_WONDER:try{const{response:{data:{quizGenKey:L}}}=await Py({playerId:t.playerId,gameId:e.roomHash});k.genKey=L}catch{r();return}break;case Dn.RAP_IT_UP:try{const{response:{data:{quizGenKey:L}}}=await by({artistName:h.id,summary:{...Yl(t.playerId,e.aggregations)},quizDetails:{grades:e.grade,subjects:e.subjects}});k.genKey=L}catch{r();return}break;case Dn.SEL:try{const{response:{data:{quizGenKey:L}}}=await Ny({emotion:h.id,summary:{...Yl(t.playerId,e.aggregations)},quizDetails:{grades:e.grade,subjects:e.subjects}});k.genKey=L}catch{r();return}break}k.state=Oa.AI_RESPONSE_STARTED,k.chatHistory.unshift({messageId:To(),element:Ba.AI_RESPONSE,options:{responseTokens:[],aiResponse:""}})}function d(){const h=o.value[0],k=h.prompt;h.state=Oa.SUB_PROMPT,h.chatHistory.unshift({messageId:To(),element:Ba.SUB_PROMPT,options:{title:LS(k.id),prompts:(k==null?void 0:k.subPrompts)||[]}})}async function m(h){const k=o.value[0];k.subPrompt=h,u(h),await l(h)}async function _(h){const k=o.value[0];k.prompt=h,u(h),h.subPrompts&&h.subPrompts.length>0?setTimeout(()=>{d()},750):await l()}function f(h){var q,D;const k=o.value[0],L=((q=k.chatHistory[0].options)==null?void 0:q.responseTokens)||[];(D=k.chatHistory[0].options)!=null&&D.responseTokens&&k.genKey===h.quizGenKey&&(k.chatHistory[0].options.responseTokens=[...L,h],k.chatHistory[0].options.aiResponse=DS(k.chatHistory[0].options.responseTokens).map(ee=>ee.text).join(""))}function g(h,k){var q;const L=o.value[0];(q=L.chatHistory[0].options)!=null&&q.aiResponse&&L.genKey===k&&(L.chatHistory[0].options.aiResponse=h,L.state=Oa.AI_RESPONSE_COMPLETED,setTimeout(()=>{o.value.unshift(c())},3e3))}function v(){o.value=[c()]}async function R(){try{const{response:{data:{response:{eligible:h}}}}=await Oy({playerId:t.playerId,gameId:e.roomHash});n.value=h,v()}catch{}}function E(){o.value.unshift(c())}return{conversation:o,triggerPromptGeneration:_,triggerSubPromptGeneration:m,triggerError:r,setChatResponseToken:f,overrideAIResponse:g,checkNWEligibility:R,startNewChat:E}});function qS(e){const t=Ht(),s=[...t.initSequence];s.splice(t.currentQuestionNumber,0,e._id),t.initSequence=s;const n=au({[e._id]:e},{forGameBeingPlayed:!0,dataIsStrigified:!1});t.setQuestions({questions:{...t.list,...n}})}async function US(e){const{syncGameQuestions:t}=On(),s=mt(),{roomHash:n,gameType:a}=s;e&&s.setQuizVersionId(e),await t({roomHash:n,gameType:a})}function xS(){const e=Ht();e.slidesFlowControlType=Xt.NONE}function QS(){const e=Ht();e.slidesFlowControlType=Xt.FULL}function FS(e){switch(e){case Mo.TEACHER_PACED:xS(),HS();break;case Mo.STUDENT_PACED:QS(),BS();break}}function BS(){const{currentId:e,initSequence:t}=Ht(),s=On(),n=tn(),a=t.indexOf(e),o=t.slice(0,a);let i=t.slice(a+1);e&&(i=[e,...i]);const r={questionId:"",doneOrder:o,remainingOrder:i,powerupScopes:[]};s.setCurrentQuestion(r),n.changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.STUDENT_TEACHER_PACED),metaData:{currentState:Gr.STUDENT_PACED}})}function HS(){tn().changeToInGamePage({to:P.get(P.List.IN_GAME.QUIZ.STUDENT_TEACHER_PACED),metaData:{currentState:Gr.TEACHER_PACED}})}function _k(){On().startQuestions()}async function hk(){const{syncGameQuestions:e}=On(),t=mt(),{roomHash:s,gameType:n}=t;await e({roomHash:s,gameType:n})}function jS(e,t){var l;const{game:s,routing:n}=e,a=s.player.playerId!==t.playerId,o={players:s.data.players,teams:s.data.teams,isOldPlayerFromCurrentTeam:!1};a&&(o.players=Jt(s.data.players,d=>d.playerId!==t.playerId).sort((d,m)=>d.score>m.score?-1:1).map((d,m)=>({...d,rank:m+1})),s.data.gameMode===re.TEAM&&(Array.isArray(t.teams)&&t.teams.length===s.data.teams.length&&(o.teams=t.teams),t&&t.teamId===s.team.teamId&&(o.isOldPlayerFromCurrentTeam=!0)));const i=s.data.gameMode===re.CHALLENGE,r=P.isExactly(n.currentPage,P.List.IN_GAME.CHALLENGE_PRE_SUMMARY),c=i&&r;let u=((l=s.flow)==null?void 0:l.challengeLiveLeaderboard)||[];return c&&(u=Jt(u,d=>d.playerId===t.playerId)),{isAnotherPlayerDeleted:a,payload:o,shouldDeletePlayerFromChallengeLeaderboard:c,challengeLiveLeaderboard:u}}function Kl(e,t){const{game:s}=e;let n=s.player.rank;const a=n;t&&t.leaderboard&&t.leaderboard.length>0&&(n=Qd(t.leaderboard,s.player.playerId));let o=s.team.rank,i=s.team.previousRank,r=s.team.score;const c=t&&t.teams||[];if(c.length>0){i=o;const l=nu(c),d=xt(l,m=>m.teamId===s.team.teamId);o=d.rank,r=d.score}const u={previousPlayerRank:a,currentPlayerRank:n,previousTeamRank:i,currentTeamRank:o,currentTeamScore:r};return c.length>0&&(u.teams=c),A(t.leaderboard)||(u.leaderboard=t.leaderboard,u.shouldUpdateLeaderboard=s.data.gameMode===re.CHALLENGE),u}function VS(e,t){const{game:{data:s,player:n,flow:a}}=e,o=(s==null?void 0:s.gameMode)===re.CHALLENGE,i=(s==null?void 0:s.gameState)===Et.RUNNING;let r=!1,c=a.challengeLiveLeaderboard,u=n.rank;if(!A(t.player)){const l=Ea(t.player,["id","score","monsterId","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]);l.playerId=l.id,delete l.id,c=wt(a.challengeLiveLeaderboard,d=>d.playerId===t.player.id?{...d,...l}:d),c=wt(Fs(c,["score"],["desc"]),(d,m)=>({...d,rank:m+1})),r=o&&i,u=Os(c,{playerId:n.playerId})+1}return{shouldUpdateLeaderboard:r,leaderboard:c,currentPlayerRank:u}}const Jl="previousContext",$S={JUMBLE:"jumble",JUMBLE_ANSWER:"jumbleAnswers"},WS=Pt("baseGameActions",()=>{const e=Zn(),t=Ht(),s=mt(),n=tn(),a=Dt(),o=hs(),i=es(),r=Fi(),c=rs(),u=ps(),l=On(),d=Au(),m=Bi(),_=Am(),f=ln(),g=ro(),v=Pu(),R=Aa(),E=GS(),{theme:h}=Mm();function k(){return{game:{data:s,flow:o,questions:t,team:r,player:a},user:{profile:c},appSettings:f,applicationContext:i,routing:n,rootReducer:u}}function L(){const w=sv();Ss.setItem(Jl,w)}async function q(){const w=k();try{const $=Ss.getItem(Jl,{removeItemOnError:!0,parseFromJSON:!0}),W=nv(w,$);i.loadPreviousContext(),f.loadPreviousContext(W.prevContext),u.loadPreviousContext(W.prevContext),a.loadPreviousContext(W.prevContext),o.loadPreviousContext(W.prevContext),d.loadPreviousContext(W.prevContext),_.loadPreviousContext(W.prevContext),W.shouldSetAppLanguage&&await f.setCurrentLanguage(W.selectedLanguage),W.shouldSetAppTheme&&f.setCurrentTheme(W.setThemeMutationPayload)}catch($){N.logForSession(["Error at loadPreviousContext",$],"error"),i.loadPreviousContext({}),f.loadPreviousContext({}),u.loadPreviousContext({}),a.loadPreviousContext({}),o.loadPreviousContext({}),d.loadPreviousContext({}),_.loadPreviousContext({})}}function D({response:w}){const $=w==="io client disconnect";i.socketDisconnected({disconnectedManually:$})}function ee(){if(a.hasJoinedTheGame&&Yo(s.gameType)){l.reconnectToGame();return}i.socketConnectedSuccess()}function ie({response:w}){const $=[...s.players],W={...Qm(w),rank:$.length+1};$.push(W);const fe={teams:s.teams,isNewPlayerFromCurrentTeam:!1,players:$};if(s.gameMode===re.TEAM){const Me=Os(s.teams,{teamId:W.teamId});if(Me>=0){const _e=[...s.teams],Oe=_e[Me].totalPlayers+1;_e[Me]={..._e[Me],totalPlayers:Oe},fe.teams=_e}W&&W.teamId===r.teamId&&(fe.isNewPlayerFromCurrentTeam=!0)}const Ne=s.gameMode===re.CHALLENGE,Ye=P.isExactly(n.currentPage,P.List.IN_GAME.CHALLENGE_PRE_SUMMARY);Ne&&Ye&&(fe.challengeLeaderboardNewPlayer={playerId:W.id,monster:W.monsterId,monsterId:W.monsterId,origin:W.origin,score:0,rank:fe.players.length,currentStreak:0,totalAttempts:0,totalCorrect:0,isProfane:!!Wo(W.id)}),s.newPlayerJoined(fe),r.newPlayerJoined(fe),o.newPlayerJoined(fe)}function M({response:w}){const $=k(),W=jS($,w);if(W.isAnotherPlayerDeleted){const{payload:fe}=W;W.shouldDeletePlayerFromChallengeLeaderboard&&(fe.challengeLiveLeaderboard=W.challengeLiveLeaderboard),s.playerDeleted(fe),r.playerDeleted(fe),o.playerDeleted(fe);return}e.handleCurrentPlayerDeleted()}function oe({response:w}){if(s.gameMode===re.TEAM&&w.mapping&&w.teams){const $=w.mapping[a.playerId],{teams:W}=w,fe=wt(s.players,_e=>({..._e,teamId:w.mapping[_e.playerId]||""}));let Ne=r.name,Ye=r.totalPlayers;const Me=xt(W,_e=>_e.teamId===$);Me&&(Ne=Me.teamName,Ye=Me.totalPlayers),r.teamPlayerShuffled({teamId:$,currentTeamName:Ne,currentTeamTotalPlayers:Ye}),s.teamPlayerShuffled({teams:W,players:fe})}}function ye({response:w}){const $=ao(w.gameType),W=Ko(w.gameType),fe=C(w,"host.occupation",s.hostOccupation);if(!Th(n.currentPage))return;if(W===re.CHALLENGE){const Ye=c.mongoId,Me=i.deviceInfo.quizizzUID,_e=C(w,"replayMeta.hostId",""),Oe=C(w,"replayMeta.hostSessionId","");if(_e&&_e===Ye||Oe&&Oe===Me)return;u.toggleModal({type:on.CHALLENGE_REPLAY_NOTIF,options:{...w}}),setTimeout(()=>{R.clearPreGameQuizInfo(),g.challengeReplayNotifAcceptedPipeline({roomHash:w.roomHash,roomCode:w.roomCode})},3e3);return}return{isReplayLiveGameModal:!0,gameTypeOfNextGame:$,gameModeOfNextGame:W,gameInfo:{gameCode:w.roomCode,roomHash:w.roomHash,hostOccupation:fe},replayMeta:w.replayMeta}}async function F({response:w}){$e.logEvent(as.TRIGGER_REPLAY_ASYNC,{expiry:s.expiry,isLoggedIn:c.isLoggedIn,roomHash:w.roomHash,oldRoomHash:s.roomHash});const $=(await Ue(()=>import("./preGameActions.C_v-nzzS.js"),__vite__mapDeps([0,1,2,3,4]))).default,W=$(),fe=a.playerId,Ne=ye({response:w});if(!Ne)return;const Ye={roomHash:ys(w.roomHash),playerId:ys(fe.trim()),startSource:ys(Fe.get(Fe.List.REPLAY.REPLAY_LIVE_GAME_ASYNC)),handlePreGameErrorAs:"dialog",forcePageChange:!1,preventPageChange:!0};await W.joinRoom(Ye),Ne.isReplayLiveGameModal=!1,Ne.isReplayAsync=!0,s.setReplayAsyncModalOptions(Ne),u.toggleModal({type:on.GAME_ASSIGNED_NOTIF,options:Ne})}function U({response:w}){const $=k(),{game:W}=$;$e.logEvent(as.TRIGGER_REPLAY,{expiry:W.data.expiry,isLoggedIn:$.user.profile.isLoggedIn,roomHash:w.roomHash,oldRoomHash:W.data.roomHash});const fe=ye({response:w});fe&&u.toggleModal({type:on.GAME_ASSIGNED_NOTIF,options:fe})}function H({response:w}){const $=k(),W=VS($,w);W.shouldUpdateLeaderboard&&(o.setChallengeLiveLeaderboard(W),a.setCurrentPlayerRank(W))}function S({response:w}){let $=r.teamId,W=s.teams,fe=s.players,Ne=r.totalPlayers,Ye=null;if(w.mapping&&w.teams){$=w.mapping[a.playerId],W=w.teams,fe=wt(fe,Oe=>({...Oe,teamId:w.mapping[Oe.playerId]||""}));const _e=xt(W,Oe=>Oe.teamId===r.teamId);Ne=C(_e,"totalPlayers",Ne)}!A(w.nextQuestion)&&!A(w.nextQuestion.questionId)&&(Ye={...w.nextQuestion,questionId:w.nextQuestion.questionId,state:w.nextQuestion.state||""});const Me={teams:W,teamId:$,players:fe,currentTeamTotalPlayers:Ne,nextQuestion:Ye,areHintsEnabled:w.areHintsEnabled||!1};e.startGame(Me),Y({response:w})}function G({response:w}){const $=k(),W=Kl($,w);l.gameCompleted(W)}function K({response:w}){const $=k(),W=Kl($,w);Xa().setAvatarTeacherEndedGame(),W.shouldUpdateLeaderboard&&o.setChallengeLiveLeaderboard(W),$.game.questions.slidesFlowControlType===Xt.NONE&&t.playerQuestionsOver(),l.gameStopped(W)}function ne({response:w}){const{question:$}=w;if(!A(t.initSequence)&&A(t.list)||t.isCurrentQuestionSkipped||(l.updateSlide($),!t.hasCurrentQuestionBeenAnswered||t.isCurrentQuestionCurrentAttemptEvaluated||A($.structure)||!t.isCurrentSlideInteractable))return;const W=Ih(t.currentQuestionCurrentAttemptResponse,t.currentQuestion),fe=t.currentQuestionCurrentAttemptResponse.provisional,Ne={...t.currentQuestionCurrentAttemptResponse,isCorrect:W,score:ys(W?fe.scores.correct:fe.scores.incorrect),scoreBreakup:Cu(ys(W?fe.scoreBreakups.correct:fe.scoreBreakups.incorrect)),teamAdjustment:ys(W?fe.teamAdjustments.correct:fe.teamAdjustments.incorrect),isEvaluated:!0};t.updateQuestionResponse(Ne)}function ue({response:w}){l.updateSlide(w.currentQuestion),l.updateSlide(w.nextQuestion),l.setNextQuestion(w)}function de({response:w}){const $=C(w,"notification.kind","");switch($){case"game-assigned":v.gameAssignedNotifHandler(w);break;default:N.logForSession(`Warning at addNotification SocketMessageHandler: no handler for the notification kind '${$}'`,"warn")}}function pe({response:w}){_.toggleLiveReactions(w)}function Ae({response:w}){d.toggleRaiseHands(w)}function ge({response:w}){const $=Bt.getConfig(),{gameType:W,gameMode:fe}=s,{gameAppearance:Ne}=o,{activatedPowerupEffects:Ye}=m;if((!s.isPowerupsOn||W===Be.SOLO||fe===re.TEST)&&fe!==re.MYSTIC_PEAK)return;const{powerupEffect:Me}=w,_e=Me._id;delete Me._id,Me.id=_e;const Oe=Me.meta.source===Ri.teacher;m.addPowerupEffect({powerupEffect:Me});const je=$a.createAPI({gameAppearance:Ne,activatedPowerupEffects:Ye}),{gameScopePowerupEffects:lt}=m,gt=C(Me,"meta.player.playerId",""),st=C(Me,"meta.player.monsterId",""),ut=$[Me.name];jn.applyEffects(lt,je);let Rt=ut.notification.onActivateByOtherUser||`activated ${ut.title}!`;fe===re.MYSTIC_PEAK&&(Rt=X("caused {$1} on your screen",[h.value.text.avalanche.title]));const ts={title:ut.title,name:Me.name,playerId:gt,message:Rt,type:"external-powerup-effect",styles:ut.styles,monsterId:st};if(ut.shouldPersistNotification){const ls=ut.time/1e3,ks=(Date.now()-new Date(Me.meta.startTime).getTime())/1e3;let Ps=ls-ks;Ps>ls&&(Ps=ls),ts.destroyInTime=Ps}if(!ut.shoudlDisableNotificationForReceiver){if(Oe){const ls="Your screen will glitch for next 10 seconds";ts.playerId="Teacher",ts.type="powerup-effect",ts.appliedByTeacher=!0,ts.message=X(ls)||ls}u.togglePowerupToast({isVisible:!0,options:ts})}}function Te({response:w}){d.dropStudentHand(w)}async function b(){try{await i.disconnectSocket(),await c.handleAuthTokenRefresh(),await i.connectSocket()}catch(w){N.error("Error at socket action authTokenExpired",w)}}async function te({response:w}){var Me;const $=C(w,"actions[0].type",!1),W=C(w,"actions[0].data",!1),fe=(_e,Oe=!0)=>{l.handleSyncingLiveWhiteboardState({states:_e,shouldUpdate:Oe,updateDelay:100})},Ne=(Me=W.metadata)==null?void 0:Me.clearHostCanvas,Ye=W.annotations===!0;switch($){case ja.SHOW_CANVAS:fe({host:{isVisible:!0},player:{isVisible:!0},isAnnotationsEnabled:Ye}),Ye&&fe({player:{canDraw:!1}}),setTimeout(()=>{fa.$emit("liveWhiteboard:action",{type:ja.UPDATE_CANVAS,data:W})},100);break;case ja.HIDE_CANVAS:fe({host:{isVisible:!1},player:{isVisible:!1},isAnnotationsEnabled:W.annotations===!0});break;case ja.ENABLE_PLAYER_CANVAS:fe({player:{canDraw:!0}},Ne),u.toggleSnackBar({isVisible:!0,options:{message:X("Your whiteboard is enabled, try drawing!")}});break;case ja.DISABLE_PLAYER_CANVAS:fe({player:{canDraw:!1}});break;default:fa.$emit("liveWhiteboard:action",{type:$,data:W})}}async function Y({response:w}){const $=(w==null?void 0:w.expiry)||void 0,W=(w==null?void 0:w.totalTimeLeft)||void 0,fe=(w==null?void 0:w.delta)||void 0,{isTestTimerEnabled:Ne}=s;($||W)&&(l.setTestTimerCounter($||W),o.showTestTimeAddedAlert($||fe),Ne||l.updateIsTestTimerEnabled(!0))}function ce({response:w}){const $=w==null?void 0:w.isMasteryPeakTimerEnabled;s.setIsTestTimerEnabled($),s.setStartMPTimer($)}function we({response:w}){const{text:$,chunkIndex:W,completed:fe,value:Ne,quizGenKey:Ye,error:Me}=w;fe?Me?E.triggerError():E.overrideAIResponse(Ne.output,Ye):E.setChatResponseToken({text:$,chunkIndex:W,quizGenKey:Ye})}function Se({response:w}){const $=w==null?void 0:w.theme;s.setMasteryPeakTheme($)}function Re({response:w}){const $=w==null?void 0:w.timeLeft;s.setStartMPTimer(!0),s.setTestTimerCounter($)}function Qe({response:w}){l.pauseGame(w.pauseFor)}function ct({response:w}){const{updates:$}=w;Hp(Object.values($S),Object.keys($)).length?e.handleGameLockFails({name:"game.settingsOutOfSync|confirm"}):l.updateGameOptions(w)}function _t(){e.handleGameLockFails({name:"game.quizModified|confirm"})}function yt({response:w}){i.setSocketHandshakeInfo(w)}function pt({response:w}){const{roomHash:$,isTeacherPowerup:W}=w,{playerId:fe}=Dt(),{name:Ne,playerIdToPowerupIdMap:Ye={}}=w.completePowerupData,Me=Ye[fe];if(Me){const _e={isTeacherPowerup:W,roomHash:$,powerup:{name:Ne,id:Me,status:"AWARDED"}};ba().processTeacherPowerup(_e)}}function Ze({response:w}){N.info("socketAddDuelEffect",w),a.setUnderStrike(w),a.addP2PToast({...w,roomHash:s.roomHash})}function ht({response:w}){s.refreshPlayerAvatar(w)}function Lt(){s.pauseLesson()}function Gt(){window.location.reload()}function It(w){const{addedQuestionBody:$,quizVersionId:W}=w.response;qS($),US(W)}function jt({response:w}){s.setEyesOnMe(w.eyesOnMe)}function bt({response:w}){const{gameMode:$}=w;FS($),s.setLessonMetaData(w)}return{getRootState:k,soc_quizUpdated:_t,soc_updateGameOptions:ct,soc_pauseGame:Qe,soc_setGameTimer:Y,soc_hostCanvasActions:te,soc_authTokenExpired:b,soc_dropHand:Te,soc_addPowerupEffect:ge,soc_disconnect:D,soc_raiseHandToggled:Ae,loadPreviousContext:q,saveCurrentContext:L,soc_reconnect:ee,soc_addPlayer:ie,soc_deletePlayer:M,soc_teamPlayerShuffled:oe,soc_replayAsync:F,soc_replayGame:U,soc_playerResponded:H,soc_gameStarted:S,soc_gameOverAll:G,soc_gameEnded:K,soc_updateQuestion:ne,soc_proceedHostGame:ue,soc_addNotification:de,soc_reactionStopped:pe,soc_handshakeData:yt,soc_updateMasteryPeakTimer:ce,soc_setMasteryPeakTheme:Se,soc_pingTimeLeft:Re,soc_teacherPowerup:pt,soc_addDuelEffect:Ze,soc_playerAvatarUpdated:ht,soc_lessonPaused:Lt,soc_lessonResumed:Gt,soc_chatResponseTokenGenerated:we,soc_addAdhocQuestion:It,soc_eyesOnMe:jt,soc_changeGameMode:bt}}),Ga=WS;var Ro=(e=>(e.REBOUNDED="rebounded",e.BROKE_TARGET_SHIELD="brokeTargetShield",e.STRUCK_TARGET="struckTarget",e.DEFLECTED="deflected",e.ABSORBED="absorbed",e))(Ro||{});const YS=Pt("player",()=>{const e=p(""),t=p(1),s=p(-1),n=p(-1),a=p(0),o=p(0),i=p(0),r=p(0),c=p(0),u=p(0),l=p(0),d=p(0),m=p({}),_=p(!0),f=p(!1),g=p(!1),v=p([]),R=p([]),E=p([]),h=p(0),k=p(0),L=p({strikes:0,shields:0,currentLevel:0,currentStep:0,isTargetShieldActive:!1}),q=p({isStriked:!1,strikeCount:0,appliedBy:"",didRebound:!1,decisionType:""}),D=p(!0),ee=p(!1),ie=p(!1),M=p([]),oe=p(0),ye=p(0),F=p(0),U=p(0),H=p(""),S=p("all"),G=p({}),K=pd({rating:0,feedback:"",isRatingSaved:!1,isFeedbackSaved:!1}),ne=p({cloth:{id:"",value:"",enabled:!0},helmet:{color:{enabled:!0,id:"",value:""},pattern:{enabled:!0,id:"",value:""}},skin:{enabled:!0,id:"",value:""}}),ue=T(()=>Q=>{const et=e.value;return Q===et?Q:Wo(Q)?"Fluffy Puppy":Q});function de(Q){e.value=Q.playerName,_.value=!0,f.value=!1,g.value=!1,$e.setPlayerId(Q.playerName)}function pe(Q){const et=Q.player.isAllowed;return us(et)?et:_.value}function Ae(Q){const et=C(Q,"player.isOver");return us(et)?et:f.value}function ge(Q){const et=Q.room&&Q.player&&Q.player.attempts;A(et)||(v.value=[...et]),v.value=[]}function Te(Q){A(Q)||(a.value=Q.score,o.value=Q.marks,d.value=Q.totalCorrect,u.value=Q.accuracy,r.value=i.value,i.value=Q.currentStreak,oe.value=Q.firstAttempts,ye.value=Q.firstCorrectAttempts,F.value=Q.firstAttemptMarks,U.value=Q.firstAttemptAccuracy,h.value=Q.totalPossibleMarks||0,k.value=Q.totalAttempt,Q.tieredRank&&(G.value=Q.tieredRank),Q.currentStreak>c.value&&(c.value=Q.currentStreak))}function b(){e.value="",t.value=1,s.value=-1,n.value=-1,a.value=0,o.value=0,i.value=0,r.value=0,c.value=0,u.value=0,l.value=0,d.value=0,m.value={},_.value=!0,f.value=!1,g.value=!1,v.value=[],R.value=[],E.value=[],h.value=0,k.value=0,oe.value=0,ye.value=0,F.value=0,U.value=0,H.value="",S.value="all",G.value={},K.rating=0,K.isRatingSaved=!1,K.isFeedbackSaved=!1,$e.setPlayerId("")}function te(Q){const{preservePlayerId:et}=Q,zt=m.value,qt=e.value;b(),m.value=zt,et&&(e.value=qt,$e.setPlayerId(qt))}function Y(){const Q=m.value,et=e.value;b(),m.value=Q,e.value=et,$e.setPlayerId(et)}function ce(Q){de(Q)}function we(Q){var Hs;const{player:{id:et,monsterId:zt,extraLife:qt,totalPossibleMarks:Vt=0,avatar:ss}}=Q,Kt=C(Q,"room.players"),Cs=C(Q,"player.attempts");if(Array.isArray(Kt)){const y=Os(Kt,{id:e});n.value=Kt[y]&&Kt[y].rank||y+1}A(Cs)||(v.value=[...Cs]),e.value=et,t.value=zt,_.value=pe(Q),f.value=Ae(Q),E.value=qt,h.value=Vt,ne.value=ss,$e.setPlayerId(et),ut(((Hs=Q.room)==null?void 0:Hs.duelInfo)||{strikes:0,shields:0,currentLevel:0,playerShield:null,currentStep:0,isTargetShieldActive:!1}),ts()}function Se(Q){ge(Q)}function Re(Q){ge(Q)}function Qe(Q){de(Q)}function ct(Q){const{player:{id:et,monsterId:zt,avatar:qt},generatedPlayers:Vt}=Q;if(Array.isArray(Vt)){const ss=Os(Vt,{playerId:e});n.value=Vt[ss]&&Vt[ss].rank||ss+1}e.value=et,t.value=zt,ne.value=qt,s.value=Vt.length||s.value,_.value=pe(Q),f.value=Ae(Q),$e.setPlayerId(et)}function _t(Q){de(Q)}function yt(Q){var ae;const{player:{id:et,monsterId:zt,rank:qt,scoreTrail:Vt,extraLife:ss=E.value,avatar:Kt},room:{type:Cs,players:Hs},generatedPlayers:y}=Q,O=Yo(Cs)?Hs:y,x=C(Q,"player.attempts");if(Number(qt)>=0)n.value=qt;else if(Array.isArray(O)){const B=O.findIndex(me=>me.playerId===et);n.value=O[B]&&O[B].rank||B+1}A(x)||(v.value=[...x]),e.value=et,t.value=zt,ne.value=Kt,s.value=O.length||s.value,_.value=pe(Q),f.value=Ae(Q),R.value=Vt,E.value=ss,$e.setPlayerId(et),ut(((ae=Q.room)==null?void 0:ae.duelInfo)||{strikes:0,shields:0,currentLevel:0,playerShield:null,currentStep:0,isTargetShieldActive:!1}),Te(Q.player)}function pt(){g.value=!1}function Ze(Q){e.value=Q.playerName,$e.setPlayerId(Q.playerName)}function ht(Q={}){e.value=C(Q,"currentPlayer.playerId",e.value),t.value=C(Q,"currentPlayer.monsterId",t.value),m.value=A(Q.game)?m.value:{...Q.game},$e.setPlayerId(e.value)}function Lt(){e.value="",m.value={},$e.setPlayerId("")}function Gt(Q){n.value=Je(Q.currentPlayerRank)?Q.currentPlayerRank:n.value,s.value=Je(Q.previousPlayerRank)?Q.previousPlayerRank:s.value,f.value=!0}function It(Q){n.value=Je(Q.currentPlayerRank)?Q.currentPlayerRank:n.value,s.value=Je(Q.previousPlayerRank)?Q.previousPlayerRank:s.value,f.value=!0}function jt(){f.value=!0}function bt(Q){n.value=Q.currentPlayerRank}function w(Q){const{currentPlayerRank:et,previousPlayerRank:zt,extraLife:qt,currentDifficulty:Vt,playerStats:ss}=Q;n.value=et,s.value=zt,E.value=qt,H.value=Vt,Q.duelInfo&&ut(Q.duelInfo),Te(ss)}function $(Q){const{score:et,currentStreak:zt}=Q;r.value=i.value,i.value=zt,a.value+=et}function W(Q){const{game:{data:{quizId:et,quizName:zt,image:qt,grade:Vt,subjects:ss,createdAt:Kt,isClassroomGame:Cs,classroomInfo:Hs,roomCode:y,roomHash:O,gameType:x,gameMode:ae,expiry:B},questions:{initSequence:me,questionResponses:J},player:{totalCorrect:De,accuracy:He,playerId:le,isOver:he},flow:{questionTimer:Pe}},user:{profile:{userName:We}}}=Q;m.value={quizId:et,quizName:zt,quizImage:qt,grade:Vt,subjects:ss,createdAt:Kt,isClassroomGame:Cs,classroomInfo:Hs,roomCode:y,roomHash:O,gameType:x,gameMode:ae,expiry:B,numQuestions:me.length,numQuesAttempted:Object.keys(J).length,numCorrect:De,accuracy:He,playerId:le,playerUsername:We,isOver:he,questionTimer:Pe}}function fe(Q){A(m.value)||(!m.value.playerUsername||m.value.playerUsername&&m.value.playerUsername!==Q.user.userName)&&(m.value={})}function Ne(){m.value={}}function Ye(){_.value=!0,f.value=!1}function Me(){g.value=!0}function _e(){g.value=!1}function Oe(Q,et,zt){var qt,Vt;if(m.value&&en(m.value)&&!A(m.value)){const ss=nS({currentId:et,isOver:f.value,accuracy:u.value,questionTimer:Q,orderedOriginalResponses:zt});if(ss.isComplete){m.value={};return}const Kt={...m.value};Kt.numQuesAttempted=(qt=ss.playerStats)==null?void 0:qt.numQuesAttempted,Kt.accuracy=(Vt=ss.playerStats)==null?void 0:Vt.accuracy,Kt.lastVisibleQuestionId=ss.lastVisibleQuestionId,Kt.isOver=ss.isOver,Kt.questionTimer=ss.questionTimer,m.value=Kt}}function je(){const et=Ga().getRootState();W(et)}function lt({previousStreak:Q,currentStreak:et}){const zt=Je(Q)?Q:i.value;r.value=zt,i.value=et}function gt(Q){S.value=Q}function st(){l.value=u.value}function ut(Q){L.value={...L.value,...Q},Q.decisionOptions||delete L.value.decisionOptions}function Rt(Q){var et;q.value.appliedBy=Q.strikerPlayerId,Q.strikeOutcome!==Ro.REBOUNDED?(q.value.isStriked=!1,(Q.strikeOutcome===Ro.STRUCK_TARGET||Q.strikeOutcome===Ro.BROKE_TARGET_SHIELD)&&(q.value.isStriked=!0),Q.strikeOutcome===Ro.DEFLECTED&&(q.value.deflectedPlayerId=Q.deflectedPlayerId),q.value.strikeCount+=(et=L.value.playerShield)!=null&&et.type?0:1,q.value.strikeOutcome=Q.strikeOutcome,q.value.decisionType=Q.decisionType,setTimeout(()=>{ut({playerShield:null})},1e3),setTimeout(()=>{q.value.isStriked=!1},1e4)):(q.value.didRebound=Q.strikeOutcome===Ro.REBOUNDED,setTimeout(()=>{q.value.didRebound=!1},1e4))}function ts(){q.value={isStriked:!1,appliedBy:"",strikeCount:0,didRebound:!1,decisionType:""}}function ls(){ee.value=!ee.value}function ks(Q){ie.value=Q}function Ps(Q){ne.value=Q}function Gs(Q){const et="strike";let zt=0;Q.decisionType==="swap"&&Q.finalScores&&Q.targetPlayerId in Q.finalScores&&(zt=Q.finalScores[Q.targetPlayerId]);let qt="";Q.deflectedPlayerId&&(qt=Q.deflectedPlayerId);const Vt={playerId:Q.strikerPlayerId,type:et,decisionType:Q.decisionType,strikeOutcome:Q.strikeOutcome,finalPlayerScore:zt,deflectedPlayerId:qt};M.value=[...M.value,Vt],$e.logEvent(as.STUDENT_STRIKE_SUMMARY,{opponent_player_id:Q.playerId,final_outcome:et,student_rank:n.value,student_accuracy:u.value,student_level:L.value.currentLevel,game_id:Q.roomHash})}function bs(Q){M.value=[...M.value,Q]}function ve(Q){M.value=Q}function dt(Q){K.isFeedbackSaved=Q}function it(Q){K.isRatingSaved=Q}function St(Q){K.rating=Q}return{playerId:e,monsterId:t,previousPlayerRank:s,rank:n,score:a,marks:o,currentStreak:i,previousStreak:r,longestStreak:c,accuracy:u,previousAccuracy:l,totalCorrect:d,lastGamePlayed:m,isAllowed:_,isOver:f,hasJoinedTheGame:g,currentGameAttempts:v,scoreTrail:R,extraLife:E,totalPossibleMarks:h,firstAttempts:oe,firstCorrectAttempts:ye,firstAttemptMarks:F,firstAttemptAccuracy:U,currentDifficulty:H,selectedTabInReview:S,tieredRank:G,totalAttempt:k,getPlayerNameToShow:ue,duelData:L,strikeData:q,initiatePlayerLevelUp:D,isShielded:ee,nextLevelStarted:ie,avatar:ne,p2pToasts:M,qfwFeedback:K,updateIncompleteGame:Oe,setIncompleteGame:je,updateStreak:lt,updateSelectedTabInReview:gt,updatePreviousAccuracy:st,exitGame:te,gameEnded:jt,gameCompleted:Gt,joinRoomInProgress:ce,joinRoomResponded:we,joinSoloGameInProgress:Qe,joinSoloGameResponded:ct,resetGame:Y,checkRoomResponded:Se,checkAssignmentResponded:Re,rejoinGameInProgress:_t,rejoinGameResponded:yt,rejoinGameRespondedWithErr:pt,updatePlayerName:Ze,loadPreviousContext:ht,userSignedIn:fe,userSignedOut:Lt,gameStopped:It,setCurrentPlayerRank:bt,proceedGameResponded:w,powerupActivatedFromMysteryBox:$,setIncompleteGameAction:W,clearIncompleteGame:Ne,updatePlayerInfoForRetry:Ye,playerJoinedTheGame:Me,enterLMSFlow:_e,$reset:b,updatePlayerStats:Te,updateDuelData:ut,toggleIsShielded:ls,setUnderStrike:Rt,toggleNextLevelStart:ks,resetUnderStrikeData:ts,setPlayerAvatar:Ps,addP2PToast:Gs,addShieldToast:bs,updateP2PToastsList:ve,setQFWFeedbackStatus:dt,saveQFWFeedbackRating:St,setQFWRatingStatus:it}}),Dt=YS,qc=Pt("gameData",()=>{const e=p(""),t=p(""),s=p(""),n=p(null),a=p(Be.LIVE),o=p(re.NORMAL),i=p(0),r=p(0),c=p(0),u=p(""),l=p(""),d=p(""),m=p(0),_=p(0),f=p(""),g=p(""),v=p(""),R=p(""),E=p([]),h=p([]),k=p(0),L=p(null),q=p({}),D=p([]),ee=p([]),ie=p([]),M=p(""),oe=p(null),ye=p(!1),F=p({}),U=p(_a.default),H=p({}),S=p({}),G=p(""),K=p({type:Ys.NONE,ids:[],createToken:null,sourceRequest:"",sourceRequestMeta:{}}),ne=p({}),ue=p({}),de=p(0),pe=p(""),Ae=p([]),ge=p(!0),Te=p(null),b=p(""),te=p({attempts:[],coinDistribution:{accuracy:0,completion:0,powerups:0}}),Y=p(!1),ce=p("other"),we=p(null),Se=p(!1),Re=p(!1),Qe=p(!1),ct=p(0),_t=p(0),yt=p(0),pt=p(null),Ze=p(0),ht=p(null),Lt=p(null),Gt=p([]),It=p(!1),jt=p(),bt=p(!1),w=p({}),$=p(!1),W=p({gameMode:Mo.TEACHER_PACED}),fe=p(!1),Ne=p(!1),Ye=p(""),Me=p(""),_e=p({accuracy:0,completion:0,powerups:0}),Oe=p(!1),je=p("");function lt(){bt.value=!bt.value}function gt(z){const Ve=z.room.options;return A(Ve)?q.value:Ve}let st=0;const ut=p([]);async function Rt(z,Ve){const Ct=Date.now();if(Ct-st<5e3)return ut.value;st=Ct;try{const{data:vt}=await Wv(z,"leaderboard",Ve);return ut.value=vt,ut.value}catch(vt){return console.error("Error fetching leaderboard data",vt),[]}}function ts(z){var Lu,zu,Mu,Gu,qu,Uu;const{room:{players:Ve,teams:Ct,type:vt,expiry:ws,duration:Us,mode:Pn,options:qn,totalPlayers:Un,code:oi=e.value,hash:uo,name:ii,totalPossibleMarks:lo,contestId:ri,image:ci=M.value,experiment:mo=G.value,groupData:po=K.value,issues:Ur=D.value,brandingOptions:I=ne.value,subscription:Z=S.value,theme:Ie=F.value,masteryPeakTheme:be=U.value,totalQuestionsInQuiz:tt,quizId:Zt=u.value,quizName:is=s.value,mysticPeakLevelMap:_n=Gt.value,paidOrganization:go=b.value,featureFlags:ya=w.value},generatedPlayers:Es,forcedRedirect:an=we.value,isCertificationGame:xn=Y.value,certificationRegion:fo=ce.value}=z,xr=C(z,"room.gameTranslation",pt.value),Wm=C(z,"room.versionId",pe.value),Ym=C(z,"room.hostOccupation",g.value),Km=C(z,"room.hostId",""),Jm=C(z,"room.hostSessionId",""),Xm=C(z,"room.startedAt",c.value),Zm=z.room.createdAt,ep=C(z,"room.endedAt",Ze.value),Du=Array.isArray(Ve)?[...Ve]:E.value,tp=Array.isArray(Ct)?[...Ct]:h.value,sp=vt;let Qr=Du.length;Yo(sp)&&Number(Un)>=0?Qr=Un:Array.isArray(Es)&&(Qr=Es.length);const Fr=qn.isTestTimerEnabled||qn.isMasteryPeakTimerEnabled||!1;let Br=0;Fr&&ws>Us&&(Br=ws-Us,Br<=Cn.MASTERY_PEAK_TIMER&&ga(Pn,vt)&&(Qe.value=!0)),Re.value=ga(Pn,vt)&&Fr,Se.value=Fr,ct.value=Br,e.value=oi,t.value=uo,Je(lo)&&(L.value=lo),Te.value=ri||null,a.value=vt,o.value=Pn,i.value=Si(z.room).willExpireAfter,r.value=Zm,c.value=Xm||c.value,Ze.value=ep||Ze.value,d.value=Km,f.value=Jm,M.value=ci,v.value=z.room.state,E.value=Du,h.value=tp,k.value=Qr,q.value=gt(z),G.value=mo,K.value=po,g.value=Ym,D.value=Ur,ne.value=I,w.value=ya,S.value=Z,F.value=Ie,U.value=be,de.value=tt,u.value=Zt,s.value=is||ii,pe.value=Wm,pt.value=xr,b.value=go,we.value=an,Gt.value=_n,Y.value=xn,ce.value=fo,It.value=z.room.isLearningTrackGame,jt.value=z.room.learningTrackMetaData,Me.value=z.room.options.practiceQuizId,$.value=!!((zu=(Lu=z.room)==null?void 0:Lu.metadata)!=null&&zu.eyesOnMe),(Gu=(Mu=z.room)==null?void 0:Mu.metadata)!=null&&Gu.lesson&&Ta((Uu=(qu=z.room)==null?void 0:qu.metadata)==null?void 0:Uu.lesson),$e.setGameDataState(uo,vt,z.room.state,mo)}const ls=T(()=>K_(n.value)),ks=T(()=>ga(o.value,a.value)),Ps=T(()=>{var z;return ks.value?!1:((z=ne.value)==null?void 0:z.theme)??!1}),Gs=T(()=>{var Ve;const z=(Ve=q.value)==null?void 0:Ve.masteryMode;return z&&!A(z)}),bs=T(()=>sm(g.value)),ve=T(()=>o.value===re.TEST||ls.value||q.value.showAnswers===Ut.ShowAnswers.NEVER||a.value===Be.SOLO&&Vh(ue.value)||o.value===re.FLASHCARD||Gs.value?!1:q.value.studentLeaderboard),dt=T(()=>typeof q.value.timer=="string"&&(q.value.timer===Ut.Timer.CLASSIC||q.value.timer===Ut.Timer.STRICT)),it=T(()=>typeof q.value.powerups=="string"&&q.value.powerups==="yes"),St=T(()=>!A(S.value)),Q=T(()=>{const{questionsPerAttempt:z}=q.value;return Je(z)&&z>=1}),et=T(()=>!0),zt=T(()=>{const Ve=Dt().playerId;return E.value.filter(Ct=>Ct.id!==Ve&&!Ct.isOver)}),qt=T(()=>$.value);function Vt(){e.value="",t.value="",s.value="",n.value=null,a.value="live",o.value=re.NORMAL,i.value=0,r.value=0,c.value=0,u.value="",l.value="",d.value="",m.value=0,_.value=0,f.value="",g.value="",v.value="",R.value="",E.value=[],h.value=[],k.value=0,L.value=null,q.value={},D.value=[],ee.value=[],ie.value=[],M.value="",oe.value=null,ye.value=!1,F.value={},U.value=_a.default,H.value={},S.value={},G.value="",K.value={type:Ys.NONE,ids:[],createToken:null,sourceRequest:"",sourceRequestMeta:{}},ne.value={},ue.value={},de.value=0,pe.value="",Ae.value=[],ge.value=!0,Te.value=null,Y.value=!1,ce.value="other",we.value=null,Se.value=!1,Re.value=!1,ct.value=0,_t.value=0,yt.value=0,pt.value=null,Ze.value=0,ht.value=null,Lt.value=null,Gt.value=[],ut.value=[],w.value={},It.value=!1,jt.value=void 0,fe.value=!1,Ne.value=!1,Ye.value="",Me.value="",_e.value={accuracy:0,completion:0,powerups:0},$e.setGameDataState("","","","live")}function ss(){return qc().$state}function Kt(z){const Ve=H.value;Vt(),z&&z.preserveClassroomInfo&&(H.value=Ve)}function Cs(z){const Ve=e.value;Vt(),z&&z.preserveRoomCode&&(e.value=Ve),H.value=z.classroomInfo}function Hs(z){n.value=z.traits}function y(z){var Ve;e.value=((Ve=z==null?void 0:z.room)==null?void 0:Ve.code)||e.value}function O(z){const{room:{hash:Ve,type:Ct,mode:vt,millisToStart:ws=0,scheduledAt:Us=0,assignments:Pn=null,experiment:qn="",subscription:Un={},version:oi,masteryPeakTheme:uo}}=z,ii=z.room.hostId||"",lo=z.room.hostSessionId||"",ri=z.room.hostOccupation||"",ci=z.room.issues||[],mo=z.room.brandingOptions||{},po=A(z.room.groupData)?K.value:z.room.groupData;t.value=Ve,a.value=Ct,o.value=vt,m.value=ws,_.value=Us,i.value=Si(z.room).willExpireAfter,ye.value=Pn?!0:ye.value,q.value=gt(z),K.value=A(po)?K.value:po,G.value=qn,d.value=ii,f.value=lo,g.value=ri,D.value=ci,ne.value=mo,S.value=en(Un)?Un:{},Ae.value=oi,It.value=z.room.isLearningTrackGame,jt.value=z.room.learningTrackMetaData,U.value=uo,$e.setGameDataState(Ve,Ct,v.value,qn)}function x(z){var Un;const{room:{hash:Ve,type:Ct,mode:vt,millisToStart:ws=0,scheduledAt:Us=0,groupData:Pn={},subscription:qn={}}}=z;t.value=Ve,a.value=Ct,o.value=vt,i.value=Si(z.room).willExpireAfter,m.value=ws,_.value=Us,q.value=gt(z),ye.value=!0,H.value={...H.value,assignmentId:((Un=z.lmsInfo)==null?void 0:Un.assignmentId)||""},K.value=Pn||K.value,S.value=en(qn)?qn:{},$e.setGameDataState(Ve,Ct,v.value,G.value)}function ae(z){h.value=C(z,"teams",h.value),E.value=C(z,"players",E.value)}function B(z){ts(z)}function me(z){const{generatedPlayers:Ve}=z;ts(z),E.value=Ve,k.value=Array.isArray(Ve)?Ve.length:k.value}function J(z){const{classroomInfo:Ve,roomHash:Ct}=z.classroomInfo;t.value=Ct,H.value=A(Ve)?H.value:Ve,$e.setGameDataState(Ct,a.value,v.value,G.value)}function De(z){const{player:{assignment:Ve={}},room:{code:Ct="",hash:vt=""}}=z;ts(z),A(Ve)||(ye.value=!0,H.value={...H.value,roomCode:Ct,roomHash:vt})}function He(z){var Ve;e.value=((Ve=z==null?void 0:z.room)==null?void 0:Ve.code)||e.value}function le(z){qc().$patch(z)}function he(z){var vt;const Ve=z.total,Ct={attempts:((vt=z.aggregations)==null?void 0:vt.attempts.map(ws=>({...ws,responses:ws.responses.map(Us=>({...Us,distribution:{...Us.distribution,total:Ve,correct:Us.distribution.correct+Us.distribution.yetToBeGraded,yetToBeGraded:0}}))})))||[]};te.value=Ct}function Pe(z){v.value=Et.RUNNING,h.value=C(z,"teams",h.value),E.value=C(z,"players",E.value),q.value.areHintsEnabled=z.areHintsEnabled||q.value.areHintsEnabled,q.value.isAnswerExplanationEnabled=z.isAnswerExplanationEnabled||q.value.isAnswerExplanationEnabled,$e.setGameDataState(t.value,a.value,Et.RUNNING,G.value)}function We(z){v.value=Et.COMPLETED,h.value=C(z,"teams",h.value),$e.setGameDataState(t.value,a.value,Et.COMPLETED,G.value)}function at(z){v.value=Et.STOPPED,h.value=C(z,"teams",h.value),$e.setGameDataState(t.value,a.value,Et.STOPPED,G.value)}function ds(z){E.value=Array.isArray(z.players)?[...z.players]:E.value,k.value=Array.isArray(z.players)?z.players.length:k.value,h.value=Array.isArray(z.teams)?[...z.teams]:h.value}function $t(z){E.value=Array.isArray(z.players)?[...z.players]:E.value,k.value=Array.isArray(z.players)?z.players.length:k.value,h.value=Array.isArray(z.teams)?z.teams:h.value}function Ns(z){h.value=C(z,"teams",h.value),E.value=E.value.map(Ve=>{var Ct;return{...Ve,...(Ct=z==null?void 0:z.leaderboard)==null?void 0:Ct.find(vt=>vt.playerId===Ve.playerId)}})}function Ot(z){H.value={...H.value,encodedParam:z.encodedParam,decoded:!1}}function os(z){H.value={...H.value,decoded:!0,roomHash:z.roomHash,roomCode:z.roomCode,courseId:z.courseId,lmsName:z.lmsName}}function gs(z){var Ct,vt,ws;const Ve=(ws=(vt=(Ct=z==null?void 0:z.user)==null?void 0:Ct.lmsInfo)==null?void 0:vt.gcl)==null?void 0:ws.studentId;Ve&&(H.value={...H.value,studentId:Ve})}function Qt(z){const{teams:Ve}=z;h.value=Array.isArray(Ve)?[...Ve]:h.value}function Wt(z){const{teams:Ve,players:Ct,totalPlayers:vt}=z;h.value=Array.isArray(Ve)?[...Ve]:h.value,E.value=Array.isArray(Ct)?[...Ct]:E.value,k.value=Array.isArray(vt)?vt.length:k.value}function Ds(z){const{hostId:Ve,hostSessionId:Ct,roomCode:vt,roomHash:ws,gameType:Us,gameMode:Pn}=z;d.value=Ve,f.value=Ct,e.value=vt,t.value=ws,a.value=Us,o.value=Pn,$e.setGameDataState(t.value,Us,v.value,G.value)}function Xs(z){ct.value=z}function cs(z){Qe.value=z}function ns(z){Se.value=z}function ms(z){U.value=z}function pn(z){_t.value=z}function kn(){v.value=Et.PAUSED,$e.setGameDataState(t.value,a.value,Et.PAUSED,G.value)}function qs(z){$.value=z,$e.setGameDataState(t.value,a.value,"eyesOnMe",G.value)}function Tn(z){yt.value=z}function ei(z){ht.value=z}function ti(z){Lt.value=z}function si(z){if(A(z))return;const Ve=xo(z,!0);Object.keys(Ve).forEach(vt=>{q.value[vt]!==Ve[vt]&&(q.value[vt]=Ve[vt])})}function ni(){q.value.showAnswers=Ut.ShowAnswers.ALWAYS}function j(){q.value.showAnswers=Ut.ShowAnswers.PARTIAL}function Ge(z){D.value=[...D.value,z]}function kt(z){E.value=z}function js(){Oe.value=!Oe.value}function nn({playerId:z,userAvatar:Ve}){const Ct=E.value.findIndex(vt=>vt.playerId===z);Ct!==-1&&(E.value[Ct].userAvatar=Ve)}function gn(z){fe.value=z}function yn(z){Ne.value=z}function Mn(z){Ye.value=z}function Gn(z){_e.value=z}function ea(){return q.value.duelVersion===2.1}function fn(z){z&&(pe.value=z)}function Ta(z){W.value=z,z.eyesOnMe&&qs(z.eyesOnMe)}function ai(){var z;return((z=W.value)==null?void 0:z.gameMode)===Mo.STUDENT_PACED}function co(z){je.value=z}return{roomCode:e,roomHash:t,recentLeaderboardPlayerdata:ut,quizName:s,quizTraits:n,gameType:a,gameMode:o,expiry:i,createdAt:r,startedAt:c,quizId:u,quizType:l,hostId:d,timeRemainingToStart:m,scheduledTime:_,hostSessionId:f,hostOccupation:g,gameState:v,country:R,players:E,teams:h,totalPlayers:k,totalPossibleMarks:L,gameOptions:q,issues:D,grade:ee,subjects:ie,image:M,accuracy:oe,isClassroomGame:ye,theme:F,masteryPeakTheme:U,classroomInfo:H,hostPrivileges:S,experiment:G,groupData:K,brandingOptions:ne,isCorporateBrandingOption:Ps,quizCreator:ue,totalQuestionsInQuiz:de,quizVersionId:pe,version:Ae,isQuizPublic:ge,contestId:Te,isCertificationGame:Y,certificationRegion:ce,forcedRedirect:we,isTestTimerEnabled:Se,timedMasteryPeakMode:Re,startMPTimer:Qe,testTimerCounter:ct,pauseFor:_t,pauseCountdownCount:yt,gameTranslationLocale:pt,endedAt:Ze,replayAsyncModalOptions:ht,roomHashBeforeReplay:Lt,mysticPeakLevelMap:Gt,isLearningTrackGame:It,learningTrackMetaData:jt,showP2P:bt,aggregations:te,paidOrganization:b,isMasteryMode:Gs,activePlayersList:zt,isPlayerTheGameHost:et,isAdaptiveLearningGame:Q,isGameStartedByProHost:St,isPowerupsOn:it,isQuestionTimerOn:dt,areAllGameQuestionsWithoutCorrectAnswer:ls,canShowResponseStats:ve,isAvatarCustomizerVisible:Oe,isQuizForCoins:fe,isPWCSummaryVisible:Ne,baseRoomHash:Ye,practiceQuizId:Me,coinDistribution:_e,isEyesOnMeOn:qt,lessonMetaData:W,getState:ss,exitGame:Kt,roomCodeBeingTyped:He,setQuizInfo:le,gameStarted:Pe,resetGame:Cs,setQuestions:Hs,checkRoomInProgress:y,checkRoomResponded:O,gameIssuesUpdate:Ge,checkAssignmentResponded:x,teamPlayerShuffled:ae,joinSoloGameResponded:me,rejoinGameInProgress:J,rejoinGameResponded:De,gameCompleted:We,gameStopped:at,newPlayerJoined:ds,playerDeleted:$t,proceedGameResponded:Ns,enterLMSFlow:Ot,LMSLinkDecoded:os,userSignedIn:gs,setCurrentTeamRank:Qt,fetchTeamPlayersResponded:Wt,hostGameResponded:Ds,setTestTimerCounter:Xs,setStartMPTimer:cs,setIsTestTimerEnabled:ns,setMasteryPeakTheme:ms,pauseGame:pn,pauseLesson:kn,setEyesOnMe:qs,countdownPause321:Tn,setReplayAsyncModalOptions:ei,setRoomHashBeforeReplay:ti,updateGameOptions:si,enableAnswerFeedback:ni,disableAnswerFeedback:j,joinRoomResponded:B,updateP2PFlag:lt,setAggregations:he,updateGamePlayersData:kt,featureFlags:w,toggleAvatarCustomizer:js,refreshPlayerAvatar:nn,isQFWHost:bs,setIsGameForCoins:gn,setIsPWCSummaryVisible:yn,setBaseRoomHash:Mn,setCoinDistribution:Gn,isSnSV2Enabled:ea,fetchLeaderboardData:Rt,setQuizVersionId:fn,setLessonMetaData:Ta,isLessonRunningInStudentPacedMode:ai,overlay:je,setOverlay:co}}),mt=qc,Uc={PRO:"PRO",STUDENT:"STUDENT"},xc=Pt("appSettings",()=>{var ye;const e=rs(),t=mt(),s=Ht(),n=ps(),a=p(!0),o=p(!0),i=p(!0),r=p(!1),c=p(((ye=ma.find(F=>F.lang==="English"))==null?void 0:ye.locale)||""),u=p(Wn.NEXT_THEME_TO_BE_SET_ONCE),l=p(Yr.GAME_HEADER.STANDARD),d=p(!1),m=p(!1),_=p(Wn.NEXT_THEME_TO_BE_SET_ONCE),f=T(()=>e.themesAllowedToUser.length>=3),g=!0,v=T(()=>{const{gameOptions:F,gameMode:U}=t,S=Aa().currentQuizData.quizType||"",G=U===re.TEACHER_PACED,K=U===re.FLASHCARD||S===zo.FLASHCARD;let ne;return A(S)?ne=Go({gameMode:U}):ne=S===zo.PRESENTATION,G||ne||K?!1:A(F)?!0:F.memes===!0}),R=T(()=>{const{gameMode:F,gameType:U,gameOptions:H}=t;return!(U===Be.LIVE&&Go({gameMode:F}))&&F!==re.TEACHER_PACED&&H.studentMusic}),E=T(()=>{const{slidesFlowControlType:F}=s;return F!==Xt.NONE});Ka(()=>t.gameOptions.isDuelEnabled,F=>{F&&(u.value=rt.SNS)});function h(F){const U=xc();if(F.appSettings){const H={...F.appSettings};e.language&&(H.language=e.language),U.$patch(H),l.value=Yr.GAME_HEADER.STANDARD,F.appSettings.isThemeAsLucky&&(u.value=Ec(e.themesAllowedToUser)),Ii(u.value||"")||(u.value=Wn.DEFAULT_THEME,_.value=Wn.DEFAULT_THEME)}}async function k(F){const U={...F};"selectedLanguage"in U&&(await L(U.selectedLanguage||"en"),delete F.selectedLanguage),"selectedTheme"in U&&u.value!==U.selectedTheme&&(q({selectedTheme:U.selectedTheme}),delete F.selectedTheme),xc().$patch(U)}async function L(F="en"){const U=await Ni.setCurrentLanguage(F);return U.success?c.value=F:n.toggleSnackBar({isVisible:!0,options:{message:"Unable to change language, please try again."}}),U}function q({selectedTheme:F,isThemeAsLucky:U=!1,currentThemeWhichWasSetOnce:H=""}){const S=Ii(F||"")||U,G=U&&f.value;let K;G?K=Ec(e.themesAllowedToUser):S?K=F:K=rt.CLASSIC,N.invariant(S,`setCurrentTheme: the theme to set (${F}) is not a valid theme. So instead setting (${K})`),u.value=F,d.value=U,_.value=Ii(H||"")?H:_.value}function D(F){F.isAppInProMode===!0&&(a.value=!1)}function ee(F){const U=e.isUserFromAustralia,H=F===Uc.PRO,S=Wn.DEFAULT_THEME;q(H||U?{selectedTheme:rt.CLASSIC,currentThemeWhichWasSetOnce:rt.CLASSIC}:{selectedTheme:u.value||S,currentThemeWhichWasSetOnce:_.value||S})}function ie(){var F;a.value=!1,o.value=!1,i.value=!1,r.value=!1,c.value=((F=ma.find(U=>U.lang==="English"))==null?void 0:F.locale)||"",u.value=Wn.NEXT_THEME_TO_BE_SET_ONCE,l.value=Yr.GAME_HEADER.STANDARD,d.value=!1,_.value=Wn.NEXT_THEME_TO_BE_SET_ONCE,m.value=!1}function M(F){m.value=F}async function oe(){var S;const F=(S=xt(ma,{lang:"English"}))==null?void 0:S.locale,U=Ts.getCookie("locale")||V_().split("-")[0];Dr(U)&&U!==c.value&&U!==F&&await L(U)}return{showMemes:a,playMusic:o,playSFX:i,readAloud:r,selectedLanguage:c,selectedTheme:u,gameHeader:l,isThemeAsLucky:d,currentThemeWhichWasSetOnce:_,isSetThemeAsLuckyVisible:f,isThemeChangeAllowed:g,isMemeSettingToggleVisible:v,isMusicSettingToggleVisible:R,isReadAloudSettingToggleVisible:E,setCurrentTheme:q,setCurrentLanguage:L,setAppSettings:k,loadPreviousContext:h,setAppMode:D,setDefaultThemeForUser:ee,$reset:ie,setEnableToolkit:M,toolkit:m,hydrateLocale:oe}}),ln=xc,KS=new $g,JS=KS;function XS({environment:e,screenType:t,locale:s,country:n,platform:a,featureFlags:o,userId:i,subPlanId:r,region:c}){JS.init({commonStoreProps:{environment:e,screenType:t,locale:s,country:n,platform:a,featureFlags:o,userId:i,subPlanId:r||null,region:c}})}const Xl=1e3;let gc;const jm=Pt("applicationContext",()=>{var bs;const e=rs(),t=ln(),s=Pu(),n=ps(),a=Dt(),o=hs(),i=Ht(),r=On(),c=Zn(),u=tn(),l=mt(),d=Jn(),m=Ga(),{isDesktop:_}=Qo(),f=p({}),g=p(Math.random()*1e3<=2),v=p(!1),R=p(!1),E=p(!1),h=p(!1),k=p($n.ACTIVE),L=p($n.KILLED),q=p(!1),D=p(!1),ee=p(!1),ie=p(Rc.WEB),M=p(!1),oe=p(""),ye=p(!1),F=p(!1),U=p([]),H=p({lastTickOn:0,count:0,interval:Xl}),S=p({isPlaying:!1,isDisabled:!1,highlight:null,data:null}),G=p({[Co.MUSIC]:!1,[Co.SFX]:!1}),K=p({csrf:{header:Ts.getCookie("x-csrf-token")||null,cookie:Ts.getCookie("_csrf")||null}}),ne=p([]),ue=p(""),de=p({}),pe=p(!1),Ae=T(()=>u.currentPage===P.List.LANDING.HOME&&!ye.value),ge=T(()=>q.value),Te=T(()=>!v.value&&E.value&&!h.value),b=T(()=>{const{hasJoinedTheGame:ve}=a,dt=rn("checkRoom",U.value).isIt,it=rn("checkAssignment",U.value).isIt,St=rn("checkCourse",U.value).isIt,Q=rn("join",U.value).isIt,et=rn("rejoin",U.value).isIt,zt=rn("getQuestions",U.value).isIt,qt=rn("powerupsConfig",U.value).isIt;return dt||it||St||Q||et||zt||qt||ve});function te(){f.value={},$e.setSessionId(""),g.value=Math.random()*1e3<=2,v.value=!1,R.value=!1,E.value=!1,h.value=!1,k.value=$n.ACTIVE,L.value=$n.KILLED,q.value=!1,D.value=!1,ee.value=!1,ie.value=Rc.WEB,M.value=!1,oe.value="",$e.setRequestCountry(""),ye.value=!1,F.value=!1,U.value=[],H.value={lastTickOn:0,count:0,interval:Xl},S.value={isPlaying:!1,isDisabled:!1,highlight:null,data:null},G.value={[Co.MUSIC]:!1,[Co.SFX]:!1},K.value={csrf:{header:Ts.getCookie("x-csrf-token")||null,cookie:Ts.getCookie("_csrf")||null}},ne.value=[],ue.value=""}function Y(){const ve=jm(),{previousContextLoaded:dt,deviceInfo:it,currentAppState:St,previousAppState:Q,clientType:et,hasSocketConnectedOnce:zt,isAppInProMode:qt}=ve.$state,Vt={previousContextLoaded:dt,deviceInfo:it,currentAppState:St,previousAppState:Q,clientType:et,hasSocketConnectedOnce:zt,isAppInProMode:qt};te(),ve.$patch(Vt)}function ce(){q.value=!0}function we(ve){h.value=ve.disconnectedManually,v.value=!1}function Se(){v.value=!0,E.value=!0,h.value=!1,M.value=!1}function Re(){const ve=dt=>{const it=Math.floor((dt-H.value.count)/H.value.interval);if(it>=1){const St=(dt-H.value.count)%H.value.interval;H.value.lastTickOn=Date.now()-Math.round(St),H.value.count+=it*H.value.interval}gc=window.requestAnimationFrame(ve)};gc=window.requestAnimationFrame(ve)}async function Qe({openingRoute:ve}){const dt=ln();Re();const it={isAppInProMode:window.isProJoinRoute===!0,isAppInEmbedMode:P.matches(ve.name,P.List.EMBED)};ye.value=it.isAppInProMode,F.value=it.isAppInEmbedMode,t.setAppMode(it),window.requestCountry&&(oe.value=window.requestCountry,$e.setRequestCountry(window.requestCountry)),fe(),st({isOnLoad:!0,screen:ve.name}),await m.loadPreviousContext(),await Promise.allSettled([ks(),e.loadUser(),jt()]),await ct(),dt.setDefaultThemeForUser(it.isAppInProMode?Uc.PRO:Uc.STUDENT),e&&Ir.setUserAttributes(e),Ir.triggerEvent(Dm.GAME_LOAD)}async function ct(){const ve=Ts.getCookie("quizizz_uid")||"null";f.value={userAgent:window.navigator.userAgent,quizizzUID:ve,experimentSlot:Ts.getCookie("QUIZIZZ_EXP_SLOT")||"null",experimentName:Ts.getCookie("QUIZIZZ_EXP_NAME")||"null"},$e.setSessionId(ve)}function _t(ve){f.value={...f.value,orientation:ve}}function yt(){D.value=!1}function pt(){D.value=!0}function Ze(){D.value?(yt(),m.saveCurrentContext()):pt()}function ht(){l.gameType!==Be.SOLO&&(ee.value=!0)}function Lt(){ee.value=!1}function Gt(ve){const dt={isPlaying:Yn(ve,"isPlaying")?ve.isPlaying:S.value.isPlaying,isDisabled:Yn(ve,"isDisabled")?ve.isDisabled:S.value.isDisabled,highlight:Yn(ve,"highlight")?ve.highlight:S.value.highlight,data:Yn(ve,"data")?ys(ve.data):S.value.data};S.value={...S.value,...dt}}function It(ve){G.value={...G.value,...ve}}async function jt(){try{await Iv(),kl(!0)}catch(ve){N.error("at action: checkIfGameDomainIsAvailable",ve),kl(!1)}}async function bt(){try{const ve=Date.now();if(!(await Wf()).connected){const it=E.value?"soc_disconn_init":"soc_disconn_session",St=Date.now()-ve;return d.toggleOverlay({type:"socketConnectError"}),je({issueType:it,params:{timeTaken:St}}),!1}return Se(),d.socketConnected(),!0}catch(ve){N.error("at action: connectSocket",ve)}}async function w(){try{if(!(await Yf()).connected)return;R.value=!0,s.subscribeForNotifications()}catch(ve){N.error("at action: connectSocketForNotification",ve)}}async function $(){try{Kf()}catch(ve){N.error("at action: disconnectSocket",ve)}}function W({callBeingUpdated:ve,updationType:dt}){const it=Gf(U.value,ve,dt);U.value=it.callsList}function fe({isFirstTouch:ve=!1}={}){const dt=n.media,it=W_(dt,ve);n.setDeviceMediaDetails({media:it});const{orientation:St}=f.value;it.orientation!==St&&_t(it.orientation)}function Ne({appStateToBe:ve}){if(ve===k.value)return;L.value=k.value,k.value=ve;const{hasJoinedTheGame:dt}=a;Yt([$n.INACTIVE,$n.KILLED,$n.BACKGROUND],ve)&&(dt&&a.updateIncompleteGame(o.questionTimer,i.currentId,i.orderedOriginalResponses),m.saveCurrentContext())}async function Ye({redirectTo:ve,preserveClassroomInfo:dt=!1}={}){const{appSettingsToRevertAtGameEnd:it}=o,St={...it},{slidesFlowControlType:Q}=i;Q===Xt.FULL&&r.doPlayerMetadataUpdation(),(v.value||!v.value&&E.value&&!h.value)&&$(),c.exitGame({preserveClassroomInfo:dt,redirectTo:ve}),(await Ue(()=>import("./Sound.BvJFxMVh.js").then(zt=>zt.b),__vite__mapDeps([26,1,2]))).default.destroyOverriddenSettings(),!A(ve)&&(ve!=null&&ve.name)&&u.requestToChangePage({to:ve.name,metaData:ve.metaData}),bt(),A(St)||t.setAppSettings(t)}function Me({query:ve,hasFilters:dt=!1}){$e.logEvent(as.SEARCH_SUBMIT,{query:ve,hasFilters:dt})}function _e(ve){$e.logEvent(as.GAME_CARD_CLICK,{...ve,isNewLandingPage:Ae.value})}function Oe(){m.saveCurrentContext(),setTimeout(()=>{window.location.reload()},1e3)}function je({issueType:ve,params:dt={}}){if(!g.value)return;const it=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,St={issueType:ve,...dt};it&&(St.effType=it.effectiveType,St.downlink=it.downlink,St.connType=it.type||""),$e.logEvent(as.NETWORK_ISSUE,St)}async function lt(ve){const dt=un(ve),it={shouldRetry:!1};try{if(dt)switch(dt){case"user.AUTH_TOKEN_EXPIRED":e.handleAuthTokenRefresh(),it.shouldRetry=!0;break;case"user.MISMATCHED_AUTH":window.location.reload();break;default:}}catch(St){N.error("Error at action handleCommonApplicationErrors",St)}return it}function gt({eventName:ve,eventPayload:dt={}}){window.parent.postMessage({eventName:ve,payload:{gameId:l.roomHash,playerId:a.playerId,numCorrect:a.totalCorrect,numAttempted:i.totalInteractiveSlidesAttempted,gameState:l.gameState,totalQuestionInQuiz:i.totalQuestionsInGame,...dt}},"*")}function st({isOnLoad:ve=!1,screen:dt=null}){let it=No(dt)?dt:u.currentPage;if(P.matches(it,P.List.IN_GAME)&&(it="inGame"),!ve){$e.logEvent(as.PAGE_VIEW,{screen:it},"immediate",{attachAdditionalGameParams:!1});return}const St={areNetworkEventsAllowedInSession:g.value},{eventParams:Q}=tv(St,it);$e.logEvent(as.APP_LOADING,Q,"immediate")}function ut(){cancelAnimationFrame(gc)}function Rt({loader:{name:ve="",meta:dt={}}}){N.invariant(No(ve)&&!A(ve),`startGlobalLoader: loader 'name' needs to be a non empty string. Recieved '${ve}'`);const it={id:Symbol(ve),name:ve,meta:dt};return ne.value=[...ne.value,it],it}function ts({loader:{id:ve}}){N.invariant(jp(ve),`endGlobalLoader: loader 'id' needs to be a Symbol. Recieved '${ve.toString()}'`);const dt=ne.value.filter(({id:it})=>it!==ve);return ne.value=dt,dt}function ls(ve){ue.value=ve}async function ks(){try{const{response:{data:ve}}=await gE();if(ve&&ve.features)return Ps(ve.features),Og({featureFlags:ve.features}),ve.features}catch(ve){return N.error("Error at fetching featureFlags",ve),{features:{},status:"failed"}}}function Ps(ve){de.value=ve}function Gs(ve){pe.value=ve}return XS({environment:"production",country:oe.value,locale:f.value.locale,platform:"web",featureFlags:de.value,screenType:_?"desktop":"mobile",userId:e.mongoId,subPlanId:((bs=(e.subscriptions??[])[0])==null?void 0:bs.planId)??"",region:""}),{deviceInfo:f,areNetworkEventsAllowedInSession:g,sessionDetails:K,socketConnected:v,notifSocketConnected:R,hasSocketConnectedOnce:E,socketDisconnectedManually:h,callsInProgress:U,currentAppState:k,previousAppState:L,previousContextLoaded:q,isMenuVisible:D,isLeaderBoardVisible:ee,clientType:ie,needToCheckForFirewallIssues:M,areSoundsLoaded:G,requestCountry:oe,readAloud:S,isAppInProMode:ye,isAppInEmbedMode:F,ticker:H,globalLoaders:ne,isApplicationLoaded:ge,hasDisconnected:Te,isEnterGameInteractionDisabled:b,socketHandshakeInfo:ue,featureFlags:de,isUserOnNewLandingPage:Ae,proceedToActivityViaLink:pe,loadPreviousContext:ce,updateReadAloud:Gt,endGlobalLoader:ts,startGlobalLoader:Rt,stopTicker:ut,triggerEmbedEvent:gt,handleCommonApplicationErrors:lt,logNetworkIssue:je,reloadFromNetworkIssue:Oe,gameCardClickInteraction:_e,onSearchSubmitInteraction:Me,handleExitGame:Ye,handleAppStateChange:Ne,loadApplication:Qe,setMusicLoadStatus:It,connectSocket:bt,connectSocketForNotification:w,disconnectSocket:$,toggleMenu:Ze,exitGame:Y,updateCallInProgressStatus:W,socketConnectedSuccess:Se,hideMenu:yt,showMenu:pt,socketDisconnected:we,checkIfGameDomainIsAvailable:jt,setDeviceMedia:fe,setSocketHandshakeInfo:ls,getFeatureFlags:ks,setProceedToActivityViaLink:Gs,hideLeaderboard:Lt,showLeaderboard:ht}}),es=jm,ZS={__name:"GlobalLoader",props:{name:{type:String,required:!0}},setup(e){const t=e,s=T(()=>{const o=es().globalLoaders;return(t.name?o.find(r=>r.name===t.name):null)||{}}),n=T(()=>!A(s.value));return(a,o)=>n.value?za(a.$slots,"loader",Vp(_d({key:0},s.value)),()=>[hi(" Loading... ")]):za(a.$slots,"default",{key:1})}},eR={class:"q-circle",viewBox:"25 25 50 50"},tR={__name:"QLoader",props:{size:{type:[Number,String],default:"40"},theme:{type:String,default:"",validator:e=>["","white","lilac","dark","red","fadedWhite"].includes(e)},isAnimating:{type:Boolean,default:!0}},setup(e){const t=e,s=p(!1),n=p({}),a=p(null),o=p(null),i=p(null);function r(){if(!window.CSS||!window.CSS.supports||!window.CSS.supports("stroke","#FFFFFF")){s.value=!0,fd().then(()=>{const u=a.value;if(u){const{borderWidth:l}=u.style;n.value={height:`${t.size-l}px `,width:`${t.size-l}px`}}});return}const c=Math.ceil(Number(t.size)/5);try{o.value.setAttribute("style",`width: ${t.size}px; height: ${t.size}px`),i.value.setAttribute("style",`width: ${c}px; height: ${c}px`)}catch(u){N.error("Error at QLoader mounted",u)}}return Ui(()=>{r()}),Ka(()=>t.size,()=>{r()}),(c,u)=>(Le(),Ke("div",{ref_key:"loader",ref:o,class:_s(["q-loader",[{"original-loader":!s.value,animate:e.isAnimating}]])},[s.value?(Le(),Ke("div",{key:0,ref_key:"fallbackLoader",ref:a,class:_s(["q-fallback-loader",[e.theme]]),style:da(n.value)},null,6)):(Le(),Ke(Da,{key:1},[(Le(),Ke("svg",eR,[Ee("circle",{class:_s(["q-path",[e.theme]]),cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"10","stroke-miterlimit":"0"},null,2)])),Ee("div",{ref_key:"dot",ref:i,class:_s(["q-dot",[e.theme]])},null,2)],64))],2))}},sR=sn(tR,[["__scopeId","data-v-e9591aa1"]]),nR={name:"ThemedBackgroundDiv",inject:["media","selectedTheme"],props:{fixThemeTo:{type:String,default:"",validator:e=>Ii(e)||e===""},assetType:{type:String,default:"auto",validator:e=>["auto","1080p","720p","tabletPortrait","mobilePortrait"].includes(e)},applyTheme:{type:Boolean,default:!0}},setup(){const{isDesktop:e}=Qo();return{isDesktop:e}},data(){return{ctx:null,canvas:null,flakes:[],angle:0,ThemeNames:rt,parallaxBgPos:"50% 50%, 50% 50%, center",mouseMoveCoordinatesX:0,velocity:{x:0,y:0},current:{x:0,y:0},config:{friction:.4,ease:.1}}},computed:{...ua(mt,["pauseFor","pauseCountdownCount","brandingOptions"]),...ua(tn,["currentPage"]),themeToShow(){return A(this.fixThemeTo)?this.selectedTheme:this.fixThemeTo},containerClasses(){if(!this.applyTheme)return[];const e=["themed-background",this.themeToShow,`theme-${this.themeToShow}`];return this.customBranding||e.push("bg-basecolor"),this.isCurrentPageWaiting&&this.themeToShow===rt.CLASSIC&&e.push(`theme-${this.themeToShow}-waiting`),e},containerStyles(){var t;if(this.customBranding)return{backgroundColor:`#${(t=this.brandingOptions)==null?void 0:t.theme}`};if(this.pauseFor>0||this.pauseCountdownCount>0)return{backgroundImage:"none !important",backgroundColor:"black !important"};const e=this.themeImageUrl;return{backgroundImage:`url("${e}")`,"--theme-bg-image":`url("${e}")`}},customBranding(){var e;return((e=this.brandingOptions)==null?void 0:e.theme)??!1},themeImageUrl(){let{assetType:e}=this;return this.assetType==="auto"&&(e=this.calculateAssetType),Ma.getThemeAssetsUrl(this.themeToShow,this.getThemeFileName(e))},calculateAssetType(){let e=1080;switch(!A(window.screen)&&typeof window.screen.availWidth=="number"&&(e=window.screen.height*window.devicePixelRatio),this.media.type){case Mt.PHONE:return this.media.orientation===la.LANDSCAPE?"720p":"mobilePortrait";case Mt.TABLET:return this.media.orientation===la.LANDSCAPE?"auto":"tabletPortrait";case Mt.DESKTOP:default:return e>720?"auto":"720p"}},isCurrentPageWaiting(){return P.matches(this.currentPage,P.List.IN_GAME.WAITING,2)},canStartParallax(){return!this.customBranding&&this.themeToShow===rt.CLASSIC&&this.isDesktop&&this.isCurrentPageWaiting}},watch:{canStartParallax(e){e&&this.loadClassicAssets()}},mounted(){this.canStartParallax&&this.loadClassicAssets()},methods:{getThemeFileName(e=this.assetType){switch(e){case"720p":case"tabletPortrait":case"mobilePortrait":return`bg_image_${e}`;case"auto":default:return"bg_image"}},loadClassicAssets(){Hm(["https://cf.quizizz.com/themes/v2/classic/macaronies-blur.png","https://cf.quizizz.com/themes/v2/classic/macaronies-non-blur.png","https://cf.quizizz.com/themes/v2/classic/lobby_550.svg"]).then(this.handleParallax)},onMousemove(e){const t=window.innerWidth/2,s=e.clientX;this.mouseMoveCoordinatesX=s-t},handleParallax(){let e;const t=()=>{const s=Date.now();e===void 0&&(e=s);const n=this.mouseMoveCoordinatesX-this.current.x;this.velocity.x+=n*this.config.ease,this.velocity.x*=1-this.config.friction,this.current.x+=this.velocity.x;const a=this.calculatePosition((s-e)%5e3/5e3,200),o=this.calculatePosition((s-e+1e3)%5e3/5e3,200),i=`${50-this.current.x*.008}% 50%`,r=`${50-(a.x+this.current.x)*.01}% ${50-a.y*.02}%`,c=`${50-(o.x+this.current.x)*.02}% ${50-o.y*.04}%`;this.parallaxBgPos=`${c}, ${r}, ${i}`,setTimeout(t,50)};setTimeout(t,150)},calculatePosition(e,t){const s=3*t,n=e*s;let a,o;if(n<=t){const i=n/t;a=t*i,o=0}else if(n<=2*t){const i=(n-t)/t;a=t+(t/2-t)*i,o=0+t*Math.sqrt(3)/2*i}else{const i=(n-2*t)/t;a=t/2+(0-t/2)*i,o=t*Math.sqrt(3)/2+(0-t*Math.sqrt(3)/2)*i}return{x:a,y:o}}}};function aR(e,t,s,n,a,o){return o.canStartParallax?(Le(),Ke("div",{key:0,class:_s(["relative bg-no-repeat bg-cover bg-center grid",[o.containerClasses]])},[Ee("div",{class:"classic-assets-container w-full h-full",style:da({backgroundPosition:a.parallaxBgPos}),onMousemove:t[0]||(t[0]=(...i)=>o.onMousemove&&o.onMousemove(...i))},[za(e.$slots,"default",{},void 0,!0)],36)],2)):(Le(),Ke("div",{key:1,class:_s(["relative bg-no-repeat bg-cover bg-center grid",[o.containerClasses]]),style:da(o.containerStyles)},[za(e.$slots,"default",{},void 0,!0)],6))}const oR=sn(nR,[["render",aR],["__scopeId","data-v-60d0ea33"]]),iR={name:"ThemedContentDiv",props:{uiVariant:{type:String,default:"black",validator:e=>["none","white","black","darkerBlack","lighterBlack","darkestBlack","mysticPeak"].includes(e)}},computed:{containerClasses(){return this.uiVariant==="none"?["themed"]:["themed",this.uiVariant]}}};function rR(e,t,s,n,a,o){return Le(),Ke("div",{class:_s(o.containerClasses)},[za(e.$slots,"default",{},void 0,!0)],2)}const cR=sn(iR,[["render",rR],["__scopeId","data-v-5e383631"]]),uR={name:"Tooltip",props:{showOnFocus:{type:Boolean,default:!1},showOnHover:{type:Boolean,default:!1},text:{type:String,default:""},isVisible:{type:Boolean,default:!1},showTool:{type:Boolean,default:!0},tooltipStyle:{type:Object,default:()=>({})},tooltipContentStyle:{type:Object,default:()=>({})},position:{type:String,default:"bottom",validator:e=>["top","right","bottom","left","top-right","top-left","bottom-right","bottom-left","top-over"].includes(e)},fallbackPosition:{type:String,default:"",validator:e=>["","top","right","bottom","left","top-right","top-left","bottom-right","bottom-left"].includes(e)},theme:{type:String,default:"default",validator:e=>["error","warning","success","default","dark"].includes(e)},applyShadow:{type:Boolean,default:!1},hasTextSlot:{type:Boolean,default:!1},size:{type:String,default:"med",validator:e=>["large","med","small","xs"].includes(e)}},emits:["onTooltipClick","onTooltipOptionEnter"],data(){return{showManually:!0,currentPosition:"",transitionEndTimeout:null}},computed:{actionClass(){return this.isVisible?"default-action":this.showOnFocus&&this.showOnHover?"focus hover":this.showOnFocus?"focus":this.showOnHover?"hover":""},themeClass(){return this.theme},shadowClass(){return this.applyShadow?"apply-shadow":""},sizeClass(){return`size-${this.size}`}},mounted(){var e;this.currentPosition=this.position,this.transitionEndTimeout=setTimeout(()=>{this.onTooltipTransitionEnd()},200),(e=this.$refs.tooltipContainer)==null||e.addEventListener("transitionend",this.onTooltipTransitionEnd)},beforeUnmount(){var e;this.transitionEndTimeout&&clearTimeout(this.transitionEndTimeout),(e=this.$refs.tooltipContainer)==null||e.removeEventListener("transitionend",this.onTooltipTransitionEnd)},methods:{onTooltipTransitionEnd(){switch(this.currentPosition){case"top":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop());break}case"right":{this.setFallbackPosition(this.calculateIfNoSpaceFromRight());break}case"bottom":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom());break}case"left":{this.setFallbackPosition(this.calculateIfNoSpaceFromLeft());break}case"top-right":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop()||this.calculateIfNoSpaceFromRight());break}case"top-left":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop()||this.calculateIfNoSpaceFromLeft());break}case"bottom-right":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom()||this.calculateIfNoSpaceFromRight());break}case"bottom-left":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom()||this.calculateIfNoSpaceFromLeft());break}}},calculateIfNoSpaceFromTop(){const e=this.$refs.tooltipContainer.getBoundingClientRect().top,t=this.$refs.tooltipContent.offsetHeight;return e<t},calculateIfNoSpaceFromRight(){const e=document.documentElement.getBoundingClientRect().right,t=this.$refs.tooltipContainer.getBoundingClientRect().right,s=e-t,n=this.$refs.tooltipContent.offsetWidth;return s<n},calculateIfNoSpaceFromBottom(){const e=document.documentElement.getBoundingClientRect().bottom,t=this.$refs.tooltipContainer.getBoundingClientRect().bottom,s=e-t,n=this.$refs.tooltipContent.offsetHeight;return s<n},calculateIfNoSpaceFromLeft(){const e=this.$refs.tooltipContainer.getBoundingClientRect().left,t=this.$refs.tooltipContent.offsetWidth;return e<t},setFallbackPosition(e=!1){e&&typeof this.fallbackPosition=="string"&&this.fallbackPosition!==""&&(this.currentPosition=this.fallbackPosition),this.$refs.tooltipContainer.removeEventListener("transitionend",this.onTooltipTransitionEnd)},onTooltipOptionEnter(e){e.stopPropagation(),this.hasTextSlot&&this.$emit("onTooltipOptionEnter")},onTooltipContainerClick(e){this.$emit("onTooltipClick",e)}}},lR=["tabindex"],dR=["innerHTML"];function mR(e,t,s,n,a,o){return Le(),Ke("div",{ref:"tooltipContainer",class:_s(["show-tooltip cursor-pointer",[o.actionClass,o.themeClass]]),style:da(s.tooltipStyle),tabindex:s.hasTextSlot?"0":"-1",onKeyup:t[1]||(t[1]=od((...i)=>o.onTooltipOptionEnter&&o.onTooltipOptionEnter(...i),["enter"]))},[za(e.$slots,"default",{},void 0,!0),Ee("div",{ref:"tooltipContent",class:_s(["content",[a.currentPosition,o.themeClass,o.shadowClass,o.sizeClass]]),style:da(s.tooltipContentStyle),onClick:t[0]||(t[0]=i=>o.onTooltipContainerClick(i)),innerHTML:s.text},null,14,dR)],46,lR)}const pR=sn(uR,[["render",mR],["__scopeId","data-v-01b1a063"]]),Zl="__anchor-input__",gR={data(){return{softKeyboard:{isRequired:!1,isVisible:!1,trigerringElement:null,openAnimationTime:-1,height:-1,hasDataBeenCaptured:!1,heightWithoutKeyboard:-1}}},provide(){return{softKeyboard:this.softKeyboard}},computed:{...ua(Ht,{answerResponseStatuses:e=>e.questionResponseStatuses}),...ua(hs,["isValidRoom"]),...ua(Jn,{overlayType:e=>e.type}),...ua(ps,["media"])},created(){this.debouncedWindowResizeHandler=$p(this.windowResizeHandler,100,{maxWait:500}),this.onFirstTouchWrapperInstance=this.onFirstTouch,this.lastActiveElement=null,this.currentActiveElement=document.activeElement,this.doesCurrentElementRequireKeyboardFocus=!1,this.addKeyboardCalculationAnchorInput()},mounted(){window.addEventListener("focus",this.onWindowFocus.bind(this)),window.addEventListener("blur",this.onWindowBlur.bind(this)),window.addEventListener("focus",this.onElementFocus.bind(this),!0),window.addEventListener("blur",this.onElementBlur.bind(this),!0),window.addEventListener("beforeunload",this.onWindowKilled.bind(this)),window.addEventListener("resize",this.debouncedWindowResizeHandler),window.addEventListener("touchstart",this.onFirstTouchWrapperInstance,{passive:!1})},watch:{media(e,t){!A(e)&&A(t)&&(this.softKeyboard.heightWithoutKeyboard=e.height)}},methods:{...Tc(Jn,["toggleOverlay"]),...Tc(es,["handleAppStateChange","setDeviceMedia"]),onWindowFocus(){this.handleAppStateChange({appStateToBe:$n.ACTIVE})},onWindowBlur(){this.handleAppStateChange({appStateToBe:$n.BACKGROUND})},async onElementFocus(){if(this.updateActiveElement(),!this.softKeyboard.isRequired||!this.doesCurrentElementRequireKeyboardFocus||(this.softKeyboard.isVisible=!0,this.softKeyboard.trigerringElement=this.currentActiveElement,this.softKeyboard.hasDataBeenCaptured||this.currentActiveElement.id!==Zl))return;const e=await this.startKeyboardAnimationCapture();e.didTimeout||(this.softKeyboard.openAnimationTime=e.animationTime,this.softKeyboard.height=e.keyboardHeight,this.softKeyboard.hasDataBeenCaptured=!0)},async onElementBlur(){const e=this.doesCurrentElementRequireKeyboardFocus;this.updateActiveElement(),!(!this.softKeyboard.isRequired||!e)&&(this.softKeyboard.trigerringElement=null,this.softKeyboard.isVisible=!1)},onWindowKilled(e){const t=eo(this.answerResponseStatuses,[Bs.NOT_SENT,Bs.SENDING]);if(!(Qs(t).length===0)&&this.isValidRoom&&!this.overlayType){this.toggleOverlay({type:`responseUnsynced|${Oo.ON_EXIT}`});const n="Unsaved changes remain. Are you sure do you want continue?";return e.returnValue=n,n}this.handleAppStateChange({appStateToBe:$n.KILLED})},windowResizeHandler(){const e=this.media;this.setDeviceMedia(),!(this.softKeyboard.isRequired&&this.doesCurrentElementRequireKeyboardFocus&&e.width===this.media.width)&&(this.softKeyboard.heightWithoutKeyboard=this.media.height)},onFirstTouch(){this.setDeviceMedia({isFirstTouch:!0}),this.softKeyboard.isRequired=!0,window.removeEventListener("touchstart",this.onFirstTouchWrapperInstance,{passive:!1})},updateActiveElement(){this.lastActiveElement!==document.activeElement&&(this.lastActiveElement=this.currentActiveElement,this.currentActiveElement=document.activeElement,this.doesCurrentElementRequireKeyboardFocus=J_(this.currentActiveElement))},startKeyboardAnimationCapture(){return new Promise(e=>{const s=Date.now(),n=window.innerHeight,a=document.body.clientHeight,o=2;let i=0,r,c=-1,u=-1,l=window.innerHeight,d=document.body.clientHeight,m=0,_=-1;const f=()=>{const g=Math.abs(window.innerHeight-l),v=document.body.clientHeight-d,R=Date.now()-s>750;if(i+=1,l=window.innerHeight,d=document.body.clientHeight,m=Date.now()-s,R){cancelAnimationFrame(r),e({didTimeout:!0,animationTime:m,keyboardHeight:_});return}if((g!==0||v!==0)&&c===-1&&(c=i),c>=0&&c!==i&&g===0&&v===0&&(u===-1&&(u=i),i-u>=o)){const E=Math.abs(n-window.innerHeight),h=Math.abs(a-document.body.clientHeight);_=Math.max(E,h),e({animationTime:m,keyboardHeight:_}),cancelAnimationFrame(r);return}r=requestAnimationFrame(f)};r=requestAnimationFrame(f)})},addKeyboardCalculationAnchorInput(){const e=document.createElement("input");e.style.position="fixed",e.style.bottom="-10vh",e.style.width="10px",e.style.height="20px",e.style.left="50vw",e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("id",Zl),document.body.appendChild(e)}}};class fR{loadYoutubeApiScript(t){var s;try{const n=document.createElement("script"),a=`${t||"https://www.youtube.com"}/iframe_api`;n.src=a,n.async=!0,n.defer=!0;const o=document.getElementsByTagName("script")[0];(s=o.parentNode)==null||s.insertBefore(n,o)}catch{N.log("Error at youtube service")}}}const _R=new fR,hR={"v2/join":["roomHash"],"v3/join":["roomHash"],"v2/rejoin":["roomHash",3,5],"v3/rejoin":["roomHash",3,5],"v2/getQuestions":["roomHash",3,8],"v2/proceedGame":["questionId",3,6],"v2/playerGameOver":["roomHash",3,8],rejoinAnyGame:["roomHash",3,5],"v3/getQuestions":["roomHash",3,8],"v3/rejoin-game":["roomHash",3,5],"v4/join":["roomHash"],"v4/rejoin":["roomHash",3,5],"v4/proceedGame":["questionId",3,6],"v4/rejoinGame":["roomHash",3,5]};function ER(e,t){const s=hR[t];if(s){let n=Wp(e,s[0])[0];n=n||t;let a=n.length;return s[1]&&s[2]&&(a=qi(s[1],s[2])),n.slice(0,a)}}function vR(e){const{eventName:t,payload:s}=e,n={...e},a=ER(s,t);switch(t){case"v2/join":case"v2/rejoin":case"v2/getQuestions":case"v2/proceedGame":case"v2/playerGameOver":case"v3/join":case"v3/rejoin":case"v3/rejoin-game":n.payload={odata:mm(JSON.stringify(n.payload),a,t)};break}return N.info(`
ASpashtor(SOCKET)(REQUEST): - for '${t}' 
  Actual Request - `,As.bind(null,e),`
  Final Request - `,As(n),`
`),n}function AR(e){const{eventName:t,response:s}=e,n={...e},a={};switch(t){case"v2/checkRoom":case"v2/checkAssignment":case"v2/join":case"v2/rejoin":case"v2/playerGameOver":case"v3/checkRoom":case"v3/checkAssignment":case"v3/join":case"v3/rejoin":case"v3/rejoin-game":case"v4/join":case"v5/join":typeof s=="string"&&(n.response=JSON.parse(Nc(s,t)));break;case"v2/getQuestions":ot(s.questions,(o,i)=>{const r=JSON.parse(o);r.structure.answer=JSON.parse(Nc(r.structure.answer,t)),a[i]=JSON.stringify(r)}),n.response={...n.response,questions:a};break}return n.eventName=t.replace(/v3\/|v2\//g,""),N.info(`
Spashtor(SOCKET)(RESPONSE): - for '${t}' 
  Actual Response - `,As.bind(null,e),`
  Final Response - `,As(n),`
`),n}function TR(){return{request:[vR],response:[AR]}}const yR={class:"w-full h-full"},IR=["id"],SR={name:"RootBootstrapper",components:{Loading:ku},mixins:[gR],provide(){return{getTranslatedText:this.getTranslatedTextWrapper,getTranslatedServerText:L_}},computed:{...ua(ln,["selectedLanguage"]),getTranslatedTextWrapper(){return(...e)=>X(...e)}},created(){this.$nextTick().then(()=>{zm.loadQuicksand(),_R.loadYoutubeApiScript()})},mounted(){const e="updateCallInProgressStatus",t=TR();hn.init(e,t),$a.init()}},RR=Object.assign(SR,{setup(e){return(t,s)=>{const n=Bo("GlobalLoader");return Le(),Ke("div",yR,[Is(n,{name:ze(Jc).ROUTE_NAVIGATION},{loader:Vs(()=>[Is(ku)]),_:1},8,["name"]),Is(xm),Ee("div",{id:ze(Mi).ROOT},null,8,IR)])}}}),CR={install(e,t){e.directive("click-outside",{beforeMount(s,n,a){fc(n.value)&&ed(s,n,a)},unmounted(s){Qc(s)},updated(s,n,a,o){if(n.value===n.oldValue)return;const i=fc(n.oldValue),r=fc(n.value);!i&&r?ed(s,n,a):i&&!r&&Qc(s)}})}};function ed(e,t,s){if(typeof e.__vueClickOutside__=="function")return;const n=en(t.value)?t.value.callback:t.value,a=t.value.onlySingleUse===!0;if(typeof n!="function"){const c=s.context.name;let u=`[Vue-click-outside:] provided expression '${t.expression}' is not a function, but has to be`;c&&(u+=`Found in component '${c}'`),N.error("Error at clickOutside Directive",u)}let o=0;const{bubble:i}=t.modifiers,r=c=>{(i||!e.contains(c.target)&&e!==c.target)&&(n(c),a&&(o+=1)),a&&o>=1&&Qc(e)};e.__vueClickOutside__=r,document.addEventListener("click",r)}function Qc(e,t="click"){document.removeEventListener(t,e.__vueClickOutside__),e.__vueClickOutside__=null}function fc(e){return(e&&e.isActive)!==!1}const td="vLineClampValue";function wR(e,t,s){if(s){let n=Number.parseInt(t.arg,10);Number.isNaN(n)&&(N.warn("line-height argument for vue-line-clamp must be a number (of pixels), falling back to 16px"),n=16);const a=n*s;e.style.maxHeight=a?`${a}px`:"",e.style.overflowX="hidden",e.style.lineHeight=`${n}px`}else e.style.maxHeight="",e.style.overflowX=""}const sd=function(e,t,s){const n=Number.parseInt(t.value,10);if(Number.isNaN(n)){N.error("Parameter for vue-line-clamp must be a number");return}n!==e[td]&&(e[td]=n,s?s(e,t,n):e.style.webkitLineClamp=n||"")},OR={install(e,t){t={importCss:!1,textOverflow:"ellipsis",...t};const s=`
      display: block;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ${t.textOverflow};
    `;if(t.importCss){const a=window.document.styleSheets,o=`.vue-line-clamp{${s}}`;if(a&&a[0]&&a.insertRule)a.insertRule(o);else{const i=window.document.createElement("style");i.id="vue-line-clamp",i.appendChild(window.document.createTextNode(o)),window.document.head.appendChild(i)}}const n="webkitLineClamp"in document.body.style?void 0:t.fallbackFunc||wR;e.directive("line-clamp",{currentValue:0,beforeMount(a){t.importCss?a.classList.add("vue-line-clamp"):a.style.cssText+=s},mounted:(a,o)=>sd(a,o,n),updated:(a,o)=>sd(a,o,n)})}},kR={install(e){e.config.globalProperties.$toasts=bo,e.provide("$toasts",bo)}};function PR(e){window.URL=window.URL||window.webkitURL;let t;try{t=new Blob([e],{type:"application/javascript"})}catch{window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new window.BlobBuilder,t.append(e),t=t.getBlob()}return new Worker(window.URL.createObjectURL(t))}const bR=`
  let timer;
  self.onmessage = function (event) {
    switch (event.data) {
      case 'start':
        timer = setInterval(() => {
            self.postMessage('tick');
          }, 1000 );
        break;
      case 'stop':
        clearInterval(timer);
        break;
      default:
    }
  };
`,NR=PR(bR),DR={install(e){e.provide("$timerWorker",NR)}},sr={async init(){const e=await Ue(()=>import("./MicrosoftTeams.min.tPMZbVbE.js").then(t=>t.M),__vite__mapDeps([100,1,2]));N.log("MsTeams.init: Initializing Teams sdk..."),e.initialize(()=>{this.notifyAuthSuccess(),N.log("MsTeams.init: Initialization done.")})},async notifyAuthSuccess(){const e=await Ue(()=>import("./MicrosoftTeams.min.tPMZbVbE.js").then(t=>t.M),__vite__mapDeps([100,1,2]));try{const t=Ss.getItem("msftConfigAuthStartedFrom");if(t&&this.isUserLoggedIn()){N.log("MsTeams.notifyAuthSuccess: Auth started from config page. Redirecting back..."),Ss.removeItem("msftConfigAuthStartedFrom"),window.location.href=t;return}Ss.getItem("shouldNotifyMsft")&&(N.log("MsTeams.notifyAuthSuccess: notifying auth success!"),Ss.removeItem("shouldNotifyMsft"),e.authentication.notifySuccess()),document.location.href.includes("msftTeamsAuthNotify")&&(N.log("MsTeams.notifyAuthSuccess: notifying auth success!"),e.authentication.notifySuccess())}catch(t){N.error(`MsTeams.notifyAuthSuccess: Error!
`,t)}},async initiateAuthFlow(e,t=s=>{}){const s=await Ue(()=>import("./MicrosoftTeams.min.tPMZbVbE.js").then(i=>i.M),__vite__mapDeps([100,1,2])),n=qd(e);n.msftTeamsAuthNotify=!0;const a=H_(e),o=B_(n);try{Ss.setItem("shouldNotifyMsft",!0)}catch(i){N.error(`MsTeams.notifyAuthSuccess: Error!
`,i)}s.authentication.authenticate({url:`${a}?${o}`,successCallback:()=>{t(!0)},failureCallback:()=>{t(!1)},width:800,height:600})},isUserLoggedIn(){return!0},getTeamsAppId(){return"a22fbd93-4ad1-4842-b88d-bef47690f909"},async openStageView(e){const t=await Ue(()=>import("./MicrosoftTeams.min.tPMZbVbE.js").then(a=>a.M),__vite__mapDeps([100,1,2]));if(!e)return;N.log("MsTeams.openStageView: Opening app url in teams stage view ",e);const s={contentUrl:e,websiteUrl:e},n=`https://teams.microsoft.com/l/stage/${this.getTeamsAppId()}/0?context=${encodeURIComponent(JSON.stringify(s))}`;t.executeDeepLink(n)},getSession(){let e=null;try{window.sessionStorage&&(e=window.sessionStorage.getItem("msftContext"),e&&(e=JSON.parse(e)))}catch(t){N.log("Error while accessing session, ",t)}return e},createSession(){try{const e={init:!0};window.sessionStorage&&window.sessionStorage.setItem("msftContext",JSON.stringify(e))}catch(e){N.log("Error while creating session, ",e)}}},LR={install(e,t){let s=!1;if(!s){let n=sr.getSession();const a=qd(window.location.href)["ms-teams"];!n&&a&&(n=sr.createSession()),n&&(N.log("MSTeams: Initializing Teams session"),sr.init(),s=!0,N.log("MSTeams: Teams session initialized")),e.config.globalProperties.$msTeams={isTeamApp:()=>s,...sr}}}};function Vm(e){const t=e==="main"?"QuizizzAnalyticsBucket":"QuizizzAnalyticsBucketTemp";let s=[];if(window.localStorage){const n=JSON.parse(window.localStorage.getItem(t)||"{}");Array.isArray(n)?s=n:N.error(`Error at event logger getEventsInBuffer: Data for bucket(${t}) is not an Array`,n)}return s}function zR(e,t=[],s=!1){const n=e==="main"?"QuizizzAnalyticsBucket":"QuizizzAnalyticsBucketTemp";try{if(s)window.localStorage&&window.localStorage.setItem(n,JSON.stringify(t));else{let a=Vm(e);a=a.concat(t),window.localStorage&&window.localStorage.setItem(n,JSON.stringify(a))}}catch(a){N.error("Error at event logger putEventsInBuffer",a)}}function MR(){return{sessionId:Ts.getCookie("quizizz_uid"),modelDetails:{expSlot:Ts.getCookie("QUIZIZZ_EXP_SLOT"),expName:Ts.getCookie("QUIZIZZ_EXP_NAME"),platform:"web"}}}function GR(e){return!e||!e.stack?!1:e.stack.toString().includes("node_modules")}function qR(e,t){if(t.originalException&&GR(t.originalException))return null;const s={...e},n={},a=ps(),o=mt(),i=rs(),r=Dt(),c=Kn(a.media,(l,d,m)=>(l[`device_${m}`]=d,l),n),u={gameId:o.roomHash,userId:i.mongoId,playerId:r.playerId,...c};return s.extra?s.extra={...s.extra,...u}:s.extra=u,s}function UR(){const e=ln(),t=mt(),{gameType:s}=t;ka(n=>{n.setExtra("Language",`${e.selectedLanguage}`),n.setExtra("Theme",`${e.selectedTheme}`),n.setExtra("ReadAloud",`${e.readAloud}`),n.setExtra("ShowMemes",`${e.showMemes}`),n.setExtra("PlayMusic",`${e.playMusic}`),n.setExtra("PlaySFX",`${e.playSFX}`),n.setTag("gameType",s)})}function xR(e){const{store:t}=e;t.$onAction(s=>{const{name:n,args:a,store:o}=s,i=a[0]||{};let r="";try{switch(n){case"handleAppStateChange":break;case"toggleModal":r=`type:${i.type}`;break;case"updateCurrentPage":case"requestToChangePage":r=JSON.stringify(i),ka(m=>{m.setExtra("CurrentPage",o.currentPage),m.setTag("CurrentPage",o.currentPage)});break;case"joinRoomResponded":case"rejoinGameResponded":case"joinSoloGameResponded":if(o.$id!=="gameQuestions")break;ka(m=>{m.setExtra("GameOptions",JSON.stringify(i.room.options))});const c=i.responses&&typeof i.responses.length=="number"?i.responses.length:"nil";r=`Type:${i.room.type}-State:${i.room.state}-Answered:${c}-roomHash:${i.room.hash}-playerId:${i.player&&i.player.id}`;break;case"answeredCurrentQuestion":const u={ic:i.response.isCorrect,time:i.response.timeTaken,qAttempt:i.response.attempt,type:i.questionType,id:i.response.questionId};r=JSON.stringify(u);break;case"loadPreviousContext":if(o.$id!=="applicationContext")break;i||(r="No Previous Context Found");const l=C(i,"applicationContext.deviceInfo.experimentSlot",null),d=C(i,"applicationContext.deviceInfo.experimentName",null);ka(m=>{m.setExtra("experimentSlot",l),m.setExtra("experimentName",d),d!==null&&m.setTag("experimentName",d),m.setTag("sessionId",`${Ts.getCookie("quizizz_uid")}`)}),UR();break;case"userSignedIn":ka(m=>{m.setUser({id:`${i.mongoId}`})});break;case"setQuestions":if(o.$id!=="gameQuestions")break;r=`Tot- ${Object.keys(i.questions).length}`;break;case"proceedGameRespondedWithError":r=JSON.stringify(i.response);break;case"updateCallsInProgress":r=`call:${i.callBeingUpdated}-type:${i.updationType}-total:${i.callsList.length}-time:${i.callDoneTime}-`;break;case"updateIncompleteGameAction":r=`isC:${i.isComplete}-lQId:${i.lastVisibleQuestionId}`;break;case"setRunningGameResponse":case"setCompletedGameResponse":r=`len:${i.items.length}-tot:${i.total}-size:${i.pageSize}-si:${i.startIndex}`;break;case"toggleOverlay":r=`type:${i.type}`;break;case"proceedGameResponded":if(o.$id!=="gameQuestions")break;r=`fQInd:${i.forQues.id}-fQAttemptInd:${i.forQues.attemptIndex}`;break;case"checkRoomInProgress":case"checkAssignmentInProgress":r=`source:${i.startSource}-code:${i.room&&i.room.code}`;break;case"joinRoomInProgress":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"rejoinGameInProgress":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"joinSoloGameInProgress":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"playerJoinedTheGame":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"resetGame":if(o.$id!=="gameQuestions")break;r=JSON.stringify(i);break;case"exitGame":if(o.$id!=="gameQuestions")break;r=JSON.stringify(i);break;case"completedQuesAudioPrefetch":r=`for:${i.forQuestionId}`;break;case"completedQuestionImagesPrefetch":r=`for:${i.forQuestionId}`;break;case"changeRemainingQuestionsOrder":r=`qRem:${i.remainingOrder}`;break;case"setCurrentQuestion":if(o.$id!=="gameQuestions")break;ka(m=>{const _=o.isCurrentQuestionForRedemptionAttempt?`red:${o.currentQuestionNumber}`:`org:${o.currentQuestionNumber}`;m.setExtra("CurrentQuestionNum",_)});break;default:break}r!==""&&rg({message:`${n}:- ${r}`})}catch{}})}var QR={CODEBUILD_LAST_EXIT:"0",CODEBUILD_VPC_AZ:"us-east-1a",MAVEN_OPTS:"-Dmaven.wagon.httpconnectionManager.maxPerRoute=2",npm_package_devDependencies__types_node:"18.16.6",CODEBUILD_START_TIME:"1725622875291",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",CODEBUILD_BMR_URL:"https://CODEBUILD_AGENT:3000",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.4 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",CODEBUILD_AGENT_ENDPOINT:"http://127.0.0.1:7831",CODEBUILD_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",NODE_VERSION:"16.14.2",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"ip-10-192-61-148.ec2.internal",YARN_VERSION:"1.22.18",CODEBUILD_KMS_KEY_ID:"arn:aws:kms:us-east-1:399771530480:alias/aws/s3",CTS_LINK_LOCAL_ADDR:"169.254.170.3",CODEBUILD_BUILD_ID:"prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"7",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",OLDPWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_devDependencies_sass:"1.62.0",CODEBUILD_GOPATH:"/codebuild/output/src3656729744",PYTHONUNBUFFERED:"1",CODEBUILD_CI:"true",CODEBUILD_RESOLVED_SOURCE_VERSION:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",CODEBUILD_BUILD_NUMBER:"3686",CODEBUILD_BUILD_SUCCEEDING:"1",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.vitest.json --composite false",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",AWS_CONTAINER_CREDENTIALS_RELATIVE_URI:"/v2/credentials/5c8ee108-ace1-4192-a63b-78e50648f983",version:"7969606_m0qnawtx",CODEBUILD_BUILD_ARN:"arn:aws:codebuild:us-east-1:399771530480:build/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_dependencies_html2canvas:"1.4.1",AWS_EXECUTION_ENV:"AWS_ECS_EC2",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",CODEBUILD_ACTION_RUNNER_URL:"https://codefactory-us-east-1-prod-default-build-agent-executor.s3.us-east-1.amazonaws.com/cawsrunner.zip",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",CODEBUILD_INITIATOR:"infra-service/39fb5be31f064181be4a42be205ec4af",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",ECS_AGENT_URI:"http://169.254.170.2/api/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",npm_package_lint_staged___vue_1:"git add .",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",npm_package_lint_staged___js_1:"git add .",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_dependencies_videojs_wavesurfer:"3.9.0",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",ECS_CONTAINER_METADATA_URI_V4:"http://169.254.170.2/v4/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",ECS_CONTAINER_METADATA_URI:"http://169.254.170.2/v3/4b127d44-4d9e-4097-a123-c1eca4201328",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",CODEBUILD_EXECUTION_ROLE_BUILD:"true",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/usr/local/lib/node_modules/pnpm/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join/node_modules/.bin:/usr/local/lib/node_modules/pnpm/dist/node-gyp-bin:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.bin:/root/.local/bin:/google-cloud-sdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/codebuild/user/bin:/usr/.pnpm",FE_REPORT_LINK_LOCAL_ADDR:"169.254.170.8",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",CODEBUILD_LOG_PATH:"c916f1d7-1e51-4102-9e5d-0caf458c0825",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",CODEBUILD_BUILD_IMAGE:"399771530480.dkr.ecr.us-east-1.amazonaws.com/build-join:v2",componentName:"main",CODEBUILD_SOURCE_REPO_URL:"https://git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_dependencies_videojs_record:"4.6.0",npm_package_devDependencies_vite_plugin_environment:"1.1.3",npm_package_lint_staged___ts_1:"git add .",commitId:"79696063ed8cf13a1efcc6b1cbfdb7c13898de05",GOPATH:"/codebuild/output/src3656729744",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",CODEBUILD_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend",AWS_REGION:"us-east-1",CODEBUILD_BUILD_URL:"https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/prod-join-v2:c916f1d7-1e51-4102-9e5d-0caf458c0825/view/new",npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"/_gsocket/sockUpg",CODEBUILD_PROJECT_UUID:"bd3d1695-46ea-41cc-be26-ff64bf794fbf",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",CODEBUILD_AUTH_TOKEN:"08f5b67a-c53c-4177-890a-52ca7a27cfd4",CODEBUILD_CONTAINER_NAME:"default",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",PWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",npm_execpath:"/usr/local/lib/node_modules/pnpm/bin/pnpm.cjs",env:"prod",deploymentLevel:"live",CLOUD_SDK_VERSION:"256.0.0",CODEBUILD_FE_REPORT_ENDPOINT:"https://codebuild.us-east-1.amazonaws.com/",npm_package_dependencies_pinia_logger:"1.3.12",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/codebuild/output/src3656729744/src/git-codecommit.us-east-1.amazonaws.com/v1/repos/frontend/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_URL:"https://sentry.io/",SENTRY_LOG_LEVEL:"debug",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};N.log("Bootstrapping Application ver 4.0.0");const Rs=Yp({render:()=>ng(RR)}),Nu=Kp();function FR(){return QR.DISABLE_PINIA_LOGGER==="true"||!N.isStateLogAllowedInProd()}Nu.use(Jp.PiniaLogger({expanded:!1,disabled:FR()}));Nu.use(xR);Rs.use(Nu);Rs.use(ha);const $m=MR();$e.setSessionId($m.sessionId);$e.init($m.modelDetails,Vm,zR);Rs.use(OR,{});Rs.use(CR,{});Rs.use(DR);Rs.use(kR);Rs.use(LR,{});Rs.use(Xp,{themes:{"read-aloud-tooltip":{$extend:"tooltip",$resetCss:!0}}});Rs.directive("tooltip",Zp);Rs.directive("close-popper",eg);Rs.component("GlobalLoader",ZS);Rs.component("ThemedContentDiv",cR);Rs.component("ThemedBackgroundDiv",oR);Rs.component("QLoader",sR);Rs.component("ButtonV2",Kg);Rs.component("VTooltip",tg);Rs.component("VDropdown",sg);Rs.component("Tooltip",pR);Rs.provide("PageNames",P);vT(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=");document.getElementById("root")&&(document.getElementById("root").style.width="100dvw",document.getElementById("root").style.height="100dvh");wg();Rs.mount("#root");async function BR(){const e=Ma.getSentryDsnURL();e&&cg({app:Rs,dsn:e,sampleRate:1,beforeSend:(t,s)=>qR(t,s),beforeBreadcrumb:Hr.beforeBreadcrumb,ignoreErrors:Hr.ignoredErrors,tracesSampleRate:.005,replaysSessionSampleRate:.01,replaysOnErrorSampleRate:.05,integrations:[ug({router:ha}),ag({blockAllMedia:!0,maxReplayDuration:3e5})],denyUrls:Hr.denyUrls})}BR();export{V as $,hr as A,Ua as B,pR as C,Mt as D,_i as E,dk as F,Za as G,mk as H,$e as I,pk as J,gk as K,Ss as L,ln as M,yd as N,la as O,P,N as Q,Kg as R,Co as S,bo as T,Ja as U,X as V,as as W,Ca as X,Xa as Y,Dl as Z,sn as _,wC as a,em as a$,Qo as a0,Dt as a1,rs as a2,CO as a3,Ir as a4,Dm as a5,bO as a6,kO as a7,Ue as a8,Et as a9,wu as aA,Ft as aB,Kw as aC,Yw as aD,Xw as aE,Jw as aF,Ya as aG,Ht as aH,Fi as aI,Jn as aJ,On as aK,Ga as aL,ba as aM,Bi as aN,Ml as aO,$O as aP,cO as aQ,WO as aR,YO as aS,uO as aT,KO as aU,un as aV,JO as aW,XO as aX,lO as aY,Sr as aZ,ZO as a_,JS as aa,j_ as ab,PO as ac,oC as ad,es as ae,tn as af,ps as ag,hs as ah,to as ai,Sl as aj,on as ak,VO as al,rn as am,Zn as an,ro as ao,Kv as ap,Aa as aq,Bd as ar,Fe as as,WR as at,Eo as au,zc as av,Rc as aw,tC as ax,kC as ay,sR as az,OC as b,Ii as b$,ek as b0,tk as b1,zo as b2,mO as b3,sk as b4,nk as b5,jv as b6,El as b7,Au as b8,lS as b9,cC as bA,Zw as bB,ch as bC,Gd as bD,no as bE,qf as bF,Uf as bG,xf as bH,Ys as bI,tm as bJ,sf as bK,TC as bL,gC as bM,sC as bN,Iu as bO,Bw as bP,Fw as bQ,jf as bR,ho as bS,VC as bT,pS as bU,of as bV,ZR as bW,In as bX,ma as bY,eC as bZ,eO as b_,$v as ba,Go as bb,zm as bc,pO as bd,ak as be,ok as bf,zs as bg,ik as bh,vr as bi,gO as bj,Mr as bk,Ai as bl,Ut as bm,rk as bn,EC as bo,ck as bp,ao as bq,Ko as br,_C as bs,hC as bt,Ts as bu,uk as bv,So as bw,jC as bx,uC as by,xO as bz,A as c,Ly as c$,_o as c0,NO as c1,DO as c2,Bt as c3,jO as c4,Ul as c5,mI as c6,QO as c7,MO as c8,lf as c9,cu as cA,qw as cB,YR as cC,Mc as cD,$A as cE,Om as cF,fC as cG,Mm as cH,_a as cI,GO as cJ,ia as cK,JC as cL,XC as cM,ZC as cN,aC as cO,gh as cP,iw as cQ,Ql as cR,us as cS,ja as cT,BC as cU,tr as cV,UC as cW,J_ as cX,Mo as cY,zC as cZ,DC as c_,Cu as ca,bm as cb,KR as cc,SC as cd,Lm as ce,Pc as cf,cn as cg,Sh as ch,Rh as ci,Iw as cj,Rw as ck,mn as cl,rr as cm,fO as cn,Na as co,se as cp,Nm as cq,Xt as cr,ET as cs,ga as ct,Ww as cu,dC as cv,Xn as cw,vC as cx,Cn as cy,Jd as cz,Ma as d,Ji as d$,_R as d0,ow as d1,jd as d2,Cw as d3,rw as d4,sw as d5,tw as d6,pl as d7,mh as d8,ph as d9,Sc as dA,CC as dB,Ks as dC,Pa as dD,zO as dE,$d as dF,UO as dG,$R as dH,ww as dI,Qi as dJ,BO as dK,LO as dL,KC as dM,$n as dN,Po as dO,WC as dP,cw as dQ,qo as dR,Uw as dS,$a as dT,jn as dU,Ti as dV,Nn as dW,WA as dX,YC as dY,Vn as dZ,df as d_,ou as da,dw as db,zw as dc,Nw as dd,Dw as de,dS as df,Mw as dg,iC as dh,cf as di,xw as dj,Y_ as dk,pw as dl,gw as dm,Xd as dn,_w as dp,fw as dq,Tw as dr,yw as ds,Sw as dt,Ew as du,hw as dv,zn as dw,nt as dx,yC as dy,IC as dz,ke as e,XR as e$,iO as e0,pv as e1,cv as e2,mv as e3,aO as e4,Rn as e5,rO as e6,Hn as e7,vw as e8,Aw as e9,FO as eA,ra as eB,dh as eC,gf as eD,Yr as eE,GC as eF,Fl as eG,dO as eH,nC as eI,bw as eJ,lw as eK,Wi as eL,uw as eM,Vw as eN,PC as eO,bC as eP,Kc as eQ,K_ as eR,Pw as eS,ru as eT,Zc as eU,ku as eV,Wr as eW,ef as eX,jw as eY,mw as eZ,jl as e_,LC as ea,Qw as eb,vh as ec,ew as ed,$C as ee,Lw as ef,kw as eg,Gw as eh,Im as ei,Rd as ej,If as ek,mC as el,Sf as em,Wv as en,Oc as eo,JR as ep,qO as eq,Mi as er,MC as es,Hm as et,Ri as eu,pf as ev,AC as ew,li as ex,Zs as ey,RE as ez,xe as f,$w as f0,oO as f1,EO as f2,hO as f3,HO as f4,Ll as f5,tO as f6,Wo as f7,Am as f8,$r as f9,sO as fA,nO as fB,rm as fC,rC as fD,uf as fE,FC as fF,Tr as fG,nw as fH,QC as fI,fh as fJ,Vd as fK,lC as fL,rf as fM,Ow as fN,pC as fO,HC as fP,RC as fQ,TO as fa,OO as fb,wO as fc,GS as fd,Ba as fe,Oa as ff,yO as fg,F_ as fh,_O as fi,lk as fj,Yo as fk,Tm as fl,so as fm,cR as fn,AO as fo,vO as fp,_k as fq,hk as fr,Gr as fs,Gm as ft,aw as fu,Ju as fv,RO as fw,SO as fx,IO as fy,Ou as fz,Zg as g,ko as h,qC as i,FE as j,Uo as k,mt as l,Be as m,re as n,Vh as o,Hw as p,fa as q,La as r,En as s,NC as t,Xo as u,yi as v,xC as w,rt as x,fi as y,fk as z};
